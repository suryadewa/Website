/* Shield UI 1.7.28 Trial Version | Copyright 2013-2016 Shield UI Ltd. | http://www.shieldui.com/eula */
function a(b){this.ok=!1,"#"==b.charAt(0)&&(b=b.substr(1,6)),b=b.replace(/ /g,""),b=b.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var f in e)b==f&&(b=e[f]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],d=0;d<c.length;d++){var h=c[d].re,i=c[d].process,g=h.exec(b);g&&(channels=i(g),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c},this.getHelpXML=function(){for(var b=new Array,d=0;d<c.length;d++)for(var k=c[d].example,g=0;g<k.length;g++)b[b.length]=k[g];for(var l in e)b[b.length]=l;var h=document.createElement("ul");h.setAttribute("id","rgbcolor-examples");for(var d=0;d<b.length;d++)try{var j=document.createElement("li"),f=new a(b[d]),i=document.createElement("div");i.style.cssText="margin: 3px; border: 1px solid black; background:"+f.toHex()+"; color:"+f.toHex(),i.appendChild(document.createTextNode("test"));var m=document.createTextNode(" "+b[d]+" -> "+f.toRGB()+" -> "+f.toHex());j.appendChild(i),j.appendChild(m),h.appendChild(j)}catch(n){}return h}}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function f(i){var c=i||window.event,p=k.call(arguments,1),l=0,h=0,f=0,m=0,q=0,r=0;if(i=a.event.fix(c),i.type="mousewheel","detail"in c&&(f=-1*c.detail),"wheelDelta"in c&&(f=c.wheelDelta),"wheelDeltaY"in c&&(f=c.wheelDeltaY),"wheelDeltaX"in c&&(h=-1*c.wheelDeltaX),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in c&&(f=-1*c.deltaY,l=f),"deltaX"in c&&(h=c.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===c.deltaMode){var n=a.data(this,"mousewheel-line-height");l*=n,f*=n,h*=n}else if(2===c.deltaMode){var o=a.data(this,"mousewheel-page-height");l*=o,f*=o,h*=o}if(m=Math.max(Math.abs(f),Math.abs(h)),(!b||b>m)&&(b=m,g(c,m)&&(b/=40)),g(c,m)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/b),h=Math[h>=1?"floor":"ceil"](h/b),f=Math[f>=1?"floor":"ceil"](f/b),d.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();q=i.clientX-s.left,r=i.clientY-s.top}return i.deltaX=h,i.deltaY=f,i.deltaFactor=b,i.offsetX=q,i.offsetY=r,i.deltaMode=0,p.unshift(i,l,h,f),e&&clearTimeout(e),e=setTimeout(j,200),(a.event.dispatch||a.event.handle).apply(this,p)}}function j(){b=null}function g(a,b){return d.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,b,h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(a.event.fixHooks)for(var i=h.length;i;)a.event.fixHooks[h[--i]]=a.event.mouseHooks;var d=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],f,!1);else this.onmousewheel=f;a.data(this,"mousewheel-line-height",d.getLineHeight(this)),a.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],f,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(d){var c=a(d),b=c["offsetParent"in a.fn?"offsetParent":"parent"]();return b.length||(b=a("body")),parseInt(b.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(){function b(){var b={};return b.FRAMERATE=30,b.MAX_VIRTUAL_PIXELS=3e4,b.init=function(a){b.Definitions={},b.Styles={},b.Animations=[],b.Images=[],b.ctx=a,b.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},b.init(),b.ImagesLoaded=function(){for(var a=0;a<b.Images.length;a++)if(!b.Images[a].loaded)return!1;return!0},b.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},b.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")},b.ajax=function(b){var a;return a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a?(a.open("GET",b,!1),a.send(null),a.responseText):null},b.parseXml=function(a){if(window.DOMParser){var c=new DOMParser;return c.parseFromString(a,"text/xml")}a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},b.Property=function(a,b){this.name=a,this.value=b},b.Property.prototype.getValue=function(){return this.value},b.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},b.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);return(this.value+"").match(/%$/)&&(a/=100),a},b.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a},b.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a},b.Property.prototype.addOpacity=function(d){var e=this.value;if(null!=d&&""!=d&&"string"==typeof this.value){var c=new a(this.value);c.ok&&(e="rgba("+c.r+", "+c.g+", "+c.b+", "+d+")")}return new b.Property(this.name,e)},b.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)']+)/);return a&&(a=a[1]),a||(a=this.value),b.Definitions[a]},b.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},b.Property.prototype.getFillStyleDefinition=function(c,d){var a=this.getDefinition();return null!=a&&a.createGradient?a.createGradient(b.ctx,c,d):null!=a&&a.createPattern?a.createPattern(b.ctx,c):null},b.Property.prototype.getDPI=function(a){return 96},b.Property.prototype.getEM=function(d){var a=12,c=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);return c.hasValue()&&(a=c.toPixels(d)),a},b.Property.prototype.getUnits=function(){var a=this.value+"";return a.replace(/[0-9\.\-]/g,"")},b.Property.prototype.toPixels=function(c,e){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/em$/))return this.numValue()*this.getEM(c);if(a.match(/ex$/))return this.numValue()*this.getEM(c)/2;if(a.match(/px$/))return this.numValue();if(a.match(/pt$/))return this.numValue()*this.getDPI(c)*(1/72);if(a.match(/pc$/))return 15*this.numValue();if(a.match(/cm$/))return this.numValue()*this.getDPI(c)/2.54;if(a.match(/mm$/))return this.numValue()*this.getDPI(c)/25.4;if(a.match(/in$/))return this.numValue()*this.getDPI(c);if(a.match(/%$/))return this.numValue()*b.ViewPort.ComputeSize(c);var d=this.numValue();return e&&1>d?d*b.ViewPort.ComputeSize(c):d},b.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/s$/)?1e3*this.numValue():a.match(/ms$/)?this.numValue():this.numValue()},b.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},b.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(d,e,f,g,h,c){var a=null!=c?this.Parse(c):this.CreateFont("","","","","",b.ctx.font);return{fontFamily:h||a.fontFamily,fontSize:g||a.fontSize,fontStyle:d||a.fontStyle,fontWeight:f||a.fontWeight,fontVariant:e||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(h){for(var f={},d=b.trim(b.compressSpaces(h||"")).split(" "),e={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},g="",c=0;c<d.length;c++)e.fontStyle||-1==a.Styles.indexOf(d[c])?e.fontVariant||-1==a.Variants.indexOf(d[c])?e.fontWeight||-1==a.Weights.indexOf(d[c])?e.fontSize?"inherit"!=d[c]&&(g+=d[c]):("inherit"!=d[c]&&(f.fontSize=d[c].split("/")[0]),e.fontStyle=e.fontVariant=e.fontWeight=e.fontSize=!0):("inherit"!=d[c]&&(f.fontWeight=d[c]),e.fontStyle=e.fontVariant=e.fontWeight=!0):("inherit"!=d[c]&&(f.fontVariant=d[c]),e.fontStyle=e.fontVariant=!0):("inherit"!=d[c]&&(f.fontStyle=d[c]),e.fontStyle=!0);return""!=g&&(f.fontFamily=g),f}},b.ToNumberArray=function(d){for(var a=b.trim(b.compressSpaces((d||"").replace(/,/g," "))).split(" "),c=0;c<a.length;c++)a[c]=parseFloat(a[c]);return a},b.Point=function(a,b){this.x=a,this.y=b},b.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)},b.Point.prototype.applyTransform=function(a){var b=this.x*a[0]+this.y*a[2]+a[4],c=this.x*a[1]+this.y*a[3]+a[5];this.x=b,this.y=c},b.CreatePoint=function(c){var a=b.ToNumberArray(c);return new b.Point(a[0],a[1])},b.CreatePath=function(e){for(var c=b.ToNumberArray(e),d=[],a=0;a<c.length;a+=2)d.push(new b.Point(c[a],c[a+1]));return d},b.BoundingBox=function(a,b,c,d){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,b){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,b,g,h,c,d){var e=a+2/3*(g-a),f=b+2/3*(h-b),i=e+1/3*(c-a),j=f+1/3*(d-b);this.addBezierCurve(a,b,e,i,f,j,c,d)},this.addBezierCurve=function(u,n,t,s,r,q,p,o){var b=[u,n],h=[t,s],k=[r,q],j=[p,o];for(this.addPoint(b[0],b[1]),this.addPoint(j[0],j[1]),i=0;i<=1;i++){var a=function(a){return Math.pow(1-a,3)*b[i]+3*Math.pow(1-a,2)*a*h[i]+3*(1-a)*Math.pow(a,2)*k[i]+Math.pow(a,3)*j[i]},c=6*b[i]-12*h[i]+6*k[i],g=-3*b[i]+9*h[i]-9*k[i]+3*j[i],m=3*h[i]-3*b[i];if(0!=g){var l=Math.pow(c,2)-4*m*g;if(!(0>l)){var f=(-c+Math.sqrt(l))/(2*g);f>0&&1>f&&(0==i&&this.addX(a(f)),1==i&&this.addY(a(f)));var e=(-c-Math.sqrt(l))/(2*g);e>0&&1>e&&(0==i&&this.addX(a(e)),1==i&&this.addY(a(e)))}}else{if(0==c)continue;var d=-m/c;d>0&&1>d&&(0==i&&this.addX(a(d)),1==i&&this.addY(a(d)))}}},this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2},this.addPoint(a,b),this.addPoint(c,d)},b.Transform=function(g){var c=this;this.Type={},this.Type.translate=function(a){this.p=b.CreatePoint(a),this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(c){var a=b.ToNumberArray(c);this.angle=new b.Property("angle",a[0]),this.cx=a[1]||0,this.cy=a[2]||0,this.apply=function(a){a.translate(this.cx,this.cy),a.rotate(this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.applyToPoint=function(b){var a=this.angle.toRadians();b.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),b.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]),b.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(a){this.p=b.CreatePoint(a),this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(a){this.m=b.ToNumberArray(a),this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(a){a.applyTransform(this.m)}},this.Type.SkewBase=function(a){this.base=c.Type.matrix,this.base(a),this.angle=new b.Property("angle",a)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].apply(b)},this.applyToPoint=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].applyToPoint(b)};for(var d=b.trim(b.compressSpaces(g)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),a=0;a<d.length;a++){var e=d[a].split("(")[0],h=d[a].split("(")[1].replace(")",""),f=new this.Type[e](h);f.type=e,this.transforms.push(f)}},b.AspectRatio=function(d,h,n,k,o,j,q,p,l,m){h=b.compressSpaces(h),h=h.replace(/^defer\s/,"");var i=h.split(" ")[0]||"xMidYMid",a=h.split(" ")[1]||"meet",g=n/k,f=o/j,c=Math.min(g,f),e=Math.max(g,f);"meet"==a&&(k*=c,j*=c),"slice"==a&&(k*=e,j*=e),l=new b.Property("refX",l),m=new b.Property("refY",m),l.hasValue()&&m.hasValue()?d.translate(-c*l.toPixels("x"),-c*m.toPixels("y")):(i.match(/^xMid/)&&("meet"==a&&c==f||"slice"==a&&e==f)&&d.translate(n/2-k/2,0),i.match(/YMid$/)&&("meet"==a&&c==g||"slice"==a&&e==g)&&d.translate(0,o/2-j/2),i.match(/^xMax/)&&("meet"==a&&c==f||"slice"==a&&e==f)&&d.translate(n-k,0),i.match(/YMax$/)&&("meet"==a&&c==g||"slice"==a&&e==g)&&d.translate(0,o-j)),"none"==i?d.scale(g,f):"meet"==a?d.scale(c,c):"slice"==a&&d.scale(e,e),d.translate(null==q?0:-q,null==p?0:-p)},b.Element={},b.EmptyProperty=new b.Property("EMPTY",""),b.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(c,d){var a=this.attributes[c];return null!=a?a:(1==d&&(a=new b.Property(c,""),this.attributes[c]=a),a||b.EmptyProperty)},this.style=function(a,g){var c=this.styles[a];if(null!=c)return c;var d=this.attribute(a);if(null!=d&&d.hasValue())return this.styles[a]=d,d;var f=this.parent;if(null!=f){var e=f.style(a);if(null!=e&&e.hasValue())return e}return 1==g&&(c=new b.Property(a,""),this.styles[a]=c),c||b.EmptyProperty},this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(a.save(),this.attribute("mask").hasValue()){var b=this.attribute("mask").getDefinition();null!=b&&b.apply(a,this)}else if(this.style("filter").hasValue()){var c=this.style("filter").getDefinition();null!=c&&c.apply(a,this)}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}},this.setContext=function(a){},this.clearContext=function(a){},this.renderChildren=function(b){for(var a=0;a<this.children.length;a++)this.children[a].render(b)},this.addChild=function(c,d){var a=c;d&&(a=b.CreateElement(c)),a.parent=this,this.children.push(a)},null!=e&&1==e.nodeType){for(var c=0;c<e.childNodes.length;c++){var f=e.childNodes[c];1==f.nodeType&&this.addChild(f,!0),this.captureTextNodes&&3==f.nodeType&&this.addChild(new b.Element.tspan(f),!1)}for(var c=0;c<e.attributes.length;c++){var h=e.attributes[c];this.attributes[h.nodeName]=new b.Property(h.nodeName,h.nodeValue)}var a=b.Styles[e.nodeName];if(null!=a)for(var d in a)this.styles[d]=a[d];if(this.attribute("class").hasValue())for(var i=b.compressSpaces(this.attribute("class").value).split(" "),g=0;g<i.length;g++){if(a=b.Styles["."+i[g]],null!=a)for(var d in a)this.styles[d]=a[d];if(a=b.Styles[e.nodeName+"."+i[g]],null!=a)for(var d in a)this.styles[d]=a[d]}if(this.attribute("id").hasValue()){var a=b.Styles["#"+this.attribute("id").value];if(null!=a)for(var d in a)this.styles[d]=a[d]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),c=0;c<a.length;c++)if(""!=b.trim(a[c])){var j=a[c].split(":"),d=b.trim(j[0]),k=b.trim(j[1]);this.styles[d]=new b.Property(d,k)}this.attribute("id").hasValue()&&null==b.Definitions[this.attribute("id").value]&&(b.Definitions[this.attribute("id").value]=this)}},b.Element.RenderedElementBase=function(a){this.base=b.Element.ElementBase,this.base(a),this.setContext=function(a){if(this.style("fill").isUrlDefinition()){var e=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=e&&(a.fillStyle=e)}else if(this.style("fill").hasValue()){var c=this.style("fill");"currentColor"==c.value&&(c.value=this.style("color").value),a.fillStyle="none"==c.value?"rgba(0,0,0,0)":c.value}if(this.style("fill-opacity").hasValue()){var c=new b.Property("fill",a.fillStyle);c=c.addOpacity(this.style("fill-opacity").value),a.fillStyle=c.value}if(this.style("stroke").isUrlDefinition()){var e=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=e&&(a.strokeStyle=e)}else if(this.style("stroke").hasValue()){var d=this.style("stroke");"currentColor"==d.value&&(d.value=this.style("color").value),a.strokeStyle="none"==d.value?"rgba(0,0,0,0)":d.value}if(this.style("stroke-opacity").hasValue()){var d=new b.Property("stroke",a.strokeStyle);d=d.addOpacity(this.style("stroke-opacity").value),a.strokeStyle=d.value}if(this.style("stroke-width").hasValue()){var f=this.style("stroke-width").toPixels();a.lineWidth=0==f?.001:f}if(this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof a.font&&(a.font=b.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var h=new b.Transform(this.attribute("transform").value);h.apply(a)}if(this.attribute("clip-path").hasValue()){var g=this.attribute("clip-path").getDefinition();null!=g&&g.apply(a)}this.style("opacity").hasValue()&&(a.globalAlpha=this.style("opacity").numValue())}},b.Element.RenderedElementBase.prototype=new b.Element.ElementBase,b.Element.PathElementBase=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.path=function(a){return null!=a&&a.beginPath(),new b.BoundingBox},this.renderChildren=function(c){this.path(c),b.Mouse.checkPath(this,c),""!=c.fillStyle&&c.fill(),""!=c.strokeStyle&&c.stroke();var a=this.getMarkers();if(null!=a){if(this.style("marker-start").isUrlDefinition()){var e=this.style("marker-start").getDefinition();e.render(c,a[0][0],a[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var e=this.style("marker-mid").getDefinition(),d=1;d<a.length-1;d++)e.render(c,a[d][0],a[d][1]);if(this.style("marker-end").isUrlDefinition()){var e=this.style("marker-end").getDefinition();e.render(c,a[a.length-1][0],a[a.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},b.Element.PathElementBase.prototype=new b.Element.RenderedElementBase,b.Element.svg=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseClearContext=this.clearContext,this.clearContext=function(a){this.baseClearContext(a),b.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.baseSetContext(a),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var c=b.ViewPort.width(),d=b.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){c=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");var f=0,g=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(f=-this.attribute("refX").toPixels("x"),g=-this.attribute("refY").toPixels("y")),a.beginPath(),a.moveTo(f,g),a.lineTo(c,g),a.lineTo(c,d),a.lineTo(f,d),a.closePath(),a.clip()}if(b.ViewPort.SetCurrent(c,d),this.attribute("viewBox").hasValue()){var e=b.ToNumberArray(this.attribute("viewBox").value),h=e[0],i=e[1];c=e[2],d=e[3],b.AspectRatio(a,this.attribute("preserveAspectRatio").value,b.ViewPort.width(),c,b.ViewPort.height(),d,h,i,this.attribute("refX").value,this.attribute("refY").value),b.ViewPort.RemoveCurrent(),b.ViewPort.SetCurrent(e[2],e[3])}}},b.Element.svg.prototype=new b.Element.RenderedElementBase,b.Element.rect=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(d){var a=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y"),e=this.attribute("rx").toPixels("x"),h=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=e),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(e=h),e=Math.min(e,f/2),h=Math.min(h,g/2),null!=d&&(d.beginPath(),d.moveTo(a+e,c),d.lineTo(a+f-e,c),d.quadraticCurveTo(a+f,c,a+f,c+h),d.lineTo(a+f,c+g-h),d.quadraticCurveTo(a+f,c+g,a+f-e,c+g),d.lineTo(a+e,c+g),d.quadraticCurveTo(a,c+g,a,c+g-h),d.lineTo(a,c+h),d.quadraticCurveTo(a,c,a+e,c),d.closePath()),new b.BoundingBox(a,c,a+f,c+g)}},b.Element.rect.prototype=new b.Element.PathElementBase,b.Element.circle=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(c){var d=this.attribute("cx").toPixels("x"),e=this.attribute("cy").toPixels("y"),a=this.attribute("r").toPixels();return null!=c&&(c.beginPath(),c.arc(d,e,a,0,2*Math.PI,!0),c.closePath()),new b.BoundingBox(d-a,e-a,d+a,e+a)}},b.Element.circle.prototype=new b.Element.PathElementBase,b.Element.ellipse=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(f){var g=4*((Math.sqrt(2)-1)/3),e=this.attribute("rx").toPixels("x"),d=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),c=this.attribute("cy").toPixels("y");return null!=f&&(f.beginPath(),f.moveTo(a,c-d),f.bezierCurveTo(a+g*e,c-d,a+e,c-g*d,a+e,c),f.bezierCurveTo(a+e,c+g*d,a+g*e,c+d,a,c+d),f.bezierCurveTo(a-g*e,c+d,a-e,c+g*d,a-e,c),f.bezierCurveTo(a-e,c-g*d,a-g*e,c-d,a,c-d),f.closePath()),new b.BoundingBox(a-e,c-d,a+e,c+d)}},b.Element.ellipse.prototype=new b.Element.PathElementBase,b.Element.line=function(a){this.base=b.Element.PathElementBase,this.base(a),this.getPoints=function(){return[new b.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new b.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(c){var a=this.getPoints();return null!=c&&(c.beginPath(),c.moveTo(a[0].x,a[0].y),c.lineTo(a[1].x,a[1].y)),new b.BoundingBox(a[0].x,a[0].y,a[1].x,a[1].y)},this.getMarkers=function(){var a=this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}},b.Element.line.prototype=new b.Element.PathElementBase,b.Element.polyline=function(a){this.base=b.Element.PathElementBase,this.base(a),this.points=b.CreatePath(this.attribute("points").value),this.path=function(c){var d=new b.BoundingBox(this.points[0].x,this.points[0].y);null!=c&&(c.beginPath(),c.moveTo(this.points[0].x,this.points[0].y));for(var a=1;a<this.points.length;a++)d.addPoint(this.points[a].x,this.points[a].y),null!=c&&c.lineTo(this.points[a].x,this.points[a].y);return d},this.getMarkers=function(){for(var a=[],b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);return a.push([this.points[this.points.length-1],a[a.length-1][1]]),a}},b.Element.polyline.prototype=new b.Element.PathElementBase,b.Element.polygon=function(a){this.base=b.Element.polyline,this.base(a),this.basePath=this.path,this.path=function(a){var b=this.basePath(a);return null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath()),b}},b.Element.polygon.prototype=new b.Element.polyline,b.Element.path=function(c){this.base=b.Element.PathElementBase,this.base(c);var a=this.attribute("d").value;a=a.replace(/,/gm," "),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=b.compressSpaces(a),a=b.trim(a),this.PathParser=new function(a){this.tokens=a.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new b.Point(0,0),this.control=new b.Point(0,0),this.current=new b.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var a=new b.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a,a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a,a},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase())return this.current;var a=new b.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return a},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,b,c){null!=c&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c)),this.addMarkerAngle(a,null==b?null:b.angleTo(a))},this.addMarkerAngle=function(a,b){this.points.push(a),this.angles.push(b)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(a),this.path=function(c){var a=this.PathParser;a.reset();var k=new b.BoundingBox;for(null!=c&&c.beginPath();!a.isEnd();)switch(a.nextCommand(),a.command){case"M":case"m":var h=a.getAsCurrentPoint();for(a.addMarker(h),k.addPoint(h.x,h.y),null!=c&&c.moveTo(h.x,h.y),a.start=a.current;!a.isCommandOrEnd();){var h=a.getAsCurrentPoint();a.addMarker(h,a.start),k.addPoint(h.x,h.y),null!=c&&c.lineTo(h.x,h.y)}break;case"L":case"l":for(;!a.isCommandOrEnd();){var F=a.current,h=a.getAsCurrentPoint();a.addMarker(h,F),k.addPoint(h.x,h.y),null!=c&&c.lineTo(h.x,h.y)}break;case"H":case"h":for(;!a.isCommandOrEnd();){var r=new b.Point((a.isRelativeCommand()?a.current.x:0)+a.getScalar(),a.current.y);a.addMarker(r,a.current),a.current=r,k.addPoint(a.current.x,a.current.y),null!=c&&c.lineTo(a.current.x,a.current.y)}break;case"V":case"v":for(;!a.isCommandOrEnd();){var r=new b.Point(a.current.x,(a.isRelativeCommand()?a.current.y:0)+a.getScalar());a.addMarker(r,a.current),a.current=r,k.addPoint(a.current.x,a.current.y),null!=c&&c.lineTo(a.current.x,a.current.y)}break;case"C":case"c":for(;!a.isCommandOrEnd();){var j=a.current,n=a.getPoint(),e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,n),k.addBezierCurve(j.x,j.y,n.x,n.y,e.x,e.y,d.x,d.y),null!=c&&c.bezierCurveTo(n.x,n.y,e.x,e.y,d.x,d.y)}break;case"S":case"s":for(;!a.isCommandOrEnd();){var j=a.current,n=a.getReflectedControlPoint(),e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,n),k.addBezierCurve(j.x,j.y,n.x,n.y,e.x,e.y,d.x,d.y),null!=c&&c.bezierCurveTo(n.x,n.y,e.x,e.y,d.x,d.y)}break;case"Q":case"q":for(;!a.isCommandOrEnd();){
var j=a.current,e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,e),k.addQuadraticCurve(j.x,j.y,e.x,e.y,d.x,d.y),null!=c&&c.quadraticCurveTo(e.x,e.y,d.x,d.y)}break;case"T":case"t":for(;!a.isCommandOrEnd();){var j=a.current,e=a.getReflectedControlPoint();a.control=e;var d=a.getAsCurrentPoint();a.addMarker(d,e,e),k.addQuadraticCurve(j.x,j.y,e.x,e.y,d.x,d.y),null!=c&&c.quadraticCurveTo(e.x,e.y,d.x,d.y)}break;case"A":case"a":for(;!a.isCommandOrEnd();){var j=a.current,f=a.getScalar(),g=a.getScalar(),m=a.getScalar()*(Math.PI/180),E=a.getScalar(),v=a.getScalar(),d=a.getAsCurrentPoint(),i=new b.Point(Math.cos(m)*(j.x-d.x)/2+Math.sin(m)*(j.y-d.y)/2,-Math.sin(m)*(j.x-d.x)/2+Math.cos(m)*(j.y-d.y)/2),w=Math.pow(i.x,2)/Math.pow(f,2)+Math.pow(i.y,2)/Math.pow(g,2);w>1&&(f*=Math.sqrt(w),g*=Math.sqrt(w));var q=(E==v?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(g,2)-Math.pow(f,2)*Math.pow(i.y,2)-Math.pow(g,2)*Math.pow(i.x,2))/(Math.pow(f,2)*Math.pow(i.y,2)+Math.pow(g,2)*Math.pow(i.x,2)));isNaN(q)&&(q=0);var l=new b.Point(q*f*i.y/g,q*-g*i.x/f),o=new b.Point((j.x+d.x)/2+Math.cos(m)*l.x-Math.sin(m)*l.y,(j.y+d.y)/2+Math.sin(m)*l.x+Math.cos(m)*l.y),B=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},t=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(B(a)*B(b))},A=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(t(a,b))},y=A([1,0],[(i.x-l.x)/f,(i.y-l.y)/g]),z=[(i.x-l.x)/f,(i.y-l.y)/g],x=[(-i.x-l.x)/f,(-i.y-l.y)/g],s=A(z,x);t(z,x)<=-1&&(s=Math.PI),t(z,x)>=1&&(s=0);var u=1-v?1:-1,p=y+u*(s/2),G=new b.Point(o.x+f*Math.cos(p),o.y+g*Math.sin(p));if(a.addMarkerAngle(G,p-u*Math.PI/2),a.addMarkerAngle(d,p-u*Math.PI),k.addPoint(d.x,d.y),null!=c){var t=f>g?f:g,C=f>g?1:f/g,D=f>g?g/f:1;c.translate(o.x,o.y),c.rotate(m),c.scale(C,D),c.arc(0,0,t,y,y+s,1-v),c.scale(1/C,1/D),c.rotate(-m),c.translate(-o.x,-o.y)}}break;case"Z":case"z":null!=c&&c.closePath(),a.current=a.start}return k},this.getMarkers=function(){for(var b=this.PathParser.getMarkerPoints(),d=this.PathParser.getMarkerAngles(),c=[],a=0;a<b.length;a++)c.push([b[a],d[a]]);return c}},b.Element.path.prototype=new b.Element.PathElementBase,b.Element.pattern=function(a){this.base=b.Element.ElementBase,this.base(a),this.createPattern=function(i,k){var g=this.attribute("width").toPixels("x",!0),h=this.attribute("height").toPixels("y",!0),a=new b.Element.svg;a.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new b.Property("width",g+"px"),a.attributes.height=new b.Property("height",h+"px"),a.attributes.transform=new b.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var c=document.createElement("canvas");c.width=g,c.height=h;var d=c.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&d.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var e=-1;1>=e;e++)for(var f=-1;1>=f;f++)d.save(),d.translate(e*c.width,f*c.height),a.render(d),d.restore();var j=i.createPattern(c,"repeat");return j}},b.Element.pattern.prototype=new b.Element.ElementBase,b.Element.marker=function(a){this.base=b.Element.ElementBase,this.base(a),this.baseRender=this.render,this.render=function(a,d,e){a.translate(d.x,d.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(e),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(a.lineWidth,a.lineWidth),a.save();var c=new b.Element.svg;c.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value),c.attributes.refX=new b.Property("refX",this.attribute("refX").value),c.attributes.refY=new b.Property("refY",this.attribute("refY").value),c.attributes.width=new b.Property("width",this.attribute("markerWidth").value),c.attributes.height=new b.Property("height",this.attribute("markerHeight").value),c.attributes.fill=new b.Property("fill",this.attribute("fill").valueOrDefault("black")),c.attributes.stroke=new b.Property("stroke",this.attribute("stroke").valueOrDefault("none")),c.children=this.children,c.render(a),a.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(1/a.lineWidth,1/a.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(-e),a.translate(-d.x,-d.y)}},b.Element.marker.prototype=new b.Element.ElementBase,b.Element.defs=function(a){this.base=b.Element.ElementBase,this.base(a),this.render=function(a){}},b.Element.defs.prototype=new b.Element.ElementBase,b.Element.GradientBase=function(d){this.base=b.Element.ElementBase,this.base(d),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var a=0;a<this.children.length;a++){var c=this.children[a];"stop"==c.type&&this.stops.push(c)}this.getGradient=function(){},this.createGradient=function(n,m,l){var a=this;this.attribute("xlink:href").hasValue()&&(a=this.attribute("xlink:href").getDefinition());var k=function(a){if(l.hasValue()){var c=new b.Property("color",a);return c.addOpacity(l.value).value}return a},g=this.getGradient(n,m);if(null==g)return k(a.stops[a.stops.length-1].color);for(var e=0;e<a.stops.length;e++)g.addColorStop(a.stops[e].offset,k(a.stops[e].color));if(this.attribute("gradientTransform").hasValue()){var h=b.ViewPort.viewPorts[0],d=new b.Element.rect;d.attributes.x=new b.Property("x",-b.MAX_VIRTUAL_PIXELS/3),d.attributes.y=new b.Property("y",-b.MAX_VIRTUAL_PIXELS/3),d.attributes.width=new b.Property("width",b.MAX_VIRTUAL_PIXELS),d.attributes.height=new b.Property("height",b.MAX_VIRTUAL_PIXELS);var j=new b.Element.g;j.attributes.transform=new b.Property("transform",this.attribute("gradientTransform").value),j.children=[d];var c=new b.Element.svg;c.attributes.x=new b.Property("x",0),c.attributes.y=new b.Property("y",0),c.attributes.width=new b.Property("width",h.width),c.attributes.height=new b.Property("height",h.height),c.children=[j];var f=document.createElement("canvas");f.width=h.width,f.height=h.height;var i=f.getContext("2d");return i.fillStyle=g,c.render(i),i.createPattern(f,"no-repeat")}return g}},b.Element.GradientBase.prototype=new b.Element.ElementBase,b.Element.linearGradient=function(a){this.base=b.Element.GradientBase,this.base(a),this.getGradient=function(f,g){var a=g.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var b="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),c="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),d="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return b==d&&c==e?null:f.createLinearGradient(b,c,d,e)}},b.Element.linearGradient.prototype=new b.Element.GradientBase,b.Element.radialGradient=function(a){this.base=b.Element.GradientBase,this.base(a),this.getGradient=function(f,g){var a=g.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var b="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),c="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),d=b,e=c;this.attribute("fx").hasValue()&&(d="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(e="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var h="objectBoundingBox"==this.gradientUnits?(a.width()+a.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return f.createRadialGradient(d,e,0,b,c,h)}},b.Element.radialGradient.prototype=new b.Element.GradientBase,b.Element.stop=function(c){this.base=b.Element.ElementBase,this.base(c),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var a=this.style("stop-color");this.style("stop-opacity").hasValue()&&(a=a.addOpacity(this.style("stop-opacity").value)),this.color=a.value},b.Element.stop.prototype=new b.Element.ElementBase,b.Element.AnimateBase=function(a){this.base=b.Element.ElementBase,this.base(a),b.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var b=this.attribute("attributeType").value,a=this.attribute("attributeName").value;return"CSS"==b?this.parent.style(a,!0):this.parent.attribute(a,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(c){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+c;var b=!1;if(this.begin<this.duration){var a=this.calcValue();if(this.attribute("type").hasValue()){var d=this.attribute("type").value;a=d+"("+a+")"}this.getProperty().value=a,b=!0}return b},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var c=a.progress*(this.values.value.length-1),d=Math.floor(c),e=Math.ceil(c);a.from=new b.Property("from",parseFloat(this.values.value[d])),a.to=new b.Property("to",parseFloat(this.values.value[e])),a.progress=(c-d)/(e-d)}else a.from=this.from,a.to=this.to;return a}},b.Element.AnimateBase.prototype=new b.Element.ElementBase,b.Element.animate=function(a){this.base=b.Element.AnimateBase,this.base(a),this.calcValue=function(){var a=this.progress(),b=a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress;return b+this.initialUnits}},b.Element.animate.prototype=new b.Element.AnimateBase,b.Element.animateColor=function(c){this.base=b.Element.AnimateBase,this.base(c),this.calcValue=function(){var c=this.progress(),b=new a(c.from.value),d=new a(c.to.value);if(b.ok&&d.ok){var e=b.r+(d.r-b.r)*c.progress,f=b.g+(d.g-b.g)*c.progress,g=b.b+(d.b-b.b)*c.progress;return"rgb("+parseInt(e,10)+","+parseInt(f,10)+","+parseInt(g,10)+")"}return this.attribute("from").value}},b.Element.animateColor.prototype=new b.Element.AnimateBase,b.Element.animateTransform=function(a){this.base=b.Element.AnimateBase,this.base(a),this.calcValue=function(){for(var c=this.progress(),d=b.ToNumberArray(c.from.value),f=b.ToNumberArray(c.to.value),e="",a=0;a<d.length;a++)e+=d[a]+(f[a]-d[a])*c.progress+" ";return e}},b.Element.animateTransform.prototype=new b.Element.animate,b.Element.font=function(d){this.base=b.Element.ElementBase,this.base(d),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var c=0;c<this.children.length;c++){var a=this.children[c];"font-face"==a.type?(this.fontFace=a,a.style("font-family").hasValue()&&(b.Definitions[a.style("font-family").value]=this)):"missing-glyph"==a.type?this.missingGlyph=a:"glyph"==a.type&&(""!=a.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[a.unicode]&&(this.glyphs[a.unicode]=[]),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a)}},b.Element.font.prototype=new b.Element.ElementBase,b.Element.fontface=function(a){this.base=b.Element.ElementBase,this.base(a),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},b.Element.fontface.prototype=new b.Element.ElementBase,b.Element.missingglyph=function(a){this.base=b.Element.path,this.base(a),this.horizAdvX=0},b.Element.missingglyph.prototype=new b.Element.path,b.Element.glyph=function(a){this.base=b.Element.path,this.base(a),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},b.Element.glyph.prototype=new b.Element.path,b.Element.text=function(a){this.captureTextNodes=!0,this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.style("dominant-baseline").hasValue()&&(a.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(a.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(b){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var a=0;a<this.children.length;a++)this.renderChild(b,this,a)},this.renderChild=function(c,h,b){var a=h.children[b];a.attribute("x").hasValue()?a.x=a.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),a.attribute("dx").hasValue()&&(this.x+=a.attribute("dx").toPixels("x")),a.x=this.x);var f=a.measureText(c);if("start"!=this.textAnchor&&(0==b||a.attribute("x").hasValue())){for(var d=f,e=b+1;e<this.children.length;e++){var g=this.children[e];if(g.attribute("x").hasValue())break;d+=g.measureText(c)}a.x-="end"==this.textAnchor?d:d/2}this.x=a.x+f,a.attribute("y").hasValue()?a.y=a.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),a.attribute("dy").hasValue()&&(this.y+=a.attribute("dy").toPixels("y")),a.y=this.y),this.y=a.y,a.render(c);for(var b=0;b<a.children.length;b++)this.renderChild(c,a,b)}},b.Element.text.prototype=new b.Element.RenderedElementBase,b.Element.TextElementBase=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.getGlyph=function(c,b,a){var e=b[a],d=null;if(c.isArabic){var f="isolated";(0==a||" "==b[a-1])&&a<b.length-2&&" "!=b[a+1]&&(f="terminal"),a>0&&" "!=b[a-1]&&a<b.length-2&&" "!=b[a+1]&&(f="medial"),a>0&&" "!=b[a-1]&&(a==b.length-1||" "==b[a+1])&&(f="initial"),"undefined"!=typeof c.glyphs[e]&&(d=c.glyphs[e][f],null==d&&"glyph"==c.glyphs[e].type&&(d=c.glyphs[e]))}else d=c.glyphs[e];return null==d&&(d=c.missingGlyph),d},this.renderChildren=function(a){var c=this.parent.style("font-family").getDefinition();if(null==c)""!=a.fillStyle&&a.fillText(b.compressSpaces(this.getText()),this.x,this.y),""!=a.strokeStyle&&a.strokeText(b.compressSpaces(this.getText()),this.x,this.y);else{var g=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(b.Font.Parse(b.ctx.font).fontStyle),e=this.getText();c.isRTL&&(e=e.split("").reverse().join(""));for(var h=b.ToNumberArray(this.parent.attribute("dx").value),d=0;d<e.length;d++){var j=this.getGlyph(c,e,d),f=g/c.fontFace.unitsPerEm;a.translate(this.x,this.y),a.scale(f,-f);var k=a.lineWidth;a.lineWidth=a.lineWidth*c.fontFace.unitsPerEm/g,"italic"==i&&a.transform(1,0,.4,1,0,0),j.render(a),"italic"==i&&a.transform(1,0,-.4,1,0,0),a.lineWidth=k,a.scale(1/f,-1/f),a.translate(-this.x,-this.y),this.x+=g*(j.horizAdvX||c.horizAdvX)/c.fontFace.unitsPerEm,"undefined"==typeof h[d]||isNaN(h[d])||(this.x+=h[d])}}},this.getText=function(){},this.measureText=function(c){var d=this.parent.style("font-family").getDefinition();if(null!=d){var i=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize),f=0,e=this.getText();d.isRTL&&(e=e.split("").reverse().join(""));for(var g=b.ToNumberArray(this.parent.attribute("dx").value),a=0;a<e.length;a++){var j=this.getGlyph(d,e,a);f+=(j.horizAdvX||d.horizAdvX)*i/d.fontFace.unitsPerEm,"undefined"==typeof g[a]||isNaN(g[a])||(f+=g[a])}return f}var h=b.compressSpaces(this.getText());if(!c.measureText)return 10*h.length;c.save(),this.setContext(c);var k=c.measureText(h).width;return c.restore(),k}},b.Element.TextElementBase.prototype=new b.Element.RenderedElementBase,b.Element.tspan=function(a){this.captureTextNodes=!0,this.base=b.Element.TextElementBase,this.base(a),this.text=a.nodeValue||a.text||"",this.getText=function(){return this.text}},b.Element.tspan.prototype=new b.Element.TextElementBase,b.Element.tref=function(a){this.base=b.Element.TextElementBase,this.base(a),this.getText=function(){var a=this.attribute("xlink:href").getDefinition();return null!=a?a.children[0].getText():void 0}},b.Element.tref.prototype=new b.Element.TextElementBase,b.Element.a=function(a){this.base=b.Element.TextElementBase,this.base(a),this.hasText=!0;for(var c=0;c<a.childNodes.length;c++)3!=a.childNodes[c].nodeType&&(this.hasText=!1);this.text=this.hasText?a.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(a){if(this.hasText){this.baseRenderChildren(a);var d=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);b.Mouse.checkBoundingBox(this,new b.BoundingBox(this.x,this.y-d.toPixels("y"),this.x+this.measureText(a),this.y))}else{var c=new b.Element.g;c.children=this.children,c.parent=this,c.render(a)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){b.ctx.canvas.style.cursor="pointer"}},b.Element.a.prototype=new b.Element.TextElementBase,b.Element.image=function(e){this.base=b.Element.RenderedElementBase,this.base(e);var a=this.attribute("xlink:href").value,c=a.match(/\.svg$/);if(b.Images.push(this),this.loaded=!1,c)this.img=b.ajax(a),this.loaded=!0;else{this.img=document.createElement("img");var d=this;this.img.onload=function(){d.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+a+'" not found'),d.loaded=!0},this.img.src=a}this.renderChildren=function(a){var f=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");0!=d&&0!=e&&(a.save(),c?a.drawSvg(this.img,f,g,d,e):(a.translate(f,g),b.AspectRatio(a,this.attribute("preserveAspectRatio").value,d,this.img.width,e,this.img.height,0,0),a.drawImage(this.img,0,0)),a.restore())},this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");return new b.BoundingBox(a,c,a+d,c+e)}},b.Element.image.prototype=new b.Element.RenderedElementBase,b.Element.g=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.getBoundingBox=function(){for(var c=new b.BoundingBox,a=0;a<this.children.length;a++)c.addBoundingBox(this.children[a].getBoundingBox());return c}},b.Element.g.prototype=new b.Element.RenderedElementBase,b.Element.symbol=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(c){if(this.baseSetContext(c),this.attribute("viewBox").hasValue()){var a=b.ToNumberArray(this.attribute("viewBox").value),d=a[0],e=a[1];width=a[2],height=a[3],b.AspectRatio(c,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,d,e),b.ViewPort.SetCurrent(a[2],a[3])}}},b.Element.symbol.prototype=new b.Element.RenderedElementBase,b.Element.style=function(o){this.base=b.Element.ElementBase,this.base(o);for(var d="",a=0;a<o.childNodes.length;a++)d+=o.childNodes[a].nodeValue;d=d.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),d=b.compressSpaces(d);for(var k=d.split("}"),a=0;a<k.length;a++)if(""!=b.trim(k[a]))for(var t=k[a].split("{"),r=t[0].split(","),f=t[1].split(";"),p=0;p<r.length;p++){var j=b.trim(r[p]);if(""!=j){for(var h={},c=0;c<f.length;c++){var m=f[c].indexOf(":"),i=f[c].substr(0,m),q=f[c].substr(m+1,f[c].length-m);null!=i&&null!=q&&(h[b.trim(i)]=new b.Property(b.trim(i),b.trim(q)))}if(b.Styles[j]=h,"@font-face"==j)for(var u=h["font-family"].value.replace(/"/g,""),g=h.src.value.split(","),e=0;e<g.length;e++)if(g[e].indexOf('format("svg")')>0)for(var n=g[e].indexOf("url"),v=g[e].indexOf(")",n),w=g[e].substr(n+5,v-n-6),x=b.parseXml(b.ajax(w)),s=x.getElementsByTagName("font"),l=0;l<s.length;l++){var y=b.CreateElement(s[l]);b.Definitions[u]=y}}}},b.Element.style.prototype=new b.Element.ElementBase,b.Element.use=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var a=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(a.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(a.attribute("height",!0).value=this.attribute("height").value),a},this.path=function(b){var a=this.getDefinition();null!=a&&a.path(b)},this.renderChildren=function(b){var a=this.getDefinition();if(null!=a){var c=a.parent;a.parent=null,a.render(b),a.parent=c}}},b.Element.use.prototype=new b.Element.RenderedElementBase,b.Element.mask=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(j,f){var c=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),b=this.attribute("height").toPixels("y"),k=f.attribute("mask").value;f.attribute("mask").value="";var h=document.createElement("canvas");h.width=c+e,h.height=d+b;var i=h.getContext("2d");this.renderChildren(i);var g=document.createElement("canvas");g.width=c+e,g.height=d+b;var a=g.getContext("2d");f.render(a),a.globalCompositeOperation="destination-in",a.fillStyle=i.createPattern(h,"no-repeat"),a.fillRect(0,0,c+e,d+b),j.fillStyle=a.createPattern(g,"no-repeat"),j.fillRect(0,0,c+e,d+b),f.attribute("mask").value=k},this.render=function(a){}},b.Element.mask.prototype=new b.Element.ElementBase,b.Element.clipPath=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(b){for(var a=0;a<this.children.length;a++)this.children[a].path&&(this.children[a].path(b),b.clip())},this.render=function(a){}},b.Element.clipPath.prototype=new b.Element.ElementBase,b.Element.filter=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(m,a){var h=a.getBoundingBox(),f=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y");("image"==a.type||0==f||0==g)&&(f=h.x1,g=h.y1);var b=this.attribute("width").toPixels("x"),c=this.attribute("height").toPixels("y");("image"==a.type||0==b||0==c)&&(b=h.width(),c=h.height());var n=a.style("filter").value;a.style("filter").value="";var l="image"==a.type?0:.2,d=l*b,e=l*c,i=document.createElement("canvas");i.width=b+2*d,i.height=c+2*e;var k=i.getContext("2d");k.translate(-f+d,-g+e),a.render(k);for(var j=0;j<this.children.length;j++)this.children[j].apply(k,0,0,b+2*d,c+2*e);m.drawImage(i,0,0,b+2*d,c+2*e,f-d,g-e,b+2*d,c+2*e),a.style("filter",!0).value=n},this.render=function(a){}},b.Element.filter.prototype=new b.Element.ElementBase,b.Element.feColorMatrix=function(d){function a(a,b,c,d,f,e){return a[c*d*4+4*b+e]}function c(a,b,c,d,g,e,f){a[c*d*4+4*b+e]=f}this.base=b.Element.ElementBase,this.base(d),this.apply=function(h,e,f,b,d){for(var g=h.getImageData(0,0,b,d),f=0;d>f;f++)for(var e=0;b>e;e++){var j=a(g.data,e,f,b,d,0),k=a(g.data,e,f,b,d,1),l=a(g.data,e,f,b,d,2),i=(j+k+l)/3;c(g.data,e,f,b,d,0,i),c(g.data,e,f,b,d,1,i),c(g.data,e,f,b,d,2,i)}h.clearRect(0,0,b,d),h.putImageData(g,0,0)}},b.Element.filter.prototype=new b.Element.feColorMatrix,b.Element.feGaussianBlur=function(d){function e(a){a=Math.max(a,.01);var c=Math.ceil(4*a)+1;mask=[];for(var b=0;c>b;b++)mask[b]=Math.exp(-.5*(b/a)*(b/a));return mask}function f(a){for(var c=0,b=1;b<a.length;b++)c+=Math.abs(a[b]);c=2*c+Math.abs(a[0]);for(var b=0;b<a.length;b++)a[b]/=c;return a}function c(i,o,k,b,f){for(var d=0;f>d;d++)for(var c=0;b>c;c++)for(var j=a(i,c,d,b,f,3)/255,e=0;4>e;e++){for(var n=k[0]*(0==j?255:a(i,c,d,b,f,e))*(0==j||3==e?1:j),h=1;h<k.length;h++){var l=a(i,Math.max(c-h,0),d,b,f,3)/255,m=a(i,Math.min(c+h,b-1),d,b,f,3)/255;n+=k[h]*((0==l?255:a(i,Math.max(c-h,0),d,b,f,e))*(0==l||3==e?1:l)+(0==m?255:a(i,Math.min(c+h,b-1),d,b,f,e))*(0==m||3==e?1:m))}g(o,d,c,f,b,e,n)}}function a(a,b,c,d,f,e){return a[c*d*4+4*b+e]}function g(a,b,c,d,g,e,f){a[c*d*4+4*b+e]=f}function h(g,a,b,i){var h=g.getImageData(0,0,a,b),d=e(i);d=f(d),tmp=[],c(h.data,tmp,d,a,b),c(tmp,h.data,d,b,a),g.clearRect(0,0,a,b),g.putImageData(h,0,0)}this.base=b.Element.ElementBase,this.base(d),this.apply=function(a,d,e,b,c){h(a,b,c,this.attribute("stdDeviation").numValue())}},b.Element.filter.prototype=new b.Element.feGaussianBlur,b.Element.title=function(a){},b.Element.title.prototype=new b.Element.ElementBase,b.Element.desc=function(a){},b.Element.desc.prototype=new b.Element.ElementBase,b.Element.MISSING=function(a){console&&console.log("ERROR: Element '"+a.nodeName+"' not yet implemented.")},b.Element.MISSING.prototype=new b.Element.ElementBase,b.CreateElement=function(a){var c=a.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");var d=null;return d="undefined"!=typeof b.Element[c]?new b.Element[c](a):new b.Element.MISSING(a),d.type=a.nodeName,d},b.load=function(a,c){b.loadXml(a,b.ajax(c))},b.loadXml=function(a,c){b.loadXmlDoc(a,b.parseXml(c))},b.loadXmlDoc=function(c,h){b.init(c);var e=function(a){for(var b=c.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;return window.scrollX&&(a.x+=window.scrollX),window.scrollY&&(a.y+=window.scrollY),a};1!=b.opts.ignoreMouse&&(c.canvas.onclick=function(a){var c=e(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onclick(c.x,c.y)},c.canvas.onmousemove=function(a){var c=e(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onmousemove(c.x,c.y)});var a=b.CreateElement(h.documentElement);a.root=!0;var f=!0,g=function(){b.ViewPort.Clear(),c.canvas.parentNode&&b.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight),1!=b.opts.ignoreDimensions&&(a.style("width").hasValue()&&(c.canvas.width=a.style("width").toPixels("x"),c.canvas.style.width=c.canvas.width+"px"),a.style("height").hasValue()&&(c.canvas.height=a.style("height").toPixels("y"),c.canvas.style.height=c.canvas.height+"px"));var d=c.canvas.clientWidth||c.canvas.width,e=c.canvas.clientHeight||c.canvas.height;if(1==b.opts.ignoreDimensions&&a.style("width").hasValue()&&a.style("height").hasValue()&&(d=a.style("width").toPixels("x"),e=a.style("height").toPixels("y")),b.ViewPort.SetCurrent(d,e),null!=b.opts.offsetX&&(a.attribute("x",!0).value=b.opts.offsetX),null!=b.opts.offsetY&&(a.attribute("y",!0).value=b.opts.offsetY),null!=b.opts.scaleWidth&&null!=b.opts.scaleHeight){var h=1,i=1,g=b.ToNumberArray(a.attribute("viewBox").value);a.attribute("width").hasValue()?h=a.attribute("width").toPixels("x")/b.opts.scaleWidth:isNaN(g[2])||(h=g[2]/b.opts.scaleWidth),a.attribute("height").hasValue()?i=a.attribute("height").toPixels("y")/b.opts.scaleHeight:isNaN(g[3])||(i=g[3]/b.opts.scaleHeight),a.attribute("width",!0).value=b.opts.scaleWidth,a.attribute("height",!0).value=b.opts.scaleHeight,a.attribute("viewBox",!0).value="0 0 "+d*h+" "+e*i,a.attribute("preserveAspectRatio",!0).value="none"}1!=b.opts.ignoreClear&&c.clearRect(0,0,d,e),a.render(c),f&&(f=!1,"function"==typeof b.opts.renderCallback&&b.opts.renderCallback())},d=!0;b.ImagesLoaded()&&(d=!1,g()),b.intervalID=setInterval(function(){var a=!1;if(d&&b.ImagesLoaded()&&(d=!1,a=!0),1!=b.opts.ignoreMouse&&(a|=b.Mouse.hasEvents()),1!=b.opts.ignoreAnimation)for(var c=0;c<b.Animations.length;c++)a|=b.Animations[c].update(1e3/b.FRAMERATE);"function"==typeof b.opts.forceRedraw&&1==b.opts.forceRedraw()&&(a=!0),a&&(g(),b.Mouse.runEvents())},1e3/b.FRAMERATE)},b.stop=function(){b.intervalID&&clearInterval(b.intervalID)},b.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(a,b){this.events.push({type:"onclick",x:a,y:b,run:function(a){a.onclick&&a.onclick()}})},this.onmousemove=function(a,b){this.events.push({type:"onmousemove",x:a,y:b,run:function(a){a.onmousemove&&a.onmousemove()}})},this.eventElements=[],this.checkPath=function(d,b){for(var a=0;a<this.events.length;a++){var c=this.events[a];b.isPointInPath&&b.isPointInPath(c.x,c.y)&&(this.eventElements[a]=d)}},this.checkBoundingBox=function(c,d){for(var a=0;a<this.events.length;a++){var b=this.events[a];d.isPointInBox(b.x,b.y)&&(this.eventElements[a]=c)}},this.runEvents=function(){b.ctx.canvas.style.cursor="";for(var a=0;a<this.events.length;a++)for(var d=this.events[a],c=this.eventElements[a];c;)d.run(c),c=c.parent;this.events=[],this.eventElements=[]}},b}this.canvg=function(a,d,f){if(null!=a||null!=d||null!=f){f=f||{},"string"==typeof a&&(a=document.getElementById(a)),null!=a.svg&&a.svg.stop();var e=b();(1!=a.childNodes.length||"OBJECT"!=a.childNodes[0].nodeName)&&(a.svg=e),e.opts=f;var h=a.getContext("2d");"undefined"!=typeof d.documentElement?e.loadXmlDoc(h,d):"<"==d.substr(0,1)?e.loadXml(h,d):e.load(h,d)}else for(var j=document.getElementsByTagName("svg"),i=0;i<j.length;i++){var c=j[i],g=document.createElement("canvas");g.width=c.clientWidth,g.height=c.clientHeight,c.parentNode.insertBefore(g,c),c.parentNode.removeChild(c);var k=document.createElement("div");k.appendChild(c),canvg(g,k.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(a,b,c,d,e){canvg(this.canvas,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:b,offsetY:c,scaleWidth:d,scaleHeight:e})}),function(z,y){var a,w,s,v,x,c,h,n,j,t,o,d,b,m,e,k,p,q,u,r,g,i,l,f;a=function(b){return new a.prototype.init(b)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=a:z.Globalize=a,a.cultures={},a.prototype={constructor:a,init:function(b){return this.cultures=a.cultures,this.cultureSelector=b,this}},a.prototype.init.prototype=a.prototype,a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"
}}},messages:{}},a.cultures["default"].calendar=a.cultures["default"].calendars.standard,a.cultures.en=a.cultures["default"],a.cultureSelector="en",w=/^0x[a-f0-9]+$/i,s=/^[+\-]?infinity$/i,v=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,x=/^\s+|\s+$/g,c=function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=0,d=a.length;d>b;b++)if(a[b]===c)return b;return-1},h=function(a,b){return a.substr(a.length-b.length)===b},n=function(){var f,d,c,b,g,h,a=arguments[0]||{},e=1,k=arguments.length,i=!1;for("boolean"==typeof a&&(i=a,a=arguments[1]||{},e=2),"object"==typeof a||t(a)||(a={});k>e;e++)if(null!=(f=arguments[e]))for(d in f)c=a[d],b=f[d],a!==b&&(i&&b&&(o(b)||(g=j(b)))?(g?(g=!1,h=c&&j(c)?c:[]):h=c&&o(c)?c:{},a[d]=n(i,h,b)):b!==y&&(a[d]=b));return a},j=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},t=function(a){return"[object Function]"===Object.prototype.toString.call(a)},o=function(a){return"[object Object]"===Object.prototype.toString.call(a)},d=function(a,b){return 0===a.indexOf(b)},b=function(a){return(a+"").replace(x,"")},m=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)},e=function(a,c,d){var b;for(b=a.length;c>b;b+=1)a=d?"0"+a:a+"0";return a},k=function(d,b){for(var e=0,a=!1,c=0,g=d.length;g>c;c++){var f=d.charAt(c);switch(f){case"'":a?b.push("'"):e++,a=!1;break;case"\\":a&&b.push("\\"),a=!a;break;default:b.push(f),a=!1}}return e},p=function(d,a){a=a||"F";var b,e=d.patterns,c=a.length;if(1===c){if(b=e[a],!b)throw"Invalid date format string '"+a+"'.";a=b}else 2===c&&"%"===a.charAt(0)&&(a=a.charAt(1));return a},q=function(b,f,o){function e(d,a){var b,c=d+"";return a>1&&c.length<a?(b=C[a-2]+c,b.substr(b.length-a,a)):b=c}function B(){return l||v?l:(l=E.test(f),v=!0,l)}function t(a,b){if(n)return n[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b}}var a,c=o.calendar,s=c.convert;if(!f||!f.length||"i"===f){if(o&&o.name.length)if(s)a=q(b,c.patterns.F,o);else{var w=new Date(b.getTime()),F=g(b,c.eras);w.setFullYear(i(b,c,F)),a=w.toLocaleString()}else a=b.toString();return a}var A=c.eras,z="s"===f;f=p(c,f),a=[];var h,l,v,n,C=["0","00","000"],E=/([^d]|^)(d|dd)([^d]|$)/g,x=0,y=r();for(!z&&s&&(n=s.fromGregorian(b));;){var H=y.lastIndex,m=y.exec(f),D=f.slice(H,m?m.index:f.length);if(x+=k(D,a),!m)break;if(x%2)a.push(m[0]);else{var u=m[0],d=u.length;switch(u){case"ddd":case"dddd":var G=3===d?c.days.namesAbbr:c.days.names;a.push(G[b.getDay()]);break;case"d":case"dd":l=!0,a.push(e(t(b,2),d));break;case"MMM":case"MMMM":var j=t(b,1);a.push(c.monthsGenitive&&B()?c.monthsGenitive[3===d?"namesAbbr":"names"][j]:c.months[3===d?"namesAbbr":"names"][j]);break;case"M":case"MM":a.push(e(t(b,1)+1,d));break;case"y":case"yy":case"yyyy":j=n?n[0]:i(b,c,g(b,A),z),4>d&&(j%=100),a.push(e(j,d));break;case"h":case"hh":h=b.getHours()%12,0===h&&(h=12),a.push(e(h,d));break;case"H":case"HH":a.push(e(b.getHours(),d));break;case"m":case"mm":a.push(e(b.getMinutes(),d));break;case"s":case"ss":a.push(e(b.getSeconds(),d));break;case"t":case"tt":j=b.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",a.push(1===d?j.charAt(0):j);break;case"f":case"ff":case"fff":a.push(e(b.getMilliseconds(),3).substr(0,d));break;case"z":case"zz":h=b.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+e(Math.floor(Math.abs(h)),d));break;case"zzz":h=b.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+e(Math.floor(Math.abs(h)),2)+":"+e(Math.abs(b.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&a.push(c.eras[g(b,A)].name);break;case"/":a.push(c["/"]);break;default:throw"Invalid date format pattern '"+u+"'."}}}return a.join("")},function(){var a;a=function(j,i,m){var l=m.groupSizes,h=l[0],k=1,p=Math.pow(10,i),o=Math.round(j*p)/p;isFinite(o)||(o=j),j=o;var b=j+"",a="",f=b.split(/e/i),c=f.length>1?parseInt(f[1],10):0;b=f[0],f=b.split("."),b=f[0],a=f.length>1?f[1]:"";c>0?(a=e(a,c,!1),b+=a.slice(0,c),a=a.substr(c)):0>c&&(c=-c,b=e(b,c+1,!0),a=b.slice(-c,b.length)+a,b=b.slice(0,-c)),a=i>0?m["."]+(a.length>i?a.slice(0,i):e(a,i)):"";for(var d=b.length-1,n=m[","],g="";d>=0;){if(0===h||h>d)return b.slice(0,d+1)+(g.length?n+g+a:a);g=b.slice(d-h+1,d+1)+(g.length?n+g:""),d-=h,k<l.length&&(h=l[k],k++)}return b.slice(0,d+1)+n+g+a},u=function(d,f,k){if(!isFinite(d))return d===1/0?k.numberFormat.positiveInfinity:d===-(1/0)?k.numberFormat.negativeInfinity:k.numberFormat.NaN;if(!f||"i"===f)return k.name.length?d.toLocaleString():d.toString();f=f||"D";var j,g=k.numberFormat,b=Math.abs(d),i=-1;f.length>1&&(i=parseInt(f.slice(1),10));var c,n=f.charAt(0).toUpperCase();switch(n){case"D":j="n",b=m(b),-1!==i&&(b=e(""+b,i,!0)),0>d&&(b="-"+b);break;case"N":c=g;case"C":c=c||g.currency;case"P":c=c||g.percent,j=0>d?c.pattern[0]:c.pattern[1]||"n",-1===i&&(i=c.decimals),b=a(b*("P"===n?100:1),i,c);break;default:throw"Bad number format specifier: "+n}for(var o=/n|\$|-|%/g,h="";;){var p=o.lastIndex,l=o.exec(j);if(h+=j.slice(p,l?l.index:j.length),!l)break;switch(l[0]){case"n":h+=b;break;case"$":h+=g.currency.symbol;break;case"-":/[1-9]/.test(b)&&(h+=g["-"]);break;case"%":h+=g.percent.symbol}}return h}}(),r=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},g=function(d,b){if(!b)return 0;for(var c,e=d.getTime(),a=0,f=b.length;f>a;a++)if(c=b[a].start,null===c||e>=c)return a;return 0},i=function(c,a,d,e){var b=c.getFullYear();return!e&&a.eras&&(b-=a.eras[d].offset),b},function(){var h,j,m,n,a,f,e;h=function(c,a){if(100>a){var d=new Date,f=g(d),e=i(d,c,f),b=c.twoDigitYearMax;b="string"==typeof b?(new Date).getFullYear()%100+parseInt(b,10):b,a+=e-e%100,a>b&&(a-=100)}return a},j=function(g,a,i){var b,h=g.days,d=g._upperDays;return d||(g._upperDays=d=[e(h.names),e(h.namesAbbr),e(h.namesShort)]),a=f(a),i?(b=c(d[1],a),-1===b&&(b=c(d[2],a))):b=c(d[0],a),b},m=function(a,b,i){var j=a.months,k=a.monthsGenitive||a.months,d=a._upperMonths,g=a._upperMonthsGen;d||(a._upperMonths=d=[e(j.names),e(j.namesAbbr)],a._upperMonthsGen=g=[e(k.names),e(k.namesAbbr)]),b=f(b);var h=c(i?d[1]:d[0],b);return 0>h&&(h=c(i?g[1]:g[0],b)),h},n=function(h,i){var d=h._parseRegExp;if(d){var n=d[i];if(n)return n}else h._parseRegExp=d={};for(var c,f=p(h,i).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),b=["^"],m=[],e=0,j=0,l=r();null!==(c=l.exec(f));){var o=f.slice(e,c.index);if(e=l.lastIndex,j+=k(o,b),j%2)b.push(c[0]);else{var a,g=c[0],q=g.length;switch(g){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":a="(\\D+)";break;case"tt":case"t":a="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":a="(\\d{"+q+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a="(\\d\\d?)";break;case"zzz":a="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":a="([+-]?\\d\\d?)";break;case"/":a="(\\/)";break;default:throw"Invalid date format pattern '"+g+"'."}a&&b.push(a),m.push(c[0])}}k(f.slice(e),b),b.push("$");var s=b.join("").replace(/\s+/g,"\\s+"),t={regExp:s,groups:m};return d[i]=t},a=function(a,b,c){return b>a||a>c},f=function(a){return a.split("").join(" ").toUpperCase()},e=function(b){for(var c=[],a=0,d=b.length;d>a;a++)c[a]=f(b[a]);return c},l=function(C,M,O){C=b(C);var c=O.calendar,J=n(c,M),H=new RegExp(J.regExp).exec(C);if(null===H)return null;for(var p,G=J.groups,A=null,l=null,k=null,o=null,r=null,i=0,D=0,E=0,x=0,q=null,z=!1,t=0,L=G.length;L>t;t++){var f=H[t+1];if(f){var F=G[t],w=F.length,g=parseInt(f,10);switch(F){case"dd":case"d":if(o=g,a(o,1,31))return null;break;case"MMM":case"MMMM":if(k=m(c,f,3===w),a(k,0,11))return null;break;case"M":case"MM":if(k=g-1,a(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=4>w?h(c,g):g,a(l,0,9999))return null;break;case"h":case"hh":if(i=g,12===i&&(i=0),a(i,0,11))return null;break;case"H":case"HH":if(i=g,a(i,0,23))return null;break;case"m":case"mm":if(D=g,a(D,0,59))return null;break;case"s":case"ss":if(E=g,a(E,0,59))return null;break;case"tt":case"t":if(z=c.PM&&(f===c.PM[0]||f===c.PM[1]||f===c.PM[2]),!z&&(!c.AM||f!==c.AM[0]&&f!==c.AM[1]&&f!==c.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=g*Math.pow(10,3-w),a(x,0,999))return null;break;case"ddd":case"dddd":if(r=j(c,f,3===w),a(r,0,6))return null;break;case"zzz":var B=f.split(/:/);if(2!==B.length)return null;if(p=parseInt(B[0],10),a(p,-12,13))return null;var y=parseInt(B[1],10);if(a(y,0,59))return null;q=60*p+(d(f,"-")?-y:y);break;case"z":case"zz":if(p=g,a(p,-12,13))return null;q=60*p;break;case"g":case"gg":var s=f;if(!s||!c.eras)return null;s=b(s.toLowerCase());for(var u=0,N=c.eras.length;N>u;u++)if(s===c.eras[u].name.toLowerCase()){A=u;break}if(null===A)return null}}}var I,e=new Date,v=c.convert;if(I=v?v.fromGregorian(e)[0]:e.getFullYear(),null===l?l=I:c.eras&&(l+=c.eras[A||0].offset),null===k&&(k=0),null===o&&(o=1),v){if(e=v.toGregorian(l,k,o),null===e)return null}else{if(e.setFullYear(l,k,o),e.getDate()!==o)return null;if(null!==r&&e.getDay()!==r)return null}if(z&&12>i&&(i+=12),e.setHours(i,D,E,x),null!==q){var K=e.getMinutes()-(q+e.getTimezoneOffset());e.setHours(e.getHours()+parseInt(K/60,10),K%60)}return e}}(),f=function(a,f,g){var e,b=f["-"],c=f["+"];switch(g){case"n -":b=" "+b,c=" "+c;case"n-":h(a,b)?e=["-",a.substr(0,a.length-b.length)]:h(a,c)&&(e=["+",a.substr(0,a.length-c.length)]);break;case"- n":b+=" ",c+=" ";case"-n":d(a,b)?e=["-",a.substr(b.length)]:d(a,c)&&(e=["+",a.substr(c.length)]);break;case"(n)":d(a,"(")&&h(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]},a.prototype.findClosestCulture=function(b){return a.findClosestCulture.call(this,b)},a.prototype.format=function(b,c,d){return a.format.call(this,b,c,d)},a.prototype.localize=function(b,c){return a.localize.call(this,b,c)},a.prototype.parseInt=function(b,c,d){return a.parseInt.call(this,b,c,d)},a.prototype.parseFloat=function(b,c,d){return a.parseFloat.call(this,b,c,d)},a.prototype.culture=function(b){return a.culture.call(this,b)},a.addCultureInfo=function(a,c,d){var b={},e=!1;"string"!=typeof a?(d=a,a=this.culture().name,b=this.cultures[a]):"string"!=typeof c?(d=c,e=null==this.cultures[a],b=this.cultures[a]||this.cultures["default"]):(e=!0,b=this.cultures[c]),this.cultures[a]=n(!0,{},b,d),e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)},a.findClosestCulture=function(c){var f;if(!c)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof c&&(c=c.split(",")),j(c)){var d,a,h=this.cultures,l=c,i=l.length,g=[];for(a=0;i>a;a++){c=b(l[a]);var e,k=c.split(";");d=b(k[0]),1===k.length?e=1:(c=b(k[1]),0===c.indexOf("q=")?(c=c.substr(2),e=parseFloat(c),e=isNaN(e)?0:e):e=1),g.push({lang:d,pri:e})}for(g.sort(function(a,b){return a.pri<b.pri?1:a.pri>b.pri?-1:0}),a=0;i>a;a++)if(d=g[a].lang,f=h[d])return f;for(a=0;i>a;a++)for(d=g[a].lang;;){var m=d.lastIndexOf("-");if(-1===m)break;if(d=d.substr(0,m),f=h[d])return f}for(a=0;i>a;a++){d=g[a].lang;for(var o in h){var n=h[o];if(n.language==d)return n}}}else if("object"==typeof c)return c;return f||null},a.format=function(a,b,d){var c=this.findClosestCulture(d);return a instanceof Date?a=q(a,b,c):"number"==typeof a&&(a=u(a,b,c)),a},a.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},a.parseDate=function(f,a,b){b=this.findClosestCulture(b);var c,g,d;if(a){if("string"==typeof a&&(a=[a]),a.length)for(var e=0,i=a.length;i>e;e++){var h=a[e];if(h&&(c=l(f,h,b)))break}}else{d=b.calendar.patterns;for(g in d)if(c=l(f,d[g],b))break}return c||null},a.parseInt=function(b,c,d){return m(a.parseFloat(b,c,d))},a.parseFloat=function(a,l,r){"number"!=typeof l&&(r=l,l=10);var e=this.findClosestCulture(r),k=NaN,b=e.numberFormat;if(a.indexOf(e.numberFormat.currency.symbol)>-1&&(a=a.replace(e.numberFormat.currency.symbol,""),a=a.replace(e.numberFormat.currency["."],e.numberFormat["."])),a.indexOf(e.numberFormat.percent.symbol)>-1&&(a=a.replace(e.numberFormat.percent.symbol,"")),a=a.replace(/ /g,""),s.test(a))k=parseFloat(a);else if(!l&&w.test(a))k=parseInt(a,16);else{var c=f(a,b,b.pattern[0]),h=c[0],g=c[1];""===h&&"(n)"!==b.pattern[0]&&(c=f(a,b,"(n)"),h=c[0],g=c[1]),""===h&&"-n"!==b.pattern[0]&&(c=f(a,b,"-n"),h=c[0],g=c[1]),h=h||"+";var n,i,j=g.indexOf("e");0>j&&(j=g.indexOf("E")),0>j?(i=g,n=null):(i=g.substr(0,j),n=g.substr(j+1));var d,m,x=b["."],p=i.indexOf(x);0>p?(d=i,m=null):(d=i.substr(0,p),m=i.substr(p+x.length));var q=b[","];d=d.split(q).join("");var t=q.replace(/\u00A0/g," ");q!==t&&(d=d.split(t).join(""));var o=h+d;if(null!==m&&(o+="."+m),null!==n){var u=f(n,b,"-n");o+="e"+(u[0]||"+")+u[1]}v.test(o)&&(k=parseFloat(o))}return k},a.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.cultures["default"]}}(this),function(b,g,j){function R(a){var b,c="";a=Math.abs(a);do b=a%26,c=String.fromCharCode(b+97)+c,a=(a-b)/26;while(a>0);return c}function _(){return C+R(P++)}function L(){return Q++}function N(){var b=[8,9,"a","b"],a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-4"+a().substr(0,3)+"-"+b[Math.floor(4*Math.random())]+a().substr(0,3)+"-"+a()+a()+a()}function $(a,b){return typeof Globalize===f&&typeof Globalize.format===f?Globalize.parseDate(a,b):new Date(a)}function W(b){var c;return c=a.defined(b)&&typeof Globalize===f&&typeof Globalize.parseFloat===f?Globalize.parseFloat(b):Number(b),isNaN(c)?null:c}function B(c){if(!a.defined(c)||""===c)return"";var d=/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,b=arguments,e=b&&b.length>1&&typeof b[1]===s,g=typeof Globalize===f&&typeof Globalize.format===f;return c.replace(d,function(i,a){var c,d,f=a.indexOf(":");if(f>0){var h=a;a=h.substring(0,f),d=h.substring(f+1)}return c=e?/^\d+$/.test(a)?b[parseInt(a,10)+1]:J(b[1],a):b[parseInt(a,10)+1],d&&g&&(c=Globalize.format(c,d)),c})}function u(b){if(a.func(b)){var c=[].slice.call(arguments);return c.shift(),b.apply(this,c)}return B.apply(this,arguments)}function T(){return typeof Globalize===f&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function O(){return typeof Globalize===f&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}}function S(a,b){if(b=b!==j?b:m.dieOnError)throw new Error(a);g.console&&(g.console.error?console.error(a):console.log(a))}function e(a){var b=Object.prototype.toString.call(a);return null===a?"null":a===j?"undefined":b.substr(8,b.length-9).toLowerCase()}function t(f){var g,h,e,i,c,l=Array.apply(null,arguments),m=a.array(f)&&f.length&&!q(f,function(b){return!a.func(b)}).length,d=l[1],n=function(a,b){return a instanceof b};if(!m)return k.apply(b,l);for(a.object(d)||a.array(d)||(d={}),h=2;h<l.length;h++)if(g=l[h])for(e in g)g.hasOwnProperty(e)&&(c=g[e],i=d[e],c&&q(f,z(n,null,c)).length?d[e]=c:a.object(c)||a.array(c)?(a.object(i)||(i=d[e]=a.array(c)?[]:{}),d[e]=t(f,i,c)):a.date(c)?d[e]=new Date(c.getTime()):c!==j&&(d[e]=c));return d}function E(b){var a,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(a);return c}function J(d,b){var c;if(!a.string(b))throw new Error("shield.get: parameter 'path' must be a string.");if(b=A(b),c=I[b])return c(d);try{c=new Function("a","try{return a"+b+"}catch(e){return arguments[1];}")}catch(e){throw new Error("shield.get: invalid 'path' parameter")}return I[b]=c,c(d)}function X(d,b,e){var c;if(!a.string(b))throw new Error("shield.set: parameter 'path' must be a string");if(b=A(b),c=H[b])return c(d,e);try{c=new Function("obj,val","obj"+b+"=val;")}catch(f){throw new Error("shield.set: invalid 'path' parameter")}return H[b]=c,c(d,e),d}function A(g){var d,b,f,a,e,c=g.split(".");for(b=0,f=c.length;f>b;b++)a=c[b],d=a.indexOf("["),a&&(0>d?(e=a.indexOf("'")<0?"'":'"',a=c[b]="["+e+a+e+"]"):d>0&&(a=c[b]="."+a));return c.join("")}function U(a,c){m.ui[a]=c,b.fn[C+a]=function(d){var e,g=this;return typeof d===F?(e=[].slice.call(arguments,1),this.each(function(){var c,h,i=b.data(this,n);if(!i)throw new Error(u("shield: cannot call method '{0}' on uninitialized {1}.",d,a));if(c=i[d],typeof c!==f)throw new Error(u("shield: cannot find method '{0}' of {1}",d,a));return h=c.apply(i,e),h!==j?(g=h,!1):void 0}),g):this.each(function(){var e=new c(this,d);b(this).data(n,e),b(this).data(n+"-"+a,e)})}}function i(a){a?d.onselectstart==i.handler&&(d.onselectstart=i.onselectstart,d.ondragstart=i.ondragstart):d.onselectstart!=i.handler&&(i.onselectstart=d.onselectstart,i.ondragstart=d.ondragstart,d.onselectstart=d.ondragstart=i.handler)}var m=g.shield=g.shield||{},k=b.extend,q=b.grep,z=b.proxy,c=navigator.userAgent,d=document,C="shield",n="shieldWidget",s="object",F="string",f="function",v="array",w="number",x="date",M="boolean",K="null",G="undefined",D="sui-vc-top",r=function(){},P=100,Q=1e3,h={},I={},H={},p=function(){},V={SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}};p.extend=function(a){var f,b,c,h,g=this,d=a&&a.init?a.init:function(){g.apply(this,arguments)},i=function(){};i.prototype=g.prototype,f=d.fn=d.prototype=new i;for(b in a)a.hasOwnProperty(b)&&(c=a[b],h=e(c),c&&typeof c===s?f[b]=k(!0,h===v?[]:{},g.prototype[b],c):f[b]=c);return f.constructor=d,d.extend=g.extend,d},Date.prototype.toISOString||!function(){function a(b){var a=String(b);return 1===a.length&&(a="0"+a),a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),b.fn.swidget=function(c){var a=this.map(function(a){return c?b(this).data(n+"-"+c):b(this).data(n)}).get();return a.length?a.length>1?a:a[0]:null};var l=p.extend({init:function(b){var a,d=this,c=(b||{}).events;d.events={},b=b||{};for(a in c)typeof c[a]===f&&d.on(a,c[a])},on:function(b,f,m){var h,c,e,l,i,g=this,k=g.events,d=o.array(b),j=a.func(f);if(a.object(b)){d=[];for(i in b)b.hasOwnProperty(i)&&d.push(i);j=!1,f=b}for(e=0,l=d.length;l>e;e++)b=d[e],h=g._eventType(b),c=j?f:f[b],a.func(c)&&(m&&(c=g._one(b,c)),(k[h]||(k[h]=[])).push({name:b,handler:c}));return g},_one:function(b,c){var d=this,a=function(){d.off(b,a),c.apply(this,arguments)};return a},_eventType:function(a){var b=(a+="").indexOf(".");return b>-1?a.substring(0,b):a},_eventNameMatch:function(f,g){var d,c,h,e,j=this,k=j._eventType(f),i=j._eventType(g);if(f+="",g+="",(k===i||!i)&&(d=f.split("."),d.shift(),d=q(d,function(b){return a.string(b)&&b.length>0}),c=g.split("."),i&&c.shift(),c=q(c,function(b){return a.string(b)&&b.length>0}),d&&c)){for(h=0,e=0;e<c.length;e++)b.inArray(c[e],d)>-1&&h++;return h>=c.length}return!1},one:function(a,b){this.on(a,b,!0)},off:function(c,g){var e,d,f,k,b,m,i=this,h=i.events,l=o.array(c),n=a.func(g);if(a.object(c)){l=[];for(m in c)c.hasOwnProperty(m)&&l.push(m);n=!1,g=c}if(a.string(c)&&0===c.indexOf(".")){for(e in h)if(h.hasOwnProperty(e)){for(d=h[e]||[],f=n?g:g||j,b=d.length-1;b>=0;b--)!i._eventNameMatch(d[b].name,c)||a.defined(f)&&d[b].handler!==f||d.splice(b,1);d.length||delete h[e]}}else for(k=0;k<l.length;k++){for(c=l[k],e=i._eventType(c),d=h[e]||[],f=n?g:(g||{})[c],b=d.length-1;b>=0;b--)!i._eventNameMatch(d[b].name,c)||a.defined(f)&&d[b].handler!==f||d.splice(b,1);d.length||delete h[e]}return i},trigger:function(e,f){var a,c,b=this,g=b._eventType(e),d=(b.events[g]||[]).slice();for(a=0,c=d.length;c>a;a++)d[a].handler.apply(b,[].slice.call(arguments,1));return f},destroy:function(){this.events={}}}),y=p.extend({init:function(c){var a=!1,b=!1;k(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return a},isPropagationStopped:function(){return b},preventDefault:function(){a=!0},stopPropagation:function(){b=!0}},c)}}),Y=l.extend({init:function(e,a){var c=this,d=c.constructor;a=a||{},c.element=b(e),c.initialOptions=a,c.options=k(!0,{},d.defaults,(d.themes||{})[a.theme],a),c._iid=L(),l.fn.init.call(c,a)},getInstanceId:function(){return this._iid},refresh:function(a){this.refreshWithElement(this.element,a)},refreshWithElement:function(b,c){var a=this,d=t([p],a.options,c);a.destroy(),a.init(b,d)},hide:function(){b(this.element).hide()},show:function(){b(this.element).show()},isVisible:function(){return b(this.element).is(":visible")},visible:function(){var a=this,b=[].slice.call(arguments);return b.length>0?void(b[0]?a.show():a.hide()):a.isVisible()},focus:function(){b(this.element).focus()},trigger:function(g,c,h){var d,e=this;return c=a.event(c)?{domEvent:c}:c,!c||!c.domEvent||c.domEvent instanceof b.Event||(c.domEvent=b.Event(c.domEvent)),d=new y(k({type:g,target:e},c)),l.fn.trigger.call(e,g,d),typeof h!==f||d.isDefaultPrevented()||h.call(e,d),d}}),Z=l.extend({options:{total:0,pageBuffer:2,createContainer:r,getItems:r,eventNS:".shieldVirtualized",skipRender:!1},init:function(d,c){var a=this;c=a.options=k({},a.options,c),a.element=b(d),l.fn.init.call(a,c),c.skipRender||a.render()},_elements:function(){var c,e,a=this,f=a.element,d=a.options;c=a.wrapper=f.off(d.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+d.eventNS,z(a.scroll,a)).append('<div class="sui-virtualized"/>').find(".sui-virtualized").css({position:"relative",overflow:"visible"}),e=a.container=b(d.createContainer(c)),c.children().css({position:"absolute",top:0}),a._positionedContainer=c.children().first()},_dimensions:function(){var c=this,d=c.options,e=d.total,a=d.itemHeight,f=Math.min(e*a,m.support.maxElementHeight),b=c.element.height(),g=Math.ceil(b/a),h=g*a,i=f-b;return{total:e,itemHeight:a,totalHeight:f,viewportHeight:b,itemsPerPage:g,pageHeight:h,totalScrollableHeight:i}},render:function(){var b,a=this,d=a.element,c=a.options;a._elements(),a.prevScroll=0,b=a.dimensions=a._dimensions(),d.find(".sui-virtualized").height(b.totalHeight),a._renderItems(0,Math.min(c.total,(c.pageBuffer+1)*b.itemsPerPage))},_renderItems:function(d,e,c){var b=this;b.options.getItems(d,e,function(f,d){var e,g=f.length;for(d=a.defined(d)?!!d:!0,d&&b.container.empty(),e=0;g>e;e++)b.container.append(f[e]);c&&c()})},scroll:function(){var e,i,j,b=this,m=b.options,d=m.pageBuffer,a=b.dimensions,f=b.element.scrollTop(),p=b.prevScroll,k=f-p,g=f/a.totalScrollableHeight,h=b._positionedContainer,l=h.data(D)||0,c=f-g*(a.pageHeight-a.viewportHeight),o=k>0&&c-l>(d/4+1)*a.pageHeight,n=0>k&&c-l<=d/4*a.pageHeight;(n||o)&&(i=Math.min(a.total,Math.floor(g*a.total-g*a.itemsPerPage)),e=Math.max(0,i-d/2*a.itemsPerPage),j=Math.min(a.total,e+(d+1)*a.itemsPerPage),c=Math.max(0,c-(i-e)*a.itemHeight),b._renderItems(e,j,function(){h.css("top",c),h.data(D,c)})),b.prevScroll=f},scrollTop:function(b){var d=this,c=d.element;return a.defined(b)?void c.scrollTop(b):c.scrollTop()},destroy:function(){var a=this,b=a.options;a.element.off(b.eventNS),a.element=null,b.createContainer=r,b.getItems=r,l.fn.destroy.call(a)}}),a={string:function(a){return e(a)===F},number:function(a){return e(a)===w},integer:function(a){return e(a)===w&&/^[\+\-]?\d+$/.test(a+"")},"float":function(a){return e(a)===w&&/^[\+\-]?\d+\.\d+$/.test(a+"")},func:function(a){return e(a)===f},object:function(a){return e(a)===s},array:function(a){return e(a)===v},date:function(a){return e(a)===x},"boolean":function(a){return e(a)===M},"null":function(a){return e(a)===K},undefined:function(a){return e(a)===G},defined:function(a){return a!==j&&null!==a},event:function(a){return typeof g.Event==f&&a instanceof g.Event||a&&a.altKey!==j}},o={"int":function(a,b){return parseInt(a,b||10)},"float":function(a){return parseFloat(a)},number:function(a){return W(a+"")},array:function(a){return a instanceof Array?a:a!==j?[a]:[]},string:function(a){return a+""},key:function(a){var g,c,d,f,h=e(a);switch(h){case K:case G:return h;case s:return g=E(a).sort(),c=[],b.each(g,function(d,b){c.push(b+":"+o.key(a[b]))}),"{"+c.join(",")+"}";case v:for(c="[",d=0,f=a.length;f>d;d++)c+=o.key(a[d]),f-1>d&&(c+=",");return c+="]";case x:return a.toISOString();default:return a+""}}};!function(){h.stableSort=function(){var a="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==a.split("").sort(function(b,c){return~~(a.indexOf(c)/2.3)-~~(a.indexOf(b)/2.3)}).join("")}(),h.scrollbar=function(){var b,a=d.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",a.innerHTML="&nbsp;",d.body.appendChild(a),b=a.offsetWidth-a.scrollWidth,d.body.removeChild(a),b},h.isRtl=function(a){return b(a).closest(".sui-rtl").length>0},h.transitions=function(){var b,c=(d.body||d.documentElement).style,e="Transition",f=["Moz","webkit","Webkit","Khtml","O","ms"];if(a.string(c[e.toLowerCase()]))return!0;for(b=0;b<f.length;b++)if(a.string(c[f[b]+e]))return!0;return!1}(),h.hasScrollbarY=function(c){var a=b(c).get(0);return a.scrollHeight>a.clientHeight},h.hasScrollbarX=function(c){var a=b(c).get(0);return a.scrollWidth>a.clientWidth}}(),function(){m.rAF=function(a){return(g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||function(a){return this.setTimeout(a,1e3/60)}).call(g,a)},m.cAF=function(a){return(g.cancelAnimationFrame||g.clearTimeout)(a)}}(),function(){var b=/MSIE/i.test(c),d=/Trident/i.test(c),e=/Firefox/i.test(c),f=/Opera/i.test(c),g=/Safari/i.test(c),a=/Chrome/i.test(c),i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);h.browser={ie:b||d,firefox:e,opera:f,safari:!a&&g,chrome:a,mobile:i,version:b?parseInt(c.substr(c.indexOf("MSIE ")+5),10):d?parseInt(c.substr(c.indexOf("rv:")+3),10):e?parseInt(c.substr(c.indexOf("Firefox/")+8),10):f?parseInt(c.substr(c.indexOf("Version/")+8),10):a?parseInt(c.substr(c.indexOf("Chrome/")+7),10):g?parseInt(c.substr(c.indexOf("Version/")+8),10):0}}(),b(function(){for(var a,f=1e6,g=h.browser.firefox?6e6:1e9,c=b('<div style="display:none;"/>').appendTo(d.body),e=f;;){if(a=e+f,c.css("height",a),a>g||c.height()!==a)break;e=a}c.remove(),h.maxElementHeight=e}),i.handler=function(){return!1},k(m,{Class:p,Dispatcher:l,Event:y,Constants:V,format:u,formatString:B,parseDate:$,getCalendarInfo:T,getCurrencyInfo:O,error:S,dieOnError:!0,iid:L,strid:_,guid:N,support:h,extend:t,selection:i,type:e,is:a,to:o,keys:E,get:J,set:X,ui:k({},m.ui||{},{Widget:Y,VirtualizedContainer:Z,plugin:U})})}(jQuery,this),function(d,i,W,f){function t(b,c){var a,d,e=[];if(b.map)return b.map(c);for(a=0,d=b.length;d>a;a++)e[a]=c(b[a],a,b);return e}function x(d,e,b,h){var a=g(d,e);return a===f?b&&(a=c.def(b,h,!0)):a=c.convert(a,b),a}var P,L,r,e,u,b,y,m,K,p,H,G,F,M,c,n=i.Class,o=i.Dispatcher,I=Math.min,z=Math.max,a=i.is,A=i.to,g=i.get,D=i.set,q=(i.support,i.type),E=function(){},h=d.extend,j=d.proxy,k=d.each,C=d.grep,J=d.inArray,w=d.Deferred,v="function",B="array",N="object",T="string",l="change",s="error",R="start",Q="complete",S="save",O="afterset",U="insert",V="remove";P=n.extend({init:function(a){this.data=a},read:function(c,a,d,b){return a(this.data,!1,b)},modify:function(c,a,d,b){a(b)}}),L=n.extend({init:function(a,b){this.options=a,this.cache=b},read:function(c,g,j,e){var i,l=this.options,b=l.read,k=this.cache;return a.func(b)?void b(c,g,j,e):(b=a.string(b)?{url:b}:h(!0,{},b),a.func(b.data)&&(c=b.data(c,e)),i=k.get(c),void(i!==f?g(i,!0,e):(b.data=c,b.error=j,b.success=function(a){k.set(c,a),g(a,!1,e)},d.ajax(b))))},modify:function(i,n,p,k){var c,b,m,f,e,q=this.options,l=q.modify||{},o=["create","update","remove"],r=["added","edited","removed"],g=[],s=function(a){return a.data};if(a.func(l))return void l(i,n,p,k);for(e=0;e<o.length;e++)m=o[e],f=r[e],b=l[m],i[f].length?(a.string(b)&&(b={url:b,type:"POST"}),a.func(b)?(c=g[e]=new w,b(i[f],j(c.resolve,c),j(c.reject,c),k)):a.object(b)?(b=h(!0,{},b),a.func(b.data)?b.data=b.data(i[f],k):(b.data={},b.data[f]=t(i[f],s)),c=g[e]=d.ajax(b)):(c=g[e]=new w,c.resolve())):(c=g[e]=new w,c.resolve());d.when.apply(d,g).then(n,p)}}),r=n.extend({init:function(){this.values={}},get:function(a){return this.values[A.key(a)]},set:function(b,a){return this.values[A.key(b)]=a,a},remove:function(b){var a=A.key(b),c=this.values[a];return delete this.values[a],c},clear:function(){this.values=[]}}),r.noop={get:E,set:E},u=n.extend({init:function(b,c){a.object(b)?b=A.array(b):a.string(b)&&(b=[{path:b,desc:!!c}]),this._expr=b},build:function(){var b=this._expr,c=u.cache;return a.func(b)?function(a){return function(b,c){var d=a(b.item,c.item);return 0!==d?d:b.index-c.index}}(b):a.array(b)?c.get(b)||c.set(b,function(b){return function(k,l){var i,e,f,h,m,c,d,j;for(h=0,m=b.length;m>h;h++)if(c=k.item,d=l.item,i=b[h]||{},e=i.path,f=i.desc?-1:1,a.string(e)?(c=g(c,e),d=g(d,e)):a.func(e)&&(c=e(c),d=e(d)),a.date(c)&&(c=c.getTime()),a.date(d)&&(d=d.getTime()),c!==d&&(null!=c||null!=d)){if(null==c)return-1*f;if(null==d)return 1*f;if(a.number(c)&&a.number(d)||(c=c.toString(),d=d.toString()),c.localeCompare){if(j=c.localeCompare(d),0===j)continue;return j*f}if(c>d)return 1*f;if(d>c)return-1*f}return k.index-l.index}}([].concat(b))):void 0}}),u.cache=new r,b=n.extend({init:function(a){this._expr=a||[]},build:function(){var c=this,e=b.cache,d=c._expr,a=c._func||(c._func=e.get(d));return a||(a=c._buildRecursive(d,!0),a&&e.set(d,a)),a},_single:function(c){var d;if(c){if(a.func(c.filter))return c.filter;if(d=b.filters[b.filterAliases[c.filter]])return function(a,b,c,d){return function(e){return b(g(e,a),c,d)}}(c.path,d,c.value,c.sensitive)}},_multiple:function(a,b){return function(e){var c,d=!0,f=a.length;for(c=0;f>c;c++)if(d=a[c](e),b){if(!d)break}else if(d)break;return d}},_buildRecursive:function(b,g){var c,f,d=this,e=[];if(a.array(b)){for(c=0,f=b.length;f>c;c++)e.push(d._buildRecursive(b[c]));return e.length>1?d._multiple(e,g):e[0]}return b.and||b.or?d._buildRecursive(b.and||b.or,!!b.and):d._single(b)}}),b.cache=new r,b.normalize={equatable:function(c,d,e){return a.date(c)?{a:c.getTime(),b:new Date(d).getTime()}:b.normalize.string(c,d,e)},string:function(a,b,c){return{a:c?a+"":(a+"").toLowerCase(),b:c?b+"":(b+"").toLowerCase()}},scalar:function(b,c){return a.date(b)?{a:b.getTime(),b:new Date(c).getTime()}:isNaN(parseFloat(b))?{a:b,b:c}:{a:parseFloat(b),b:parseFloat(c)}}},b.filters={eq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a===a.b},neq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a!==a.b},con:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)>-1},notcon:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)<0},starts:function(c,d,e){var a=b.normalize.string(c,d,e);return 0===a.a.indexOf(a.b)},ends:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)===a.a.length-a.b.length},gt:function(c,d){var a=b.normalize.scalar(c,d);return a.a>a.b},lt:function(c,d){var a=b.normalize.scalar(c,d);return a.a<a.b},gte:function(c,d){var a=b.normalize.scalar(c,d);return a.a>=a.b},lte:function(c,d){var a=b.normalize.scalar(c,d);return a.a<=a.b},isnull:function(a){return null==a},notnull:function(a){return null!=a}},b.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",
">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},y=n.extend({init:function(){},build:function(b){var d=this,c=y.cache,a=c.get(b);return a||(a=d._build(b),a&&c.set(b,a)),a},_build:function(e){if(!e)return null;var g=e.field,d=e.aggregate,b=e.type||Number,h=function(a){return a===f?c.def(b):c.convert(a,b)};return a.func(d)?d:"count"==d?function(a){return a.length}:"sum"==d?function(e){var c,d,f=0,i=e.length;for(c=0;i>c;c++)d=x(e[c],g,b),f+=b==Date&&a.date(d)?d.getTime():d;return h(f)}:"average"==d?function(e){var c,d,f=0,i=e.length;for(c=0;i>c;c++)d=x(e[c],g,b),f+=b==Date&&a.date(d)?d.getTime():d;return h(f/i)}:"min"==d?function(a){return h(I.apply(null,t(a,function(a){return x(a,g,b)})))}:"max"==d?function(a){return h(z.apply(null,t(a,function(a){return x(a,g,b)})))}:f}}),y.cache=new r,e=n.extend({init:function(c,d,f,g,e){var b=this;b.data=c,b.total=null!=d?d:c?c.length:0,b.aggregates=f,b.groups=g,b.indices=a.array(e)?e.slice(0):t(c||[],function(b,a){return a})},filter:function(k){var c,h,f,a=this,i=new b(k).build(),g=a.data,d=[],j=[];if(i){for(c=0,h=g.length;h>c;c++)f=g[c],i(f)&&(d.push(f),j.push(a.indices[c]));a.indices=j}else d=g.slice(0);return new e(d,d.length,a.aggregates,a.groups,a.indices)},aggregate:function(c){var d,f,g,i,b=this,k=new y,j=b.data;for(a.array(c)||(c=[c]),b.aggregates=[],d=0;d<c.length;d++)f=c[d],g=k.build(f),g&&(i=g(j,f)),b.aggregates.push(h({},f,{value:i}));return new e(j.slice(0),b.total,b.aggregates,b.groups,b.indices)},aggregateGroups:function(c){var a=this,b=a.data.slice(0),d=new e(a._getInnerMostItems(b),null,null,null,null).aggregate(c);return new e(b,a.total,d.aggregates,a.groups,a.indices)},_getInnerMostItems:function(b){var a=[];return k(this._getInnerMostGroups(b),function(c,b){a=a.concat(b.items)}),a},_getInnerMostGroups:function(c){var b=this,a=[];return k(c||[],function(d,c){a=a.concat(b._hasInnerGroups(c)?b._getInnerMostGroups(c.items):c)}),a},_hasInnerGroups:function(b){return b&&b.items&&b.items.length>0?b.items[0].field&&a.array(b.items[0].items):!1},group:function(c){var d,b=this,f=b.data.slice(0);return a.array(c)||(c=[c]),c.length>0&&(d=b._groupData(c,f,b.indices),f=d[0],b.indices=d[1]),new e(f,b.total,b.aggregates,b.groups,b.indices)},_groupData:function(B,y,q){var r,j,o,b,d,z=this,c=[],m=[],l=B.slice(0),i=l.shift(),x=i.field,t=i.aggregate,v=i.order,w={};if(k(y,function(d,b){j=g(b,x),o=w[j],a.defined(o)?c[o].items.push({item:b,index:q[d]}):(w[j]=c.length,c.push(h({},i,{value:j,items:[{item:b,index:q[d]}]})))}),v&&(r=new u("value","desc"==v).build())){for(b=0;b<c.length;b++)c[b]={item:c[b],index:b};for(c.sort(r),b=0;b<c.length;b++)c[b]=c[b].item}for(b=0;b<c.length;b++)for(d=0;d<c[b].items.length;d++)m.push(c[b].items[d].index),c[b].items[d]=c[b].items[d].item;if(t&&k(c,function(a,b){c[a].aggregate=new e(b.items).aggregate(t).aggregates}),l&&l.length>0){var p=0,n=[];for(b=0;b<c.length;b++){var f=c[b],A=m.slice(p,p+(f.items?f.items.length:0)),s=z._groupData(l,f.items,A);c[b].items=s[0],n=n.concat(s[1]),p+=f.items?f.items.length:0}m=n}return[c,m]},sort:function(h,i){var a,b=this,f=new u(h,i).build(),c=b.data.slice(0),d=[],g=c?c.length:0,j=b.indices;if(f){for(a=0;g>a;a++)d.push({index:j[a],item:c[a]});for(d.sort(f),a=0;g>a;a++)c[a]=d[a].item,b.indices[a]=d[a].index}return new e(c,b.total,b.aggregates,b.groups,b.indices)},sortGroups:function(g,h){var b,a=this,f=a.data.slice(0),c=[],d=0;return b=function(f){if(a._hasInnerGroups(f))k(f.items,function(c,a){b(a)});else{var i=new e(f.items,null,null,null,a.indices.slice(d,d+(f.items?f.items.length:0))).sort(g,h);f.items=i.data,c=c.concat(i.indices),d+=f.items?f.items.length:0}},k(f,function(c,a){b(a)}),new e(f,a.total,a.aggregates,a.groups,c)},_sliceGroups:function(f,g,b,c){var d,l=this,h=0,i=[],e=[],j=a.defined(c);return 0!==b||j?(d=function(i){if(l._hasInnerGroups(i)){var q=[],r=0;return k(i.items,function(c,a){var b=d(a);b>0&&(q.push(a),r+=b)}),i.items=q,r}var m,n,f=h,o=i.items.length,p=f+o-1;return j?c-1>=p?p>=b&&(m=z(0,b-f),n=o):c-1>=f&&p>=b&&(m=z(0,b-f),n=I(o,c-f)):f>=b?(m=0,n=o):b>=f&&p>=b&&(m=z(0,b-f),n=o),a.defined(m)&&a.defined(n)&&n>m?(i.items=i.items.slice(m,n),e=e.concat(g.slice(f+m,f+n))):i.items=[],h+=o,i.items.length},k(f,function(c,a){var b=d(a);b>0&&i.push(a)}),[i,e]):[f.slice(0),g.slice(0)]},skip:function(b){var a=this;return new e(a.data.slice(b),a.total,a.aggregates,a.groups,a.indices.slice(b))},skipGroups:function(c){var a=this,b=a._sliceGroups(a.data,a.indices,c);return new e(b[0],a.total,a.aggregates,a.groups,b[1])},take:function(b){var a=this;return new e(a.data.slice(0,b),a.total,a.aggregates,a.groups,a.indices.slice(0,b))},takeGroups:function(c){var a=this,b=a._sliceGroups(a.data,a.indices,0,c);return new e(b[0],a.total,a.aggregates,a.groups,b[1])}}),e.create=function(c,a,d,f,g){a=a||{};var b=new e(c,d,f,g),h=a.remoteOperations||[],i=h.join(" "),j=i.indexOf("group")>-1;return a.group||j?(a.group?(a.filter&&(b=b.filter(a.filter)),b=b.group(a.group)):b.data=b.groups,a.aggregate&&(b=b.aggregateGroups(a.aggregate)),a.sort&&(b=b.sortGroups(a.sort)),a.skip&&(b=b.skipGroups(a.skip)),a.take&&(b=b.takeGroups(a.take))):(a.filter&&(b=b.filter(a.filter)),a.aggregate&&(b=b.aggregate(a.aggregate)),a.sort&&(b=b.sort(a.sort)),a.skip&&(b=b.skip(a.skip)),a.take&&(b=b.take(a.take))),b},m=o.extend({init:function(d){var b=this,c=b.options=a.array(d)?{data:d}:d||{},e=c.schema||{},f=m.schemas[e.type||"json"];b.data=null,b.filter=c.filter,b.sort=c.sort,b.skip=c.skip,b.take=c.take,b.group=c.group,b.aggregate=c.aggregate,b.schema=new f(e),b.remote=c.remote,b.cache=new r,b._recursive=!!c.resursive,o.fn.init.call(b,c)},isRecursive:function(){return this._recursive},trigger:i.ui.Widget.fn.trigger,_client:function(){var b=this,c=b.remote;return a.object(c)?new L(c,c.cache?b.cache:r.noop):new P(b.options.data)},_params:function(){var a,b=this,d=["filter","aggregate","group","sort","skip","take"],e=b.remote,f=b._remoteOperations().join(" "),c={local:{},remote:{}};return k(d,function(g,d){a=b[d],null!=a&&(e&&f.indexOf(d)>-1?c.remote[d]=a:c.local[d]=a)}),c},_remoteOperations:function(){var a=this.remote;return a&&a.read?a.read.operations||a.operations||[]:[]},_success:function(d,e,f,c,g){var a=this,h=a.schema,b=h.process(f);a.data=b.data,a._pTotal=b.total,a._pAggregates=b.aggregates,a._pGroups=b.groups,a._createView(b.data,e),a.trigger(Q),a.trigger(l,{fromCache:!!c,extra:g}),d.resolve(a.view,!!c)},_createView:function(c,d){var a=this,b=e.create(c,h({},d||a._params().local,{remoteOperations:a._remoteOperations()}),a._pTotal,a._pAggregates,a._pGroups);a.view=b.data,a.total=b.total,a._indices=b.indices,a.aggregates=b.aggregates},_error:function(c,d,e,a,f){var b=this;c.reject(a),d&&b.trigger(Q),b.trigger(s,{errorType:"transport",error:a,operation:e,extra:f})},read:function(d){var a=this,b=new w,c=a._params(),e=a.trigger(R,{params:c,extra:d});return e.isDefaultPrevented()?b.resolve():(a.cancel(),a._client().read(c.remote,j(a._success,a,b,c.local),j(a._error,a,b,!0,"read"),d)),b.promise()},_ensureTracker:function(){var b=this,c=b.tracker,d=b.data;if(!c){if(!d||!a.array(d))throw new Error("shield.DataSource: cannot modify when no data array is available.");c=b.tracker=new M({data:d,model:b.schema.model,events:{change:function(a){b._createView(b.data),a&&a.afterset||b.trigger(l)},error:function(a){b.trigger(s,{errorType:"tracker",path:a?a.path:"undefined path",value:a?a.value:"undefined value",error:a?a.reason:"undefined error",model:a?a.target:"undefined target model"})}}}),b.data=c.data}},getDataIndex:function(a){return this._indices[a]},add:function(a){return this._ensureTracker(),this.tracker.add(a)},insert:function(a,b){return this._ensureTracker(),this.tracker.insert(a,b)},remove:function(a){return this._ensureTracker(),this.tracker.remove(a)},removeAt:function(a){return this._ensureTracker(),this.tracker.removeAt(a)},edit:function(a){return this._ensureTracker(),this.tracker.edit(a)},insertView:function(a,b){return this.insert(this._indices[a],b)},removeAtView:function(a){return this.removeAt(this._indices[a])},editView:function(a){return this.edit(this._indices[a])},save:function(f,m){var h,g,e,k,b=this,d=b.tracker,i=d?d.changes:{added:[],edited:[],removed:[]},n=d&&b.trigger(S,{changes:i}),c=new w;if(f=a.defined(f)?!!f:!0,n&&!n.isDefaultPrevented()){for(h=b.data=d.original,g=d.data,h.length=0,e=0;e<g.length;e++)h[e]=g[e];b.options.data&&!a.func(b.options.data)&&c.done(j(b._syncLocalData,b)),b._client().modify(i,j(c.resolve,c),j(b._error,b,c,!1,"save"),m),d.destroy(),d=b.tracker=null}else c.resolve(i);return f&&(k=function(){b._createView(b.data),b.trigger(l,{extra:m})},c.then(k,k)),c.promise()},_syncLocalData:function(){var b,c=this,d=c.schema,f=(d.options.fields,c.data),e=(c.options.data,[]),g=a.array(d.getReverseDataFirstItem(c.options.data));for(b=0;b<f.length;b++)e[b]=g?[]:{},d.reverseFields(f[b],e[b]);d.reverseData(e,c.options.data)},cancel:function(){var b=this,a=b.tracker,c=a&&(a.changes.added.length||a.changes.edited.length||a.changes.removed.length);a&&(b.data=a.original,a.destroy(),a=b.tracker=null,c&&(b._createView(b.data),b.trigger(l)))},destroy:function(){var b,a=this,c=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(a.cancel(),a.cache&&a.cache.clear(),b=0;b<c.length;b++)delete a[c[b]];o.fn.destroy.call(a)}}),m.create=function(b,c){return b instanceof m?b:new m(a.array(b)?h({data:b},c):h({},b,c))},p=n.extend({init:function(a){this.options=a},parse:function(b){var c=this.options.parse;if(a.func(c))return c(b);if(a.string(b))try{b=d.parseJSON(b)}catch(e){}return b},data:function(c){var b=this.options.data;return a.func(b)?b(c):a.string(b)?g(c,b):c},aggregates:function(c){var b=this.options.aggregates;return a.func(b)?b(c):a.string(b)?g(c,b):f},groups:function(c){var b=this.options.groups;return a.func(b)?b(c):a.string(b)?g(c,b):f},reverseData:function(d,b){var c,e=this.options.data;if(a.func(e))e(d,b);else if(a.string(e))D(b,e,d);else if(a.array(b))for(b.length=0,c=0;c<d.length;c++)b[c]=d[c]},getReverseDataFirstItem:function(c){var b=this.data(c);return a.array(b)&&b.length>0?b[0]:f},total:function(b,d){var c=this.options.total;return b=b||[],d=d||[],a.func(c)?c(b):a.string(c)?g(b,c):d.length},fields:function(a){var b=this,d=b.options.fields,e=b.model=c.define(d);return d?t(a,function(a){return p.mapFields(a,e.fn.fields)}):a},reverseFields:function(){var c,d,b,j=this,e=j.options.fields,f=[].slice.call(arguments),g=f[0],i=f.length<=1,h=i?g:f[1];for(b in e)e.hasOwnProperty(b)&&(c=e[b],d=g[b],a.string(c.path)?D(h,c.path,d):a.func(c.path)?c.path(g,d):h[b]=d,i&&delete h[b])},process:function(b){var a=this,c=a.parse(b),e=a.aggregates(b),f=a.groups(b),d=a.fields(a.data(c));return{data:d,aggregates:e,groups:f,total:a.total(c,d)}}}),p.mapFields=function(e,i){var h,b,d,j={};e=e||{};for(h in i)i.hasOwnProperty(h)&&(b=i[h],a.string(b.path)?(d=g(e,b.path),d===f&&(d=g(e,h))):d=a.func(b.path)?b.path(e):e[h],d===f?b.type&&(d=c.def(b.type,b.def,b.nullable)):d=c.convert(d,b.type),j[h]=d);return j},H=p.extend({parse:function(b){var c=this,e=c.options;if(a.func(e.parse))b=e.parse(b);else if(a.string(b))try{b=d.parseXML(b)}catch(f){}return b&&9===b.nodeType&&(b=c._json(c._root(b))),b},_root:function(d){var a,c,b=d.childNodes;for(a=0,c=b.length;c>a;a++)if(1===b[a].nodeType)return b[a];return null},_json:function(g){var b,d,e,h,c={},i={},f="";for(e=0,h=g.attributes.length;h>e;e++)b=g.attributes[e],c["_"+b.nodeName]=b.nodeValue;for(e=0,h=g.childNodes.length;h>e;e++)switch(b=g.childNodes[e],d=b.nodeName,b.nodeType){case 1:i[d]?(a.array(c[d])||(c[d]=[c[d]]),c[d].push(this._json(b))):(c[d]=this._json(b),i[d]=!0);break;case 3:f+=b.nodeValue;break;case 4:c._cdata=b.nodeValue}return f=f.replace(/^\s+(.*)\s+$/gim,"$1"),f&&(c._text=f),c}}),G=p.extend({parse:function(c){var e,b=this.options,h=b.parse,f=d(c),g=[],i=[];if(a.func(h))return h(c);if(b.result)return b.result;if(!f[0]||"table"!==f[0].tagName.toLowerCase())return c;f.eq(0).find("thead th").each(function(){i.push(d(this).text())}).end().find("tbody tr").each(function(){e={},d(this).children().each(function(a){e[i[a]]=d(this).text()}),g.push(e)});return b.result=g,g}}),F=p.extend({parse:function(c){var b=this.options,g=b.parse,e=d(c),f=[];return a.func(g)?g(c):b.result?b.result:e[0]&&"select"===e[0].tagName.toLowerCase()?(e.find("option").each(function(b){var a=d(this);f.push({value:a.attr("value"),text:a.text(),selected:a.is(":selected")})}),b.result=f,f):c}}),m.schemas={json:p,xml:H,table:G,select:F},M=o.extend({init:function(a){var b=this;b.original=a.data,b.data=Array.apply(null,a.data),b.model=a.model,b.changes={added:[],edited:[],removed:[]},o.fn.init.call(this,a)},_model:function(c){var a=this,b=new a.model(c);return b.on(l,j(a.trigger,a,l)),b.on(s,j(a.trigger,a,s)),b.on(O,j(a.trigger,a,l,{afterset:!0})),b},add:function(a){return this.insert(this.data.length,a)},insert:function(b,e){var a,c=this,d=c.data,f=c.changes;if(0>b||b>d.length)throw new Error("shield.DataSource: invalid item index.");return a=c._model(e),f.added.push(a),d.splice(b,0,a.data),c.trigger(l,{operation:U,index:b,model:a}),a},edit:function(a){var b,d=this,c=d.data,e=d.changes;if(isNaN(a)||0>a||a>=c.length)throw new Error("shield.DataSource: invalid item index.");return(b=C(e.added.concat(e.edited),function(b){return b.data===c[a]})[0])?b:(b=d._model(c[a]),e.edited.push(b),c[a]=b.data,b)},remove:function(d){var a=this,e=a.changes,f=C(e.added.concat(e.edited),function(a){return a===d})[0],b=-1;return d instanceof c?f&&(b=J(f.data,a.data)):b=J(d,a.data),b>-1?a.removeAt(b):void 0},removeAt:function(a){var c=this,d=c.data,e=c.changes,b=C(e.added.concat(e.edited),function(b){return b.data===d[a]})[0];if(0>a||a>d.length)throw new Error("shield.DataSource: invalid item index.");return b?b.destroy():b=new c.model(d[a]),e.removed.push(b),d.splice(a,1),c.trigger(l,{operation:V,index:a,model:b}),b},destroy:function(){var b,c=this,a=c.changes,d=a.added.concat(a.edited).concat(a.removed);for(b=0;b<d.length;b++)d[b].destroy();a.added.length=a.edited.length=a.removed.length=0,c.data=c.original=null,o.fn.destroy.call(c)}}),c=o.extend({init:function(b,c){var a=this;o.fn.init.call(a,c),a.fields=h(!0,{},a.constructor.prototype.fields),a.data=h(!0,{},b)},trigger:i.ui.Widget.fn.trigger,get:function(a){return g(this.data,a)},set:function(c,a){var b=this;a=b.validate(c,a),a!==f&&(D(b.data,c,a),b.trigger(O))},validate:function(e,a){var d,h,i=this,b=g(i.fields,e);if(!b)return a;if(q(b.validator)===v)d=b.validator;else if(q(b.type.validate)===v)d=b.type.validate;else{var j=b.type.toString().split("(")[0].split(" ")[1].toLowerCase();d=c.validators[j]}if(d){if(h=d(a),h===f)return void i.trigger(s,{errorType:"validation",path:e,value:a,error:"validation error"});a=h}return null===a&&b.nullable===!1?void i.trigger(s,{errorType:"validation",path:e,value:a,error:"null value not allowed"}):a}}),c.define=function(a){return c.extend({fields:c.normalize(h(!0,{},a))})},c.normalize=function(a){var b,c,d;a=a||{};for(b in a)a.hasOwnProperty(b)&&(c=a[b],d=q(c),d===v?a[b]={type:c}:d===B?a[b]={type:c}:d===T&&(a[b]={path:c}));return a},c.def=function(a,b,d){var c;return b!==f?q(b)===v?b():b:d?null:a===String?"":a===Number?0:a===Date?new Date:a===Boolean?!1:a===Array?[]:a===Object?{}:(c=q(a),c===B?[]:c===N?{}:c===v?a():null)},c.convert=function(b,d){var c;return null==b?b:d===String?b.toString():d===Number?(c=parseFloat(b),isNaN(c)?b:c):d===Date?(c=new Date(b),isNaN(c.getTime())?b:c):d===Boolean?a.string(b)?!/^(false|0)$/i.test(b):!!b:b},c.validators={string:function(a){return null==a?null:a.toString()},number:function(a){return null===a?null:isNaN(+a)?f:+a},date:function(a){return null===a?null:a instanceof Date?a:(a=new Date(a),isNaN(a.getTime())?f:a)},"boolean":function(a){return null===a?null:null==a?f:!!a},array:function(a){return null===a?null:q(a)===B?a:f},object:function(a){return null===a?null:q(a)===N?a:f}},K=m.extend({init:function(a){h(a,{resursive:!0}),m.fn.init.call(this,a)}}),h(i,{map:t,DataSource:m,RecursiveDataSource:K,DataQuery:e,Model:c})}(jQuery,shield,this),function(a,e,w,b){function $(){if(f(L))return L;var d,c,b=a('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),e=b.children()[0];return a(g.body).append(b),d=e.offsetWidth,b.css(wa,I),c=e.offsetWidth,d===c&&(c=b[0].clientWidth),b.remove(),L=d-c}function Ta(a){var b=a.isWindow||a.isDocument?"":a.element.css(Ia),c=a.isWindow||a.isDocument?"":a.element.css(xa),d=b===I||b===sa&&a.width<a.element[0].scrollWidth,e=c===I||c===sa&&a.height<a.element[0].scrollHeight;return{width:e?$():0,height:d?$():0}}function ua(e){var b=a(e||w),c=la(b[0]),d=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:d,offset:c?{left:0,top:0}:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c||d?b.width():b.outerWidth(),height:c||d?b.height():b.outerHeight()}}function U(a,b,c){return[T(a[0])*(Z.test(a[0])?b/100:1),T(a[1])*(Z.test(a[1])?c/100:1)]}function h(b,c){var a=b.css(c);return a?Ma(a)||0:0}function Sa(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:la(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}function na(c,d){var b=0,e=f(d)?a(d).find(c):a(c);return e.each(function(c){b=j(b,h(a(this),"z-index"))}),b}function qa(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+g.body.scrollLeft-g.body.clientLeft,y:a.clientY+g.body.scrollTop-g.body.clientTop}}var L,q,E,y,A,r,c,Q,Y,O,aa,N,ma,m=e.ui.Widget,Ra=(e.Class,e.Constants.KeyCode),Qa=e.error,g=document,d=Math.abs,D=Math.min,j=Math.max,ga=Math.round,ha=Math.floor,ia=a.extend,o=a.proxy,ka=a.each,la=a.isWindow,f=e.is.defined,z=e.is.func,Pa=e.is.number,M=e.is.object,Oa=(e.is["null"],e.is.string),Na=e.is.array,Ma=e.to["int"],T=e.to.number,La=e.to.string,V=/left|center|right/,W=/top|center|bottom/,X=/[\+\-]\d+(\.[\d]+)?%?/,va=/^\w+/,Z=/%$/,t="mousedown",_="mouseup",C="mousemove",Ka="keydown",ca="start",da="stop",Ja="resize",Ua="resized",Aa="drag",za="drop",ya="cancel",R="disabled",n="px",k="left",v="right",l="top",x="bottom",pa="middle",i="center",wa="overflow",sa="auto",p="position",B="absolute",ra="relative",Ia="overflow-x",xa="overflow-y",I="scroll",H="horizontal",G="vertical",Ba="my",Ca="at",Da="marginLeft",Ea="marginRight",Fa="marginTop",Ga="marginBottom",Ha="flip",fa="pointer",ea="fit",ba="intersect",J="sui-resizable",S=J+"-"+R,u="sui-draggable",ta=u+"-"+R,oa=u+"-dragging",s="sui-unselectable",F="sui-droppable",K=F+"-"+R,P=F+"-over",ja=0;y={},y.GetWithinInfo=ua,y.GetMaxZIndex=na,y.GetCoordinates=qa,e.ui.Util=y,q=function(){return ja++,E?E:(this.init(),void(E=this))},q.prototype={_pos:null,init:function(){var b=this;a(g).on(C+".suiMouseTracker",o(b._onMouseMove,b))},_onMouseMove:function(a){this._pos=this.getPosFromEvent(a)},getPosFromEvent:function(a){return qa(a)},getPosition:function(b){var a=this;return null===a._pos&&f(b)&&(a._pos=a.getPosFromEvent(b)),a._pos},isInWindow:function(g){var h=this,b=h.getPosition(g),c=b.x,d=b.y,e=a(w).scrollTop(),f=a(w).scrollLeft();return c>=f&&c<=f+a(w).width()&&d>=e&&d<=e+a(w).height()},destroy:function(){--ja>0||(a(g).off(C+".suiMouseTracker"),E=null)}},e.MouseTracker=q,A={},A.Set=function(J,C,n){if(!J||!C||!n)throw"Invalid arguments passed to Position.Set";var s,f,g,q,m,u,c={my:n.source,at:n.target,collision:n.overflow,inside:n.inside},B=a(C),E=ua(c.inside),D=Ta(E),t=(c.collision||Ha).split(" "),y={};u=Sa(B),B[0].preventDefault&&(c.at="left top"),f=u.width,g=u.height,q=u.offset,m=ia({},q),ka([Ba,Ca],function(){var b,d,e=this,a=(c[e]||"").split(" ");1===a.length&&(a=V.test(a[0])?a.concat([i]):W.test(a[0])?[i].concat(a):[i,i]),a[0]=V.test(a[0])?a[0]:i,a[1]=W.test(a[1])?a[1]:i,b=X.exec(a[0]),d=X.exec(a[1]),y[e]=[b?b[0]:0,d?d[0]:0],c[e]=[va.exec(a[0])[0],va.exec(a[1])[0]]}),1===t.length&&(t[1]=t[0]),c.at[0]===v?m.left+=f:c.at[0]===i&&(m.left+=f/2),c.at[1]===x?m.top+=g:c.at[1]===i&&(m.top+=g/2),s=U(y.at,f,g),m.left+=s[0],m.top+=s[1];var F,A,e=a(J),p=e.outerWidth(),o=e.outerHeight(),K=h(e,Da),I=h(e,Fa),M=p+K+h(e,Ea)+D.width,L=o+I+h(e,Ga)+D.height,b=ia({},m),w=U(y.my,e.outerWidth(),e.outerHeight());c.my[0]===v?b.left-=p:c.my[0]===i&&(b.left-=p/2),c.my[1]===x?b.top-=o:c.my[1]===i&&(b.top-=o/2),b.left+=w[0],b.top+=w[1],b.left=ga(b.left),b.top=ga(b.top),F={marginLeft:K,marginTop:I},ka([k,l],function(a,d){r[t[a]]&&r[t[a]][d](b,{targetWidth:f,targetHeight:g,elemWidth:p,elemHeight:o,collisionPosition:F,collisionWidth:M,collisionHeight:L,offset:[s[0]+w[0],s[1]+w[1]],my:c.my,at:c.at,within:E,elem:e})}),z(n.callback)&&(A=function(){var c=q.left-b.left,m=c+f-p,h=q.top-b.top,r=h+g-o,a={target:{element:B,left:q.left,top:q.top,width:f,height:g},element:{element:e,left:b.left,top:b.top,width:p,height:o},horizontal:0>m?k:c>0?v:i,vertical:0>r?l:h>0?x:pa};p>=f&&d(c+m)<=f&&(a.horizontal=i),o>=g&&d(h+r)<=g&&(a.vertical=pa),j(d(c),d(m))>j(d(h),d(r))?a.important=H:a.important=G,n.callback(a)}),e.offset(b),A&&A()},r={fit:{left:function(a,c){var i,f=c.within,d=f.isWindow?f.scrollLeft:f.offset.left,g=f.width,h=a.left-c.collisionPosition.marginLeft,b=d-h,e=h+c.collisionWidth-g-d;c.collisionWidth>g?b>0&&0>=e?(i=a.left+b+c.collisionWidth-g-d,a.left+=b-i):e>0&&0>=b?a.left=d:b>e?a.left=d+g-c.collisionWidth:a.left=d:b>0?a.left+=b:e>0?a.left-=e:a.left=j(a.left-h,a.left)},top:function(a,b){var i,g=b.within,d=g.isWindow?g.scrollTop:g.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,c=d-h,e=h+b.collisionHeight-f-d;b.collisionHeight>f?c>0&&0>=e?(i=a.top+c+b.collisionHeight-f-d,a.top+=c-i):e>0&&0>=c?a.top=d:c>e?a.top=d+f-b.collisionHeight:a.top=d:c>0?a.top+=c:e>0?a.top-=e:a.top=j(a.top-h,a.top)}},flip:{left:function(c,a){var i,h,b=a.within,p=b.offset.left+b.scrollLeft,l=b.width,j=b.isWindow?b.scrollLeft:b.offset.left,m=c.left-a.collisionPosition.marginLeft,n=m-j,o=m+a.collisionWidth-l-j,e=a.my[0]===k?-a.elemWidth:a.my[0]===v?a.elemWidth:0,g=a.at[0]===k?a.targetWidth:a.at[0]===v?-a.targetWidth:0,f=-2*a.offset[0];0>n?(i=c.left+e+g+f+a.collisionWidth-l-p,(0>i||i<d(n))&&(c.left+=e+g+f)):o>0&&(h=c.left-a.collisionPosition.marginLeft+e+g+f-j,(h>0||d(h)<o)&&(c.left+=e+g+f))},top:function(b,a){var k,j,f=a.within,p=f.offset.top+f.scrollTop,n=f.height,m=f.isWindow?f.scrollTop:f.offset.top,o=b.top-a.collisionPosition.marginTop,h=o-m,i=o+a.collisionHeight-n-m,q=a.my[1]===l,e=q?-a.elemHeight:a.my[1]===x?a.elemHeight:0,c=a.at[1]===l?a.targetHeight:a.at[1]===x?-a.targetHeight:0,g=-2*a.offset[1];0>h?(j=b.top+e+c+g+a.collisionHeight-n-p,b.top+e+c+g>h&&(0>j||j<d(h))&&(b.top+=e+c+g)):i>0&&(k=b.top-a.collisionPosition.marginTop+e+c+g-m,b.top+e+c+g>i&&(k>0||d(k)<i)&&(b.top+=e+c+g))}},flipfit:{left:function(){r.flip.left.apply(this,arguments),r.fit.left.apply(this,arguments)},top:function(){r.flip.top.apply(this,arguments),r.fit.top.apply(this,arguments)}}},e.ui.Position=A,ma={enabled:!0,cls:b,iframeFix:!1,resizeCls:b,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:b,maxWidth:b,events:{}},N=m.extend({init:function(){m.fn.init.apply(this,arguments),f(this.initialOptions.handles)&&(this.options.handles=this.initialOptions.handles);var b=this,e=a(b.element),c=b.options,d=c.cls;b._eventNS=".shieldResizable"+b.getInstanceId(),b.mouseTracker=new q,e.addClass(J+(d?" "+d:"")),b._initHandles(),b.enabled(c.enabled)},_initHandles:function(){var h,d,e,b=this,l=a(b.element),p=(l.width(),l.height()),j=b.options,m=j.handles,k=j.handleWidth,i=k+n,f=k+2+n,c="-"+(k-2)+n,q=j.handleZIndex;for(b.handles=[],e=0;e<m.length;e++){switch(h=La(m[e]).toLowerCase(),d={},h){case"e":d={width:i,height:p+n,top:0,right:c};break;case"w":d={width:i,height:p+n,top:0,left:c};break;case"n":d={width:"100%",height:i,top:c};break;case"s":d={width:"100%",height:i,bottom:c};break;case"se":d={width:f,height:f,bottom:c,right:c};break;case"sw":d={width:f,height:f,bottom:c,left:c};break;case"ne":d={width:f,height:f,top:c,right:c};break;case"nw":d={width:f,height:f,top:c,left:c}}d.zIndex=q,b.handles[e]={type:h},b.handles[e][t]=o(b._handleMouseDown,b,e),b.handles[e].element=a('<div class="sui-resizable-handle sui-resizable-dir-'+h+'"></div>').appendTo(l).css(d).on(t,b.handles[e][t])}a(g).on(_+b._eventNS,o(b._handleMouseUp,b)).on(C+b._eventNS,o(b._handleMouseMove,b))},_destroyHandles:function(){var b,c=this,d=c.handles;for(a(g).off(c._eventNS),b=0;b<d.length;b++)a(c.handles[b].element).off(t,c.handles[b][t]).remove();c.handles=[]},_fixIframes:function(){var c,d=this,b=d.options.iframeFix;b&&(c=b===!0?"iframe":b,d._fixedFrames=a(g.body).find(c).map(function(){var b=a(this);return a("<div/>").css(p,B).appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]}))},_unfixIframes:function(){var b=this;b._fixedFrames&&(a(b._fixedFrames).remove(),delete b._fixedFrames)},_handleMouseDown:function(c,d){var b=this;b._enabled&&!b.resizing&&(b.resizing=!0,b.resizingHandle=c,b.oldPos=b.mouseTracker.getPosition(d),b.startSent=!1,a(b.element).addClass(s),b._fixIframes())},_handleMouseMove:function(G){var s,x,y,m,j,c,b,i,g,v,w,q,o,t,e=this,p=a(e.element),r=e.options,u=r.delta,z=r.minWidth,A=r.maxWidth,B=r.minHeight,C=r.maxHeight,E=r.resizeCls,F=e.resizingHandle,D=e.handles,H=e.mouseTracker,I=e.oldPos;if(H.isInWindow(G)&&e.resizing&&f(F)&&(y=H.getPosition(G),m=y.x-I.x,j=y.y-I.y,s=D[F],x=s.type,d(m)>=u||d(j)>=u)){switch(/^(se|sw|ne|nw)$/i.test(x)||(/^(e|w)$/i.test(x)?j=0:m=0),d(m)<u&&(m=0),d(j)<u&&(j=0),c=m,b=j,i=0,g=0,x){case"w":c=-m,i=-c;break;case"n":b=-j,g=-b;break;case"nw":c=-m,b=-j,i=-c,g=-b;break;case"sw":c=-m,i=-c;break;case"ne":b=-j,g=-b}if(q=p.width(),o=p.height(),v=h(p,l),w=h(p,k),c>0?(f(A)&&q+c>A&&(c=A-q,0!==i&&(i=-c)),0>w+i&&(c-=w-i,i=-c)):0>c&&f(z)&&z>q+c&&(c=z-q,0!==i&&(i=-c)),b>0?(f(C)&&o+b>C&&(b=C-o,0!==g&&(g=-b)),0>v+g&&(b-=v-g,g=-b)):0>b&&f(B)&&B>o+b&&(b=B-o,0!==g&&(g=-b)),0!==c||0!==b){e.startSent||(e.startSent=!0,e.trigger(ca),E&&p.addClass(E));var J=e.trigger(Ja,{deltaX:c,deltaY:b});if(!J.isDefaultPrevented()){if(p.width(q+c).height(o+b),(0!==i||0!==g)&&p.css({top:v+g+n,left:w+i+n}),e.oldPos.x=e.oldPos.x+m,e.oldPos.y=e.oldPos.y+j,0!==j)for(t=0;t<D.length;t++)s=D[t],/^(e|w)$/i.test(s.type)&&a(s.element).height(o+b);e.trigger(Ua)}}}},_handleMouseUp:function(f){var c=this,e=!!c.startSent,d=c.options.resizeCls;c._unfixIframes(),c.resizing&&(c.resizing=!1,c.resizingHandle=b,c.oldPos=b,c.startSent=!1,e&&c.trigger(da),a(c.element).removeClass(s+(d?" "+d:"")))},resize:function(c,d){var e=this,b=e.options;c=j(D(c,b.maxWidth),b.minWidth),d=j(D(d,b.maxHeight),b.minHeight),a(e.element).width(c).height(d)},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeClass(S):d.addClass(S),c._enabled=b,void 0):c._enabled},destroy:function(){var b=this,c=b.options.cls;b.mouseTracker.destroy(),b.mouseTracker=null,a(b.element).removeClass(J+(c?" "+c:"")),b._destroyHandles(),m.fn.destroy.call(b)}}),N.defaults=ma,e.ui.plugin("Resizable",N),c={droppables:{"default":[]},Register:function(b){var a=b.options.scope;c.droppables[a]=c.droppables[a]||[],c.droppables[a].push(b)},UnRegister:function(d){var a,e=d.options.scope,b=c.droppables[e];for(a=0;a<b.length;a++)b[a]===d&&b.splice(a,1)},PrepareOffsets:function(e,i){var f,g,b,d=c.droppables[e.options.scope]||[],h=a(e.helper||e.element);for(b=0;b<d.length;b++)f=d[b].enabled(),g=d[b].visible(),!f||!g||e&&!d[b].accepts(e.element)||e&&e.element.get(0)===d[b].element.get(0)||(d[b].ddIsEnabled=f,d[b].ddIsVisible=g,d[b].ddOffset=d[b].element.offset(),d[b].proportions({width:d[b].element[0].offsetWidth,height:d[b].element[0].offsetHeight}));e.proportions({width:h[0].offsetWidth,height:h[0].offsetHeight})},DragStart:function(a,b){c.PrepareOffsets(a,b)},Drag:function(d,e){var f,a,b=c.droppables[d.options.scope]||[],g=b.length;for(a=0;g>a;a++)!b[a].ddIsEnabled||!b[a].ddIsVisible||d&&!b[a].accepts(d.element)||d&&d.element.get(0)===b[a].element.get(0)||(f=c.Intersects(d,b[a],e),f?b[a].ddIsOver||(b[a].ddIsOver=!0,b[a].over(d,e)):b[a].ddIsOver&&(b[a].ddIsOver=!1,b[a].out(d,e)))},Drop:function(d,f){var g,a,h,i,e,b=c.droppables[d.options.scope]||[],j=b.length;for(a=0;j>a;a++)!b[a].ddIsEnabled||!b[a].ddIsVisible||d&&!b[a].accepts(d.element)||d&&d.element.get(0)===b[a].element.get(0)||(b[a].stop(),g=c.Intersects(d,b[a],f),b[a].ddIsOver=!1,g&&(e=b[a].drop(d,f),e.isDefaultPrevented()&&(h=!0),e.skipAnimation&&(i=!0)));return{cancelled:h,skipAnimation:i}},Intersects:function(m,s,x){var o,u,h,i,j,k,e,f,g,l=s.options.tolerance,t=M(l)?l.x:l,r=M(l)?l.y:l,w=s.proportions(),v=s.ddOffset,n=w.width,p=w.height,d=v.left,b=v.top;if(t==fa){var y=new q;g=y.getPosition(x),y.destroy(),o=d<=g.x&&d+n>=g.x}else h=m.proportions(),i=h.width,j=h.height,k=a(m.helper||m.element).offset(),e=k.left,f=k.top,o=t==ea?c._linesOverlap(e,e+i,d,d+n,i):t==ba?c._linesOverlap(e,e+i,d,d+n,i/2):c._linesOverlap(e,e+i,d,d+n,0);if(!o)return!1;if(r==fa){if(!g){var z=new q;g=z.getPosition(x),z.destroy()}u=b<=g.y&&b+p>=g.y}else h||(h=m.proportions(),i=h.width,j=h.height,k=a(m.helper||m.element).offset(),e=k.left,f=k.top),u=r==ea?c._linesOverlap(f,f+j,b,b+p,j):r==ba?c._linesOverlap(f,f+j,b,b+p,j/2):c._linesOverlap(f,f+j,b,b+p,0);return o&&u},_linesOverlap:function(b,c,d,e,a){return f(a)||(a=0),d>b&&e>c?c-d>a:b>d&&c>e?e-b>a:!0}},e.ui.DDManager=c,Y={enabled:!0,iframeFix:!1,cls:b,dragCls:b,scope:"default",handle:b,direction:b,min:b,max:b,step:b,allowedPositions:b,stack:!0,helper:b,appendTo:"parent",animation:{enabled:!0,revertDuration:200},events:{}},Q=m.extend({init:function(){m.fn.init.apply(this,arguments);var c,b=this,d=a(b.element),e=b.options,f=e.cls;b._eventNS=".shieldDraggable"+b.getInstanceId(),b.mouseTracker=new q,d.addClass(u+(f?" "+f:"")),c=d.css(p),c!==ra&&c!==B&&(b._origPosStyle=c,d.css(p,ra)),b.enabled(e.enabled),b.startSent=!1},proportions:function(){var a=this;return arguments.length>0?void(a._proportions=arguments[0]):a._proportions?a._proportions:a._proportions={width:a.element[0].offsetWidth,height:a.element[0].offsetHeight}},_fixIframes:function(){var c,d=this,b=d.options.iframeFix;b&&(c=b===!0?"iframe":b,d._fixedFrames=a(g.body).find(c).map(function(){var b=a(this);return a("<div/>").css(p,B).appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]}))},_unfixIframes:function(){var b=this;b._fixedFrames&&(a(b._fixedFrames).remove(),delete b._fixedFrames)},_handleMouseDown:function(d){var b=this,c=b._eventNS;b._enabled&&!b._dragging&&(a(g.body).addClass(s),b._dragging=!0,b.startSent=!1,b.helper=b._isCustomHelper=null,b.stepPosition=b.mousePos=b.mouseTracker.getPosition(d),a(g).on(C+c,o(b._handleMouseMove,b)).on(_+c,o(b._handleMouseUp,b)).on(Ka+c,o(b._handleKeyDown,b)),b._fixIframes())},_initHelper:function(n){var b,c=this,e=c.element,f=c.options,d=f.helper,i=f.appendTo,j=f.cls,m=f.dragCls;c._helperInitialized||(d&&"original"!==d?(b=z(d)?d.call(c,{position:c.oriPosition,event:n}):"clone"==d?e.clone():a(d),b.parents("body").length||("parent"===i?e.after(b):i&&"body"!==i?b.appendTo(a(i)):b.appendTo(g.body)),/(fixed|absolute)/i.test(b.css(p))||b.css(p,B),A.Set(b,e,{source:"left top",target:"left top",overflow:"none"}),c._isCustomHelper=!0):(b=e,c._isCustomHelper=!1),c.helper=b,b.addClass(s+" "+u+(j?" "+j:"")+" "+oa+(m?" "+m:"")),c.oriPosition={left:h(b,k),top:h(b,l)},c._helperInitialized=!0)},_handleMouseMove:function(r){var u,q,p,C,A,n,o,i,m,g,O,N,e=this,B=e.options,E=B.step,I=B.direction,s=B.allowedPositions,U=s!==b&&s.length>0,v=B.min,w=B.max,T=e.mouseTracker,y=T.getPosition(r);if(T.isInWindow(r)&&e._dragging){if(e._initHelper(r),g=a(e.helper),O=g.width(),N=g.height(),C=h(g,l),A=h(g,k),U){var R,S,K,L,x,t,F=b,J=b,P=b,Q=b;
for(R=y.x-e.stepPosition.x,S=y.y-e.stepPosition.y,K=A+R,L=C+S,x=0;x<s.length;x++)t=s[x],t.x!==b&&(P===b||P>d(K-t.x))&&(P=d(K-t.x),F=x),t.y!==b&&(Q===b||Q>d(L-t.y))&&(Q=d(L-t.y),J=x);n=A,o=C,F!==b&&(n=s[F].x,e.stepPosition.x+=s[F].x-A),J!==b&&(o=s[J].y,e.stepPosition.y+=s[J].y-C)}else{if(i=I==G?0:y.x-e.mousePos.x,m=I==H?0:y.y-e.mousePos.y,f(E)){if(u=z(E)?E.call(this,{deltaX:i,deltaY:m,element:g,domEvent:r,helperLeft:h(g,k),helperTop:h(g,l),mouse:y}):E,Pa(u)?q=p=u:M(u)&&(q=u.x,p=u.y),f(q)&&d(i)<q&&f(p)&&d(m)<p)return;f(q)&&q>1&&i%q!==0&&(i=(i>=0?1:-1)*ha(d(i)/q)*q),f(p)&&p>1&&m%p!==0&&(m=(m>=0?1:-1)*ha(d(m)/p)*p)}n=A+i,o=j(0,C+m)}I==H&&(v!==b&&(n=j(v,n),n===v&&(i=0)),w!==b&&(n=D(w-O,n),n===w-O&&(i=0))),I==G&&(v&&(o=j(v,o),o===v&&(m=0)),w&&(o=D(w-N,o),o===w-N&&(m=0))),g.css({left:n,top:o}),e.mousePos=y,e.startSent||(e.startSent=!0,e.trigger(ca,{element:g,domEvent:r}),e._adjustZIndex(),c.DragStart(e,r)),e.trigger(Aa,{deltaX:i,deltaY:m,element:g,domEvent:r}),c.Drag(e,r)}},_handleMouseUp:function(n){var e,j,f,i,b=this,p=b.element,d=b.helper,m=b.options.animation;b._unfixIframes(),a(g.body).removeClass(s),b._dragging&&(b.startSent?(j=c.Drop(b,n),f=j.cancelled,i=j.skipAnimation,e=b.trigger(da,{left:h(d,k),top:h(d,l),element:d,domEvent:n,cancelled:f,skipAnimation:i}),i=e.skipAnimation,f=e.cancelled,f===!0||e.isDefaultPrevented()?a(d).animate({left:b.oriPosition.left,top:b.oriPosition.top},!i&&m&&m.enabled?m.revertDuration:0,o(b._endDrag,b)):(b._isCustomHelper&&(A.Set(p,d,{source:"left top",target:"left top",overflow:"none"}),b._adjustZIndex(p)),b._endDrag())):b._endDrag())},_adjustZIndex:function(b){var d=this,c=d.options.stack;c!==!1&&(f(b)||(b=d.helper),a(b).css("z-index",na(c===!0?"."+u:c)+1))},_handleKeyDown:function(b){var a=this,c=b.keyCode;switch(c){case Ra.ESC:a._dragging&&(a.helper.css({left:a.oriPosition.left+n,top:a.oriPosition.top+n}),a.trigger(ya),a._unfixIframes(),a._endDrag())}},_endDrag:function(){var b=this,c=b.options.dragCls;b._dragging=!1,b._isCustomHelper?a(b.helper).remove():a(b.helper).removeClass(s+" "+oa+(c?" "+c:"")),a(g).off(b._eventNS),b.mousePos=b.oriPosition=b.helper=b._isCustomHelper=b._helperInitialized=null},enabled:function(){var c,b=this,d=a(b.element),e=b.options,f=e.handle?a(e.handle):d,g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?(d.removeClass(ta),b._mouseDownProxy||(b._mouseDownProxy=o(b._handleMouseDown,b),f.on(t,b._mouseDownProxy))):(d.addClass(ta),b._mouseDownProxy&&(f.off(t,b._mouseDownProxy),b._mouseDownProxy=null)),b._enabled=c,void 0):b._enabled},destroy:function(){var b=this,c=b.options.cls;b.mouseTracker&&(b.mouseTracker.destroy(),b.mouseTracker=null),a(b.element).removeClass(u+(c?" "+c:"")),b._origPosStyle&&(a(b.element).css(p,b._origPosStyle),b._origPosStyle=null),m.fn.destroy.call(b)}}),Q.defaults=Y,e.ui.plugin("Draggable",Q),aa={enabled:!0,accepts:"*",cls:b,hoverCls:b,tolerance:"intersect",scope:"default",events:{}},O=m.extend({init:function(){m.fn.init.apply(this,arguments);var b=this,g=a(b.element),d=b.options,h=d.dieOnError,e=d.accepts,f=d.cls;return Oa(e)||Na(e)||e instanceof a||z(e)?(b._eventNS=".shieldDroppable"+b.getInstanceId(),g.addClass(F+(f?" "+f:"")),c.Register(b),void b.enabled(d.enabled)):void Qa("shieldDroppable: The accepts option must be a string, array, function or jQuery object.",h)},accepts:function(c){var b=this.options.accepts;return z(b)?b.call(this,c):a(c).is(b)},proportions:function(){var a=this;return arguments.length>0?void(a._proportions=arguments[0]):a._proportions?a._proportions:a._proportions={width:a.element[0].offsetWidth,height:a.element[0].offsetHeight}},over:function(d,e){var b=this,c=b.options.hoverCls,f=b.trigger("over",{draggable:d.element,droppable:this.element,domEvent:e});f.isDefaultPrevented()||a(b.element).addClass(P+(c?" "+c:""))},out:function(d,e){var b=this,c=b.options.hoverCls;b.trigger("out",{draggable:d.element,droppable:this.element,domEvent:e}),a(b.element).removeClass(P+(c?" "+c:""))},stop:function(){var b=this.options.hoverCls;a(this.element).removeClass(P+(b?" "+b:""))},drop:function(b,a){return this.trigger(za,{draggable:b.element,droppable:this.element,cancelled:a.cancelled,skipAnimation:a.skipAnimation,domEvent:a})},enabled:function(){var c,b=this,d=[].slice.call(arguments);return d.length>0?(c=!!d[0],c?a(b.element).removeClass(K):a(b.element).addClass(K),b._enabled=c,void 0):b._enabled},destroy:function(){var d=this,e=d.options.cls;c.UnRegister(d),a(d.element).removeClass(F+K+s+(e?" "+e:"")),d._enabled=d._proportions=b,m.fn.destroy.call(d)}}),O.defaults=aa,e.ui.plugin("Droppable",O)}(jQuery,shield,this),function(l,e,b,c){var L,q,P,$,ba,v,f=e.exp=e.exp||{},Ba=e.Class,Q=(e.DataSource,e.support.browser),pa=e.iid,n=document,w=l.extend,j=l.map,za=l.each,i=e.is,d=i.string,t=i.array,o=i.number,M=i["boolean"],z=i.date,a=i.defined,p=i["null"],V=i.func,Y=i.object,K=e.to["int"],wa=e.to.key,h=e.error,A=e.keys,N=(e.get,e.Constants.XHTML_NS),ca="application/octet-stream",C="download",G="Untitled",Aa=function(){},R="author",U="creator",ia="l",ja="p",ka="mm",la="in",B="pt",qa="cm",va="px",La="pc",xa="em",ya="ex",Z="RG",u="helvetica",k="times",Ca="sans-serif",Da="arial",Ga="verdana",Ha="fixed",Ia="monospace",da="serif",ea="terminal",fa="cursive",ga="fantasy",s="courier",r="normal",y="bold",D="italic",E="bolditalic",ma="center",na="both",oa="S",F="F",S="FD",ra="DF",sa="B",ta="f*",ua="B*",T=19.049976/25.4,m=function(a){return l("<div/>").text(a).html().replace('"',"&quot;").replace(/(?:[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x1F])/g,"")},H=function(a){return l("<div/>").html(a).text()},W=function(a){z(a)||(d(a)&&(a=a.replace(/\s+/g,"")),a=new Date(a));var b=25569+a.getTime()/864e5;return b.toString()},X=function(b){return a(b)?z(b)?b:new Date(d(b)?b.replace(/\s+/g,""):b):new Date},I=function(a){return X(a).toISOString().replace(/\.\d+/,"")},J=function(b){return a(b)&&d(b)&&b.length>0?b.charAt(0).toUpperCase()+b.substr(1):b},x=function(a){return a?1:0},_=function(a){return("FF"+a).replace("#","").toUpperCase()},Ea=function(d){for(var b,a=K(d),c="";a>0;)b=(a-1)%26,c=String.fromCharCode(65+b)+c,a=K((a-b)/26);return c},Fa=function(a,b){return Ea(b)+a},aa=function(a,b){return'<?xml version="1.0"'+(a?' encoding="UTF-8"':"")+(b?' standalone="yes"':"")+"?>\n"},g=function(){return aa(1,1)},O=function(a){return a},Ja=function(c,b){return b=a(b)?b:7,O(((c-5)/7*100+.5)/100)},Ka=function(c,b){return b=a(b)?b:7,O((c*b+5)/b*256/256)},ha=function(a,b){if(a&&b){var c=a.indexOf(b);return c>=0&&c===a.length-b.length}return!1};!function(c){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a(c.btoa)||(c.btoa=function(a){var i,l,k,j,g,h,n,c,d=0,o=0,f="",m=[];if(!a)return a;do i=a.charCodeAt(d++),l=a.charCodeAt(d++),k=a.charCodeAt(d++),c=i<<16|l<<8|k,j=c>>18&63,g=c>>12&63,h=c>>6&63,n=63&c,m[o++]=b.charAt(j)+b.charAt(g)+b.charAt(h)+b.charAt(n);while(d<a.length);f=m.join("");var e=a.length%3;return(e?f.slice(0,e-3):f)+"===".slice(e||3)}),a(c.atob)||(c.atob=function(a){var f,h,m,l,k,j,g,e,c=0,i=0,n="",d=[];if(!a)return a;a+="";do l=b.indexOf(a.charAt(c++)),k=b.indexOf(a.charAt(c++)),j=b.indexOf(a.charAt(c++)),g=b.indexOf(a.charAt(c++)),e=l<<18|k<<12|j<<6|g,f=e>>16&255,h=e>>8&255,m=255&e,64==j?d[i++]=String.fromCharCode(f):64==g?d[i++]=String.fromCharCode(f,h):d[i++]=String.fromCharCode(f,h,m);while(c<a.length);return n=d.join("")})}(b),function(){if(b.URL=b.URL||b.webkitURL,b.Blob&&b.URL)try{new b.Blob;return void(f.Blob=b.Blob)}catch(e){}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||function(){var k=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},l=function(){this.data=[]},d=function(b,c,d){var a=this;a.data=b,a.size=b.length,a.type=c,a.encoding=d},f=l.prototype,e=d.prototype,q=b.FileReaderSync,t=function(b){var a=this;a.code=a[a.name=b]},j="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),g=j.length,c=b.URL||b.webkitURL||b,m=c.createObjectURL,o=c.revokeObjectURL,h=c,r=b.btoa,s=b.atob,u=b.ArrayBuffer,i=b.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=e.fake=!0;g--;)t.prototype[j[g]]=g+1;return c.createObjectURL||(h=b.URL=function(c){var b,a=n.createElementNS(N,"a");return a.href=c,"origin"in a||("data:"===a.protocol.toLowerCase()?a.origin=null:(b=c.match(v),a.origin=b&&b[1])),a}),h.createObjectURL=function(a){var b,e=a.type;return p(e)&&(e=ca),a instanceof d?(b="data:"+e,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):r?b+";base64,"+r(a.data):b+","+encodeURIComponent(a.data)):m?m.call(c,a):void 0},h.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&o&&o.call(c,a)},f.append=function(c){var e=this.data;if(a(i)&&(c instanceof u||c instanceof i)){var f,g="",h=new i(c),j=h.length;for(f=0;j>f;f++)g+=String.fromCharCode(h[f]);e.push(g)}else if("Blob"===k(c)||"File"===k(c)){if(!q)throw new t("NOT_READABLE_ERR");var l=new q;e.push(l.readAsBinaryString(c))}else c instanceof d?"base64"===c.encoding&&s?e.push(s(c.data)):"URI"===c.encoding?e.push(decodeURIComponent(c.data)):"raw"===c.encoding&&e.push(c.data):(c+="",e.push(b.unescape(encodeURIComponent(c))))},f.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},f.toString=function(){return"[object BlobBuilder]"},e.slice=function(e,f,b){var a=this,c=arguments.length;return 3>c&&(b=null),new d(a.data.slice(e,c>1?f:a.data.length),b,a.encoding)},e.toString=function(){return"[object Blob]"},e.close=function(){this.size=0,delete this.data},l}();f.Blob=function(f,i){var d,j,e,k=i?i.type||"":"",g=new c,h=b.Uint8Array;if(f)for(d=0,j=f.length;j>d;d++)a(h)&&h&&f[d]instanceof h?g.append(f[d].buffer):g.append(f[d]);return e=g.getBlob(k),!e.slice&&e.webkitSlice&&(e.slice=e.webkitSlice),e};var d=Object.getPrototypeOf||function(a){return a.__proto__};f.Blob.prototype=d(new f.Blob)}(),function(){var e=b.saveAs||function(){if(Q.ie&&Q.version<10)return c;var g=function(){return b.URL||b.webkitURL||b},f=n.createElementNS(N,"a"),t=C in f,s=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},h=b.webkitRequestFileSystem,o=b.requestFileSystem||h||b.mozRequestFileSystem,r=function(a){(b.setImmediate||b.setTimeout)(function(){throw a},0)},i=ca,m=0,q=500,k=function(a){var c=function(){d(a)?g().revokeObjectURL(a):a.remove()};b.chrome?c():setTimeout(c,q)},j=function(b,a,e){var c,d;for(a=[].concat(a),c=a.length;c--;)if(d=b["on"+a[c]],V(d))try{d.call(b,e||b)}catch(f){r(f)}},p=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a},l=function(d,l,z){z||(d=p(d));var e,r,y,c=this,u=d.type,v=!1,w=function(){j(c,"writestart progress write writeend".split(" "))},n=function(){var f;(v||!e)&&(e=g().createObjectURL(d)),r?r.location.href=e:(f=b.open(e,"_blank"),a(f)||"undefined"==typeof safari||(b.location.href=e)),c.readyState=c.DONE,w(),k(e)},q=function(a){return function(){return c.readyState!==c.DONE?a.apply(this,arguments):void 0}},x={create:!0,exclusive:!1};return c.readyState=c.INIT,l||(l=G),t?(e=g().createObjectURL(d),f.href=e,f.download=l,void setTimeout(function(){s(f),w(),k(e),c.readyState=c.DONE})):(b.chrome&&u&&u!==i&&(y=d.slice||d.webkitSlice,d=y.call(d,0,d.size,i),v=!0),h&&l!==C&&(l+="."+C),(u===i||h)&&(r=b),o?(m+=d.size,void o(b.TEMPORARY,m,q(function(a){a.root.getDirectory("saved",x,q(function(a){var b=function(){a.getFile(l,x,q(function(a){a.createWriter(q(function(b){b.onwriteend=function(b){r.location.href=a.toURL(),c.readyState=c.DONE,j(c,"writeend",b),k(a)},b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&n()},"writestart progress write abort".split(" ").forEach(function(a){b["on"+a]=c["on"+a]}),b.write(d),c.abort=function(){b.abort(),c.readyState=c.DONE},c.readyState=c.WRITING}),n)}),n)};a.getFile(l,{create:!1},q(function(a){a.remove(),b()}),q(function(a){a.code===a.NOT_FOUND_ERR?b():n()}))}),n)}),n)):void n())},e=l.prototype,u=function(a,b,c){return new l(a,b,c)};return a(navigator)&&navigator.msSaveOrOpenBlob?function(a,b,c){return c||(a=p(a)),navigator.msSaveOrOpenBlob(a,b||G)}:(e.abort=function(){var a=this;a.readyState=a.DONE,j(a,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,u)}();f.saveAs=function(c){var d=c.content,g=c.contentType,i=c.name,m=c.noAutoBom,j=c.proxy,k="suidlifrm"+pa();a(e)&&!c.forceProxy?e(new f.Blob([d],{type:g}),i,m):j?(l(L).remove(),L=l('<div style="display:none;"><iframe name="'+k+'"></iframe></div>').appendTo(n.body),l('<form action="'+j+'" target="'+k+'" method="POST"><input type="hidden" name="fileName" value="'+i+'"/><input type="hidden" name="contentType" value="'+g+'"/><input type="hidden" name="base64content" value="'+b.btoa(d)+'"/></form>').appendTo(L).submit()):h("shield.export.saveAs: No proxy url set for older browser support",c.dieOnError)},f.saveAsNative=a(e)}(),q=Ba.extend({init:function(a){this.options=w(!0,{},a)},getExt:null,getContentType:null,getContent:null,saveAs:function(b){var d=this,c=b.fileName,i=a(b.forceExt)?!!b.forceExt:!0,e=d.getExt(),j=!f.saveAsNative||b.forceProxy?{type:"string"}:{},g=d.getContent(j);return a(g)?(c||(c=G),c+="",!ha(c,e)&&i&&(c+=e),void f.saveAs({content:g,contentType:d.getContentType(),name:c,proxy:b.proxy,forceProxy:b.forceProxy,noAutoBom:b.noAutoBom,dieOnError:b.dieOnError})):void h("shield.export.ExportBase.saveAs: Error generating content",d.options.dieOnError)},destroy:Aa}),v=q.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(L){var j,k,K=this,t=K.options,G=I(t.created||new Date),s=t.author,B=t.worksheets||[],F=20,D=[],v=[];for(s=H("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),k=aa()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+G+"</Created>"+(s?"<Author>"+s+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>',j=0;j<B.length;j++){var q,e,n,f,g,l,c,h,r,i,d,b,u=B[j],E=u.name,C=u.columns||[],y=[],A=u.rows||[],w=[];for(e=0;e<C.length;e++)f=C[e],y.push("<Column"+(a(f.autoWidth)?' ss:AutoFitWidth="'+x(f.autoWidth)+'"':"")+(a(f.width)?' ss:Width="'+f.width+'"':"")+(a(f.index)?' ss:Index="'+f.index+'"':"")+"/>");for(e=0;e<A.length;e++){for(g=A[e],q=g.cells||[],l="<Row"+(a(g.height)?' ss:Height="'+g.height+'"':"")+(a(g.index)?' ss:Index="'+g.index+'"':"")+">",n=0;n<q.length;n++)c=q[n],h=c.type,d=c.value,b=c.style,i=null,r=a(h)&&!p(h)?h===Date?"DateTime":h===Number?"Number":h===Boolean?"Boolean":"String":z(d)?"DateTime":o(d)?"Number":M(d)?"Boolean":"String","DateTime"==r&&(d=I(d)),Y(b)&&(i="s"+F++,D.push('<Style ss:ID="'+i+'"><Alignment'+(b.textAlign?' ss:Horizontal="'+J(b.textAlign)+'"':"")+(b.verticalAlign?' ss:Vertical="'+J(b.verticalAlign)+'"':"")+(a(b.wrap)?' ss:WrapText="'+x(b.wrap)+'"':"")+"/>"+(a(b.format)?'<NumberFormat ss:Format="'+m(b.format)+'"/>':"")+"<Font"+(a(b.bold)?' ss:Bold="'+x(b.bold)+'"':"")+(a(b.italic)?' ss:Italic="'+x(b.italic)+'"':"")+(a(b.color)?' ss:Color="'+b.color+'"':"")+(a(b.fontName)?' ss:FontName="'+b.fontName+'"':"")+(a(b.fontSize)?' ss:Size="'+b.fontSize+'"':"")+"/><Interior"+(a(b.background)?' ss:Color="'+b.background+'" ss:Pattern="Solid"':"")+"/></Style>")),l+="<Cell"+(i?' ss:StyleID="'+i+'"':"")+(a(c.index)?' ss:Index="'+c.index+'"':"")+(a(c.colSpan)?' ss:MergeAcross="'+c.colSpan+'"':"")+(a(c.rowSpan)?' ss:MergeDown="'+c.rowSpan+'"':"")+'><Data ss:Type="'+r+'">'+(a(d)?m(d):"")+"</Data></Cell>";l+="</Row>",w.push(l)}v.push('<Worksheet ss:Name="'+(E?m(E):"Sheet1")+'"><Table>'+y.join("")+w.join("")+"</Table></Worksheet>")}return k+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+D.join("")+"</Styles>",k+=v.join(""),k+="</Workbook>"}}),ba=q.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(R){var oa=this,r=oa.options,na=r.dieOnError;if(!a(b.JSZip))return r.noLegacyFallback?void h("shield.export.OOXMLWorkbook.getContent: No ZIP library found",na):new v(r).getContent();var S,T,$,ga,ia,ha,da,ba,aa,s,k,t,d,ma=I(r.created||new Date),P=r.author,n=r.worksheets||[],ca=n.length,e=new b.JSZip,L=[],N={},O=[],G=100,C=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],D=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],x=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],la=function(b){var e,f,g,d="";return!b||A(b).length<=0?c:(e=wa(b),N[e]?N[e].cellXfsIndex:(a(b.format)&&(G++,O.push('<numFmt numFmtId="'+G+'" formatCode="'+m(b.format).replace(" ","\\ ")+'"/>'),d+=' numFmtId="'+G+'" applyNumberFormat="1"'),b.background&&(D.push('<fill><patternFill patternType="solid"><fgColor rgb="'+_(b.background)+'"/></patternFill></fill>'),d+=' fillId="'+(D.length-1)+'" applyFill="1"'),(a(b.bold)||a(b.color)||a(b.fontName)||a(b.fontSize)||a(b.italic))&&(C.push("<font>"+(a(b.bold)?'<b val="'+!!b.bold+'"/>':"")+(a(b.color)?'<color rgb="'+_(b.color)+'"/>':"")+(a(b.fontName)?'<name val="'+b.fontName+'"/>':"")+(a(b.fontSize)?'<sz val="'+b.fontSize+'"/>':"")+(a(b.italic)?'<i val="'+!!b.italic+'"/>':"")+"</font>"),d+=' fontId="'+(C.length-1)+'" applyFont="1"'),(a(b.textAlign)||a(b.verticalAlign)||a(b.wrap))&&(f="<alignment"+(a(b.textAlign)?' horizontal="'+b.textAlign+'"':"")+(a(b.verticalAlign)?' vertical="'+b.verticalAlign+'"':"")+(a(b.wrap)?' wrapText="'+!!b.wrap+'"':"")+"/>"),d||f?(g="<xf"+(d?d:"")+(f?">"+f+"</xf>":"/>"),x.push(g),N[e]={cellXfsIndex:x.length-1},x.length-1):c))};for(S=g()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+j(n,function(b,a){return'<Override PartName="/xl/worksheets/sheet'+(a+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',T=g()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',$=g()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+ca+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+ca+'" baseType="lpstr">'+j(n,function(a,b){return"<vt:lpstr>"+(a.name?m(a.name):"Sheet"+(b+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>",P=H("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),ga=g()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(P?P:"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+ma+"</dcterms:created></cp:coreProperties>",ia=g()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+j(n,function(b,a){return'<sheet name="'+(b.name?m(b.name):"Sheet"+(a+1))+'" sheetId="'+(a+1)+'" r:id="rId'+(a+1)+'"/>'}).join("")+"</sheets></workbook>",da=g()+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>',s=1,ba=g()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+j(n,function(b,c){var a=s++;return'<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+a+'.xml"/>'}).join("")+'<Relationship Id="rId'+s++ +'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+s++ +'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+s++ +'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',aa=g()+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>',k=0;k<n.length;k++){var U,V=n[k],X=V.columns||[],Y=X.length,Z=V.rows||[],ka=Z.length,F="",E=[],Q=[];for(t=0;ka>t;t++){var l=Z[t],ea=[],fa=l.cells||[],ja=fa.length;for(d=0;ja>d;d++){var q,K,J,B=fa[d],u=B.type,f=B.value,y=w({},B.style||{});a(u)&&!p(u)?u===Date?(q=c,f=W(f),y.format||(y.format="m/d/yyyy hh:mm")):q=u===Number?c:u===Boolean?"b":"inlineStr":z(f)?(q=c,f=W(f),y.format||(y.format="m/d/yyyy hh:mm")):q=o(f)?c:M(f)?"b":"inlineStr",K=la(y),J=(f+"").length,(!a(E[d])||E[d]<J)&&(E[d]=J),ea.push("<c"+(a(B.index)?' r="'+Fa(a(l.index)?l.index:t+1,B.index)+'"':"")+(a(q)?' t="'+q+'"':"")+(a(K)?' s="'+K+'"':"")+">"+("inlineStr"==q?"<is><t>"+m(f)+"</t></is>":"<v>"+f+"</v>")+"</c>")}Q.push("<row"+(a(l.index)?' r="'+l.index+'"':"")+(a(l.height)?' ht="'+l.height+'" customHeight="1"':"")+">"+ea.join("")+"</row>")}if(Y>0){for(F="<cols>",d=0;Y>d;d++){var i=X[d];F+="<col"+(a(i.index)?' min="'+i.index+'" max="'+i.index+'"':' min="'+(d+1)+'" max="'+(d+1)+'"')+(a(i.width)?' width="'+Ja(i.width)+'"':"")+(i.autoWidth!==!0&&a(i.width)?"":' width="'+Ka(E[d])+'"')+(i.autoWidth===!0?' bestFit="1"':"")+(a(i.autoWidth)||a(i.width)?' customWidth="1"':"")+"/>"}F+="</cols>"}U=g()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+F+"<sheetData>"+Q.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',L.push(U)}for(ha=g()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+O.length+'">'+O.join("")+'</numFmts><fonts count="'+C.length+'" x14ac:knownFonts="1">'+C.join("")+'</fonts><fills count="'+D.length+'">'+D.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+x.length+'">'+x.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',
e.file("[Content_Types].xml",S),e.file("_rels/.rels",T),e.file("docProps/app.xml",$),e.file("docProps/core.xml",ga),e.file("xl/workbook.xml",ia),e.file("xl/styles.xml",ha),e.file("xl/sharedStrings.xml",da),e.file("xl/_rels/workbook.xml.rels",ba),e.file("xl/theme/theme1.xml",aa),k=0;k<L.length;k++)e.file("xl/worksheets/sheet"+(k+1)+".xml",L[k]);return R&&"string"!=R.type&&b.JSZip.support.uint8array?e.generate({type:"uint8array"}):e.generate({type:"string"})},saveAs:function(d){var e=this,c=e.options;return a(b.JSZip)?q.fn.saveAs.call(this,d):c.noLegacyFallback?void h("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",c.dieOnError):new v(c).saveAs(d)}}),$={unit:B,textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:.200025,producer:"ShieldUI PDF Builder",created:new Date},P=q.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject",R,"keywords",U],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(d){this.options=w(!0,$,d,{});var a=this,b=a.options;b.dieOnError;a._scaleFactor=a._getScaleFactor(),a._fontSize=b.fontSize,a._textColor=b.textColor,a._objectNumber=2,a._printToDoc=!0,a._offsets=[],a._fonts={},a._fontmap={},a._pages=[],a._pagesContext=[],a._pageDim=[],a._content=[],a._additionalObjects=[],a._page=a._lineCapID=a._lineJoinID=a._contentLength=0,a._fontKey=a._tmp=a._currentPage=a._pageWidth=a._pageHeight=a._pageMode=a._zoomMode=a._layoutMode=c,a._cellPadding=3,a._cellMargin=13,a._lastCellPos={x:c,y:c,w:c,h:c,ln:c},a._cellHeaderFunction=a._tablePrintHeader=a._cellMargins=a._cellTableHeaderRow=a._cellPrintingHeaderRow=a._tableFontSize=c,a._cellPages=1,a.addFonts(),a._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(a){var b=this;return a&&"string"!=a.type?b._getArrayBuffer():b._build()},_toString:function(a){return(""+a).toLowerCase()},_getScaleFactor:function(){var a=this,b=a.options.unit;switch(b){case B:return 1;case ka:return 72/25.4000508;case qa:return 72/2.54000508;case la:return 72;case va:return 96/72;case La:return 12;case xa:return 12;case ya:return 6;default:return void h("shieldExport: Invalid measurement unit: "+b,a.options.dieOnError)}},_setNumberPrecision:function(a,b){return a.toFixed(b)},_setPadding:function(a,b,c){return("0"+parseInt(a,b)).slice(-c)},_write:function(b){var a=this;a._printToDoc?(a._contentLength+=b.length+1,a._content.push(b)):a._pages[a._currentPage].push(b)},_createObject:function(){var a=this;return a._objectNumber++,a._offsets[a._objectNumber]=a._contentLength,a._write(a._objectNumber+" 0 obj"),a._objectNumber},_createAdditionalObject:function(){var a=this,c=2*a._pages.length+1+a._additionalObjects.length,b={objId:c,content:""};return a._additionalObjects.push(b),b},_createObjectDeferred:function(){var a=this;return a._objectNumber++,a._offsets[a._objectNumber]=function(){return a._contentLength},a._objectNumber},_createObjectDeferredBegin:function(b){var a=this;a._offsets[b]=a._contentLength},_writeStream:function(b){var a=this;a._write("stream"),a._write(b),a._write("endstream")},_writePages:function(){var b,d,i,c,f,g,e,a=this,j=(a.options,!1),h=(a._pages,a._pageDim);for(b=1;b<=a._page;b++)a._createObject(),f=(a._pageWidth=h[b].width)*a._scaleFactor,g=(a._pageHeight=h[b].height)*a._scaleFactor,a._write("<</Type /Page"),a._write("/Parent 1 0 R"),a._write("/Resources 2 0 R"),a._write("/MediaBox [0 0 "+a._setNumberPrecision(f,2)+" "+a._setNumberPrecision(g,2)+"]"),a._write("/Contents "+(a._objectNumber+1)+" 0 R"),a._write(">>"),a._write("endobj"),d=a._pages[b].join("\n"),a._createObject(),j?(i=[],c=d.length):a._write("<</Length "+d.length+">>"),a._writeStream(d),a._write("endobj");for(a._offsets[1]=a._contentLength,a._write("1 0 obj"),a._write("<</Type /Pages"),e="/Kids [",c=0;c<a._page;c++)e+=3+2*c+" 0 R ";a._write(e+"]"),a._write("/Count "+a._page),a._write(">>"),a._write("endobj")},_writeFont:function(b){var a=this;b.objectNumber=a._createObject(),a._write("<</BaseFont/"+b.PostScriptName+"/Type/Font"),"string"==typeof b.encoding&&a._write("/Encoding/"+b.encoding),a._write("/Subtype/Type1>>"),a._write("endobj")},_writeFonts:function(){var b=this,a=b._fonts;for(var c in a)a.hasOwnProperty(c)&&b._writeFont(a[c])},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var b,a=this,c=a._fonts;a._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),a._write("/Font <<");for(b in c)c.hasOwnProperty(b)&&a._write("/"+b+" "+c[b].objectNumber+" 0 R");a._write(">>"),a._write("/XObject <<"),a._writeXObjectDictionary(),a._write(">>")},_writeResources:function(){var a=this,b=a._offsets;a._writeFonts(),b[2]=a._contentLength,a._write("2 0 obj"),a._write("<<"),a._writeResourceDictionary(),a._write(">>"),a._write("endobj")},_writeAdditionalObjects:function(){var b,c,a=this,e=a._offsets,d=a._additionalObjects;for(c=0;c<d.length;c++)b=d[c],e[b.objId]=a._contentLength,a._write(b.objId+" 0 obj"),a._write(b.content),a._write("endobj");a._objectNumber+=d.length},_writeToFontDictionary:function(c,a,d){var b=this;b._fontmap.hasOwnProperty(a)||(b._fontmap[a]={}),b._fontmap[a][d]=c},_to8bitStream:function(e,k){var o,b,n,f,l,p,j,m,a,q=this,g=q._fonts,i=q._fontKey;if(k=k||{},o=k.sourceEncoding||"Unicode",b=k.outputEncoding,(k.autoencode||b)&&g[i].metadata&&g[i].metadata[o]&&g[i].metadata[o].encoding&&(n=g[i].metadata[o].encoding,!b&&g[i].encoding&&(b=g[i].encoding),!b&&n.codePages&&(b=n.codePages[0]),d(b)&&(b=n[b]),b)){for(l=!1,f=[],a=0,m=e.length;m>a;a++)j=b[e.charCodeAt(a)],j?f.push(String.fromCharCode(j)):f.push(e[a]),f[a].charCodeAt(0)>>8&&(l=!0);e=f.join("")}for(a=e.length;void 0===l&&0!==a;)e.charCodeAt(a-1)>>8&&(l=!0),a--;if(!l)return e;for(f=k.noBOM?[]:[254,255],a=0,m=e.length;m>a;a++){if(j=e.charCodeAt(a),p=j>>8,p>>8)return void h("shieldExport: Character at position "+a+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",q.options.dieOnError);f.push(p),f.push(j-(p<<8))}return String.fromCharCode.apply(c,f)},_escape:function(a,b){return this._to8bitStream(a,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var c,f,l,k,j,i,d,g,e,b=this,h=b.options,m=h.producer,o=h.created,n=b._documentProps;for(a(m)&&b._write("/Producer ("+m+")"),e=0;e<n.length;e++)d=n[e],g=h[d],(d===R||d===U)&&(g=H("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;")),g&&b._write("/"+J(d)+" ("+b._escape(g)+")");c=X(o),f=c.getTimezoneOffset(),l=0>f?"+":"-",k=Math.floor(Math.abs(f/60)),j=Math.abs(f%60),i=[l,b._setPadding(k,10,2),"'",b._setPadding(j,10,2),"'"].join(""),b._write(["/CreationDate (D:",c.getFullYear(),b._setPadding(c.getMonth()+1,10,2),b._setPadding(c.getDate(),10,2),b._setPadding(c.getHours(),10,2),b._setPadding(c.getMinutes(),10,2),b._setPadding(c.getSeconds(),10,2),i,")"].join(""))},_writeCatalog:function(){var b,a=this;switch(a._write("/Type /Catalog"),a._write("/Pages 1 0 R"),a._zoomMode||(a._zoomMode="fullwidth"),a._zoomMode){case"fullwidth":a._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":a._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":a._write("/OpenAction [3 0 R /Fit]");break;case"original":a._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:b=""+a._zoomMode,"%"===b.substr(b.length-1)&&(a._zoomMode=parseInt(a._zoomMode,10)/100),o(a._zoomMode)&&a._write("/OpenAction [3 0 R /XYZ null null "+a._setNumberPrecision(a._zoomMode,2)+"]")}switch(a._layoutMode||(a._layoutMode="continuous"),a._layoutMode){case"continuous":a._write("/PageLayout /OneColumn");break;case"single":a._write("/PageLayout /SinglePage");break;case"two":case"twoleft":a._write("/PageLayout /TwoColumnLeft");break;case"tworight":a._write("/PageLayout /TwoColumnRight")}a._pageMode&&a._write("/PageMode /"+a._pageMode)},_writeTrailer:function(){var a=this,b=a._objectNumber;a._write("/Size "+(b+1)),a._write("/Root "+b+" 0 R"),a._write("/Info "+(b-1)+" 0 R")},addFont:function(e,c,d,f){var g,b=this,a="F"+(A(b._fonts).length+1).toString(10);return g=b._fonts[a]={id:a,PostScriptName:e,fontName:c,fontStyle:d,encoding:f,metadata:{}},b._writeToFontDictionary(a,c,d),a},addFonts:function(){var d,c,a,e,f=this,g="StandardEncoding",b=[["Helvetica",u,r],["Helvetica-Bold",u,y],["Helvetica-Oblique",u,D],["Helvetica-BoldOblique",u,E],["Courier",s,r],["Courier-Bold",s,y],["Courier-Oblique",s,D],["Courier-BoldOblique",s,E],["Times-Roman",k,r],["Times-Bold",k,y],["Times-Italic",k,D],["Times-BoldItalic",k,E]];for(a=0,e=b.length;e>a;a++)d=f.addFont(b[a][0],b[a][1],b[a][2],g),c=b[a][0].split("-"),f._writeToFontDictionary(d,c[0],c[1]||"")},getActiveFontObj:function(){var d=this,a=d._fonts,b=d._fontKey;return a&&b&&a[b]?a[b]:c},getFontObj:function(e,f){var d=this,a=d._fonts,b=d.getFont(e,f);return a&&b&&a[b]?a[b]:c},getFont:function(b,d){var e,f=this,h=f._fonts,g=f._fontmap;switch(b=a(b)?b:h[f._fontKey].fontName,d=a(d)?d:f._fontKey?h[f._fontKey].fontStyle:c,a(b)&&(b=b.toLowerCase()),d){case Ca:case Ga:case Da:b=u;break;case Ha:case Ia:case ea:b=s;break;case da:case fa:case ga:b=k;break;default:b=k}try{e=g[b][d]}catch(i){}return e||(e=g[k][d],null==e&&(e=g[k][r])),e},_setPage:function(a){var b=this,c=b._pageDim;a>0&&a<=b._page&&(b._currentPage=a,b._pageWidth=c[a].width,b._pageHeight=c[a].height)},_beginPage:function(b,c){var f,a=this,g=a._formats,h=a._pages,i=a._pageDim,j=a._pagesContext,e=d(c)&&c.toLowerCase();if(d(b)&&(f=b.toLowerCase(),g.hasOwnProperty(f)&&(b=g[f][0]/a._scaleFactor,c=g[f][1]/a._scaleFactor)),t(b)&&(c=b[1],b=b[0]),e){switch(e.substr(0,1)){case ia:c>b&&(e="s");break;case ja:b>c&&(e="s")}"s"===e&&(a._tmp=b,b=c,c=a._tmp)}a._printToDoc=!1,a._page++,h[a._page]=[],i[a._page]={width:Number(b)||a._pageWidth,height:Number(c)||a._pageHeight},j[a._page]={},a._setPage(a._page)},addPage:function(){var a=this,b=a.options,c=b.drawColor,d=b.lineWidth;a._beginPage.apply(a,arguments),a._write(a._setNumberPrecision(d*a._scaleFactor,2)+" w"),a._write(c),0!==a._lineCapID&&a._write(a._lineCapID+" J"),0!==a._lineJoinID&&a._write(a._lineJoinID+" j")},deletePage:function(b){var a=this,c=a._pages,d=a._pageDim;b>0&&b<=a._page&&(c.splice(b,1),d.splice(b,1),a._page--,a._currentPage>a._page&&(a._currentPage=a._page),a._setPage(a._currentPage))},getFontSize:function(){var a=this;return a._fontSize},getLineHeight:function(){var a=this;return a.getFontSize()*a.options.lineHeight},getCoordinateString:function(b){var a=this;return a._setNumberPrecision(b*a._scaleFactor,2)},getVerticalCoordinateString:function(b){var a=this;return a._setNumberPrecision((a._pageHeight-b)*a._scaleFactor,2)},getPageSize:function(){var a=this;return{width:a._pageWidth,height:a._pageHeight}},getNumberOfPages:function(){var a=this;return a._pages.length-1},getPages:function(){var a=this;return a._pages},getPageInfo:function(a){var b=this,c=2*(a-1)+3;return{objId:c,pageNumber:a,pageContext:b._pagesContext[a]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(c,b){var h,i,j,a,g=this,d=g._pages,e=g._pageDim,f=g._pagesContext;if(c>b){for(h=d[c],i=e[c],j=f[c],a=c;a>b;a--)d[a]=d[a-1],e[a]=e[a-1],f[a]=f[a-1];d[b]=h,e[b]=i,f[b]=j,g._setPage(b)}else if(b>c){for(h=d[c],i=e[c],j=f[c],a=c;b>a;a++)d[a]=d[a+1],e[a]=e[a+1],f[a]=f[a+1];d[b]=h,e[b]=i,f[b]=j,g._setPage(b)}return g},insertPage:function(){var a=this,b=[].slice.call(arguments),c=b.shift();return a.addPage.apply(a,b),a.movePage(a._currentPage,c),a},setDisplayMode:function(b,c,d){var a=this;return a._zoomMode=b,a._layoutMode=c,a._pageMode=d,a},_ESC:function(a,c){var b=this,d=b.options;return a=a.split("	").join(new Array(d.TabLen||9).join(" ")),b._escape(a,c)},text:function(c,g,x,e,f,l){var y,t,u,w,i,k,m,E,q,z,r,C,s,n,b=this,A="",B="Td",v="",p=b.getCurrentPageInfo().pageContext,D=b.getLineHeight();if(d(c)&&(c=c.match(/[\n\r]/)?c.split(/\r\n|\r|\n/g):[c]),d(f)&&(l=f,f=null),d(e)&&(l=e,e=null),o(e)&&(f=e,e=null),f&&(f*=Math.PI/180,t=Math.cos(f),u=Math.sin(f),A=[b._setNumberPrecision(t,2),b._setNumberPrecision(u,2),b._setNumberPrecision(-1*u,2),b._setNumberPrecision(t,2),""].join(" "),B="Tm"),e=e||{},"noBOM"in e||(e.noBOM=!0),"autoencode"in e||(e.autoencode=!0),e.stroke===!0?p.lastTextWasStroke!==!0&&(v="1 Tr\n",p.lastTextWasStroke=!0):(p.lastTextWasStroke&&(v="0 Tr\n"),p.lastTextWasStroke=!1),a(b._runningPageHeight)||(b._runningPageHeight=0),d(c))c=b._ESC(c,e);else{if(!(c instanceof Array))return void h('Type of text must be string or Array. "'+c+'" is not recognized.',b.options.dieOnError);for(w=c.concat(),i=[],m=w.length;m--;)i.push(b._ESC(w.shift(),e));if(E=Math.ceil((b._pageHeight-x-b._runningPageHeight)*b._scaleFactor/b.getLineHeight()),l){if(n=j(c,function(a){return b._getStringWidth(a)*b.getFontSize()/b._scaleFactor}),s=Math.max.apply(Math,n),l===ma)q=g-s/2,g-=n[0]/2;else{if("right"!==l)return void h('Unrecognized alignment option, use "center" or "right".',b.options.dieOnError);q=g-s,g-=n[0]}for(z=g,c=i[0]+") Tj\n",k=1,m=i.length;m>k;k++)r=s-n[k],"center"===l&&(r/=2),c+=q-z+r+" -"+D+" Td ("+i[k],z=q+r,m-1>k&&(c+=") Tj\n")}else c=i.join(") Tj\nT* (")}return y||(C=b._setNumberPrecision((b._pageHeight-x)*b._scaleFactor,2)),b._write("BT\n/"+b._fontKey+" "+b.getFontSize()+" Tf\n"+b.getLineHeight()+" TL\n"+v+b._textColor+"\n"+A+b._setNumberPrecision(g*b._scaleFactor,2)+" "+C+" "+B+"\n("+c+") Tj\nET"),y&&b.text(y,g,x),b},lstext:function(b,c,e,f){var a,d,g=this;for(a=0,d=b.length;d>a;a++,c+=f)g.text(b[a],c,e)},line:function(a,b,c,d){return this.lines([[c-a,d-b]],a,b)},clip:function(){var a=this;a._write("W"),a._write("S")},lines:function(e,h,k,j,q,s){var g,f,i,m,b,r,l,n,p,d,c,a=this;for(o(e)&&(a._tmp=k,k=h,h=e,e=a._tmp),j=j||[1,1],a._write(a._setNumberPrecision(h*a._scaleFactor,3)+" "+a._setNumberPrecision((a._pageHeight-k)*a._scaleFactor,3)+" m "),g=j[0],f=j[1],m=e.length,d=h,c=k,i=0;m>i;i++)b=e[i],2===b.length?(d=b[0]*g+d,c=b[1]*f+c,a._write(a._setNumberPrecision(d*a._scaleFactor,3)+" "+a._setNumberPrecision((a._pageHeight-c)*a._scaleFactor,3)+" l")):(r=b[0]*g+d,l=b[1]*f+c,n=b[2]*g+d,p=b[3]*f+c,d=b[4]*g+d,c=b[5]*f+c,a._write(a._setNumberPrecision(r*a._scaleFactor,3)+" "+a._setNumberPrecision((a._pageHeight-l)*a._scaleFactor,3)+" "+a._setNumberPrecision(n*a._scaleFactor,3)+" "+a._setNumberPrecision((a._pageHeight-p)*a._scaleFactor)+" "+a._setNumberPrecision(d*a._scaleFactor)+" "+a._setNumberPrecision((a._pageHeight-c)*a._scaleFactor)+" c"));return s&&a._write(" h"),null!==q&&a._write(a.getStyle(q)),a},rect:function(c,d,e,f,b){var a=this;a.getStyle(b);return a._write([a._setNumberPrecision(c*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-d)*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision(-f*a._scaleFactor,2),"re"].join(" ")),null!==b&&a._write(a.getStyle(b)),a},triangle:function(a,b,c,d,e,f,h){var g=this;return g.lines([[c-a,d-b],[e-c,f-d],[a-e,b-f]],a,b,[1,1],h,!0),g},roundedRect:function(g,h,d,e,a,b,i){var f=this,c=4/3*(Math.SQRT2-1);return f.lines([[d-2*a,0],[a*c,0,a,b-b*c,a,b],[0,e-2*b],[0,b*c,-(a*c),b,-a,b],[-d+2*a,0],[-(a*c),0,-a,-(b*c),-a,-b],[0,-e+2*b],[0,-(b*c),a*c,-b,a,-b]],g+a,h,[1,1],i),f},ellipse:function(b,c,d,e,h){var a=this,f=4/3*(Math.SQRT2-1)*d,g=4/3*(Math.SQRT2-1)*e;return a._write([a._setNumberPrecision((b+d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-c)*a._scaleFactor,2),"m",a._setNumberPrecision((b+d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c-g))*a._scaleFactor,2),a._setNumberPrecision((b+f)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c-e))*a._scaleFactor,2),a._setNumberPrecision(b*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c-e))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((b-f)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c-e))*a._scaleFactor,2),a._setNumberPrecision((b-d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c-g))*a._scaleFactor,2),a._setNumberPrecision((b-d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-c)*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((b-d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c+g))*a._scaleFactor,2),a._setNumberPrecision((b-f)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c+e))*a._scaleFactor,2),a._setNumberPrecision(b*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c+e))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((b+f)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c+e))*a._scaleFactor,2),a._setNumberPrecision((b+d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(c+g))*a._scaleFactor,2),a._setNumberPrecision((b+d)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-c)*a._scaleFactor,2),"c"].join(" ")),null!==h&&a._write(a.getStyle(h)),a},circle:function(b,c,a,d){var e=this;return e.ellipse(b,c,a,a,d)},setFontSize:function(b){var a=this;return a._fontSize=b,a},setFont:function(b,c){var a=this;return a._fontKey=a.getFont(b,c),a},setFontStyle:function(b){var a=this;return a._fontKey=a.getFont(c,b),a},getFontList:function(){var a,c,d,f=this,e={},b=f._fontmap;for(a in b)if(b.hasOwnProperty(a)){e[a]=d=[];for(c in b[a])b[a].hasOwnProperty(c)&&d.push(c)}return e},addFontScriptName:function(a,b,c){var d=this;d.addFont(a,b,c,"StandardEncoding")},setLineWidth:function(b){var a=this;return a._write((b*a._scaleFactor).toFixed(2)+" w"),a},setDrawColor:function(b,e,f,g){var h,c=this;return h=!a(e)||!a(g)&&b===e===f?d(b)?b+" G":c._setNumberPrecision(b/255,2)+" G":a(g)?d(b)?[b,e,f,g,"K"].join(" "):[c._setNumberPrecision(b,2),c._setNumberPrecision(e,2),c._setNumberPrecision(f,2),c._setNumberPrecision(g,2),"K"].join(" "):d(b)?[b,e,f,Z].join(" "):[c._setNumberPrecision(b/255,2),c._setNumberPrecision(e/255,2),c._setNumberPrecision(f/255,2),Z].join(" "),c._write(h),c},setFillColor:function(b,f,g,e){var h,c=this;return!a(f)||!a(e)&&b===f===g?h=d(b)?b+" g":c._setNumberPrecision(b/255,2)+" g":!a(e)||Y(e)?(h=d(b)?[b,f,g,"rg"].join(" "):[c._setNumberPrecision(b/255,2),c._setNumberPrecision(f/255,2),c._setNumberPrecision(g/255,2),"rg"].join(" "),e&&0===e.a&&(h=["255","255","255","rg"].join(" "))):h=d(b)?[b,f,g,e,"k"].join(" "):[c._setNumberPrecision(b,2),c._setNumberPrecision(f,2),c._setNumberPrecision(g,2),c._setNumberPrecision(e,2),"k"].join(" "),c._write(h),c},setTextColor:function(b,e,g){var f,c=this;return d(b)&&/^#[0-9A-Fa-f]{6}$/.test(b)&&(f=parseInt(b.substr(1),16),b=f>>16&255,e=f>>8&255,g=255&f),0===b&&0===e&&0===g||!a(e)?c._textColor=c._setNumberPrecision(b/255,3)+" g":c._textColor=[c._setNumberPrecision(b/255,3),c._setNumberPrecision(e/255,3),c._setNumberPrecision(g/255,3),"rg"].join(" "),c},_build:function(){var d,c,e,b,a=this;for(a._printToDoc=!0,a._objectNumber=2,a._write("%PDF-"+a._version),a._writePages(),a._writeAdditionalObjects(),a._writeResources(),a._createObject(),a._write("<<"),a._writeInfo(),a._write(">>"),a._write("endobj"),a._createObject(),a._write("<<"),a._writeCatalog(),a._write(">>"),a._write("endobj"),d=a._contentLength,c="0000000000",a._write("xref"),a._write("0 "+(a._objectNumber+1)),a._write(c+" 65535 f "),b=1;b<=a._objectNumber;b++)e=a._offsets[b],V(e)?a._write((c+a._offsets[b]()).slice(-10)+" 00000 n "):a._write((c+a._offsets[b]).slice(-10)+" 00000 n ");return a._write("trailer"),a._write("<<"),a._writeTrailer(),a._write(">>"),a._write("startxref"),a._write(d),a._write("%%EOF"),a._printToDoc=!1,a._content.join("\n")},getStyle:function(a){var b=oa;return a===F?b=F.toLowerCase():a===S||a===ra?b=sa:(a===F.toLowerCase()||a===ta||a===na||a===ua)&&(b=a),b},_getArrayBuffer:function(){for(var d=this,b=d._build(),a=b.length,c=new ArrayBuffer(a),e=new Uint8Array(c);a--;)e[a]=b.charCodeAt(a);return c},_getCharWidths:function(h,l){var b,g,a,n=this,c=l||{},f=n.getActiveFontObj(),e=c.widths?c.widths:f.metadata.Unicode.widths,j=e.fof?e.fof:1,d=c.kerning?c.kerning:f.metadata.Unicode.kerning,m=d.fof?d.fof:1,i=0,o=e[0]||j,k=[];for(b=0,g=h.length;g>b;b++)a=h.charCodeAt(b),k.push((e[a]||o)/j+(d[a]&&d[a][i]||0)/m),i=a;return k},_sum:function(b){for(var a=b.length,c=0;a;)a--,c+=b[a];return c},_getStringWidth:function(b,c){var a=this;return a._sum(a._getCharWidths.call(a,b,c))},_getTextDimensions:function(c){var d,a,b=this,e=b.getActiveFontObj(),g=e.fontName,h=b._tableFontSize||b.getFontSize(),f=e.fontStyle;a=n.createElement("font");try{a.style.fontStyle=f}catch(i){a.style.fontWeight=f}a.style.fontName=g,a.style.fontSize=h+B;try{a.textContent=c}catch(i){a.innerText=c}return n.body.appendChild(a),d={w:(a.offsetWidth+1)*T,h:(a.offsetHeight+1)*T},n.body.removeChild(a),d},_setLastCellPosition:function(a,b,c,d,e){this._lastCellPos={x:a,y:b,w:c,h:d,ln:e}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var a=this,b=a._cellMargins||a._noMargins;a.addPage(),a._setLastCellPosition(b.left,b.top),a._cellPages++},_setTableHeaderConfig:function(a){this._cellTableHeaderRow=a},_splitWord:function(d,e,h,i){for(var c,f=[],a=0,g=d.length,b=0;a!==g&&b+e[a]<h;)b+=e[a],a++;for(f.push(d.slice(0,a)),c=a,b=0;a!==g;)b+e[a]>i&&(f.push(d.slice(c,a)),b=0,c=a),b+=e[a],a++;return c!==a&&f.push(d.slice(c,a)),f},_splitParagraph:function(u,o,v){var a,k,n,s,g,f=this,e=v||{},b=[],p=[b],m=e.textIndent||0,h=0,c=0,i=u.split(" "),q=f._getCharWidths(" ",e)[0],d=-1===e.lineIndent?i[0].length+2:e.lineIndent||0;if(d){var r=new Array(d).join(" "),l=[];za(i,function(b,a){a=a.split(/\s*\n/),a.length>1?l=l.concat(j(a,function(a,b){return(b&&a.length?"\n":"")+a})):l.push(a[0])}),i=l,d=f._getStringWidth(r,e)}for(n=0,s=i.length;s>n;n++){var t=0;if(a=i[n],d&&"\n"==a[0]&&(a=a.substr(1),t=1),k=f._getCharWidths(a,e),c=f._sum(k),m+h+c>o||t){if(c>o){for(g=f._splitWord(a,k,o-(m+h),o),b.push(g.shift()),b=[g.pop()];g.length;)p.push([g.shift()]);c=f._sum(k.slice(a.length-b[0].length))}else b=[a];p.push(b),m=c+d,h=q}else b.push(a),m+=h+c,h=q}var w=d?function(a,b){return(b?r:"")+a.join(" ")}:function(a){return a.join(" ")};return j(p,w)},_splitText:function(b,l,m){var g,h,d,k,a=this,c=m||{},i=t(b)?b.join(" "):b,j=a._getTextDimensions(i).w/i.length,f=[],e=function(b){var c,d,e={0:1},f={};return b.widths&&b.kerning?{widths:b.widths,kerning:b.kerning}:(c=a.getFontObj(b.fontName,b.fontStyle)||a.getActiveFontObj(),d="Unicode",c.metadata[d]?{widths:c.metadata[d].widths||e,kerning:c.metadata[d].kerning||f}:{widths:e,kerning:f})}.call(a,c);for(g=t(b)?b:b.split(/\r?\n/),h=1*a._scaleFactor*l/j,e.textIndent=c.textIndent?1*c.textIndent*a._scaleFactor/j:0,e.lineIndent=c.lineIndent,d=0,k=g.length;k>d;d++)f=f.concat(a._splitParagraph(g[d],h,e));return f},_getLineHeight:function(i,k,e){var c,b,d,f,g=this,h=0,j=g._cellPadding;for(d=0;d<i.length;d++)c=i[d],b=e[c],t(b)||(!a(b)||p(b)?b="":b+=""),e[c]=g._splitText(b,k[c]-j),f=g.getLineHeight()*e[c].length+1.6*j,f>h&&(h=f);return h},_cell:function(f,e,h,i,c,l,o){var k,j,m,g,b=this,d=b._getLastCellPosition(),p=b._cellMargins||b._noMargins,n=b._cellPadding;if(a(d.ln)&&(d.ln===l?(f=d.x+d.w,e=d.y):(d.y+d.h+i+b._cellMargin>=b._pageHeight-p.bottom&&(b._cellAddPage(),b._tablePrintHeader&&b._cellTableHeaderRow&&b._renderHeader(l,!0)),k=b._getLastCellPosition(),e=k.y+(k.h||0))),a(c[0]))if(b._cellPrintingHeaderRow?b.rect(f,e,h,i,S):b.rect(f,e,h,i),"right"===o)for(t(c)||(c=[c]),g=0;g<c.length;g++)j=c[g],m=b._getStringWidth(j)*b.getFontSize(),b.text(j,f+h-m-n,e+b.getLineHeight()*(g+1));else b.text(c,f+n,e+b.getLineHeight());return b._setLastCellPosition(f,e,h,i,l),b},_renderHeader:function(j,k){var d,g,e,i,c,b=this,f=[];if(!b._cellTableHeaderRow)return void h("shieldExport: No table header configuration",b.options.dieOnError);for(b._cellPrintingHeaderRow=!0,a(b._cellHeaderFunction)&&(c=b._cellHeaderFunction.call(b,b._cellPages),b._setLastCellPosition(c[0],c[1],c[2],c[3],-1)),b.setFontStyle(y),e=0,i=b._cellTableHeaderRow.length;i>e;e++)b.setFillColor(236,237,238),d=b._cellTableHeaderRow[e],k&&(d[1]=b._cellMargins&&b._cellMargins.top||0,f.push(d)),g=[].concat(d),b._cell.apply(b,g.concat(j));f.length>0&&b._setTableHeaderConfig(f),b.setFontStyle(r),b._cellPrintingHeaderRow=!1},table:function(x,B,F,k,n){var f,b,l,z,E,u,s,i,t,C,r,q,e=this,y=e._cellPadding,g=[],o=[],m={},D=[],H=function(a){return a[f]},w=!0,v=e.getFontSize(),G=e._noMargins;if(!F)return void h("shieldExport: No data specified for PDF table",e.options.dieOnError);if(q=F.slice(0),n&&(n.printHeader===!1&&(w=!1),n.fontSize&&(v=n.fontSize),n.margins&&(G=n.margins)),e._lastCellPos={x:c,y:c,w:c,h:c,ln:c},e._cellPages=1,e._tablePrintHeader=w,e._cellMargins=G,e.setFontSize(v),e._tableFontSize=v,!a(k)||p(k))g=A(q[0]);else if(k[0]&&!d(k[0]))for(b=0,l=k.length;l>b;b++)f=k[b],g.push(f.field),o.push(f.title),m[f.field]=a(f.width)?K(f.width)*e._getScaleFactor():c;else g=k;for(b=0,l=g.length;l>b;b++)if(f=g[b],!a(m[f])){for(s=[],s.push(e._getTextDimensions(o[b]||f).w+2*y),u=j(q,H),i=0,z=u.length;z>i;i++)E=u[i],s.push(e._getTextDimensions(E).w+2*y);m[f]=Math.max.apply(Math,s)}if(w){for(r=e._getLineHeight(g,m,o.length?o:g),b=0,l=g.length;l>b;b++)f=g[b],D.push([x,B,m[f],r,(o.length?o[b]:f)+""]);e._setTableHeaderConfig(D),e._renderHeader(1,!1)}for(b=0,l=q.length;l>b;b++)for(t=q[b],r=e._getLineHeight(g,m,t),i=0,C=g.length;C>i;i++)f=g[i],e._cell(x,B,m[f],r,t[f],b+2,k[i].align);return e}}),w(f,{PDFDocument:P,OOXMLWorkbook:ba,ExcelXMLSpreadsheet:v})}(jQuery,shield,this);
shield.version='1.7.28';
!function(f,o,F,e){function la(a){return m.log(a)/m.LN10}function R(a){return m.pow(10,a)}function sa(a,c){for(var b=a.length;b--;)if(a[b]===c){a.splice(b,1);break}}function q(b,a,e){var c,f,g="setAttribute";if(T(a))d(e)?b[g](a,e):b&&b.getAttribute&&(f=b.getAttribute(a));else if(d(a)&&M(a))for(c in a)a.hasOwnProperty(c)&&b[g](c,a[c]);return f}function b(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],"undefined"!=typeof b&&null!==b)return b}function x(b,a){ha&&a&&a.opacity!==e&&(a.filter="alpha(opacity="+100*a.opacity+")"),i(b.style,a)}function L(e,b,c,d,f){var a=p.createElement(e);return b&&i(a,b),f&&x(a,{padding:0,border:N,margin:0}),c&&x(a,c),d&&d.appendChild(a),a}function v(b,c){var a=function(){};return a.prototype=new b,i(a.prototype,c),a}function H(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function fb(e,a,c,f){var g,d;for(c=b(c,1),g=e/c,a||(a=[1,2,2.5,5,10],f&&f.decimalTicks===!1&&(1===c?a=[1,2,5,10]:.1>=c&&(a=[1/c]))),d=0;d<a.length&&(e=a[d],!(g<=(a[d]+(a[d+1]||a[d]))/2));d++);return e*=c}function kc(f,h){var g,a,b=h||[[Jc,[1,2,5,10,20,25,50,100,200,500]],[Gb,[1,2,5,10,15,30]],[vb,[1,2,5,10,15,30]],[$a,[1,2,3,4,6,8,12]],[ka,[1,2]],[rb,[1,2]],[Wa,[1,2,3,4,6]],[Ga,null]],c=b[b.length-1],d=r[c[0]],e=c[1];for(a=0;a<b.length;a++)if(c=b[a],d=r[c[0]],e=c[1],b[a+1]){var i=(d*e[e.length-1]+r[b[a+1][0]])/2;if(i>=f)break}return d===r[Ga]&&5*d>f&&(e=[1,2,5]),g=fb(f/d,e),{unitRange:d,count:g,unitName:c[0]}}function wc(j,n,p,o){var g,f,h=[],m={},k=Z.allowUTCFormatting,a=new Date(n),c=j.unitRange,d=j.count;c>=r[Gb]&&(a.setMilliseconds(0),a.setSeconds(c>=r[vb]?0:d*K(a.getSeconds()/d))),c>=r[vb]&&a[Ib](c>=r[$a]?0:d*K(a[Cb]()/d)),c>=r[$a]&&a[Lb](c>=r[ka]?0:d*K(a[Fb]()/d)),c>=r[ka]&&a[db](c>=r[Wa]?1:d*K(a[Za]()/d)),c>=r[Wa]&&(a[Mb](c>=r[Ga]?0:d*K(a[sb]()/d)),f=a[tb]()),c>=r[Ga]&&(f-=f%d,a[Ob](f)),c===r[rb]&&a[db](a[Za]()-a[Hb]()+b(o,1)),g=1,f=a[tb]();for(var e=a.getTime(),l=a[sb](),q=a[Za](),s=k?0:(864e5+60*a.getTimezoneOffset()*1e3)%864e5;p>e;)h.push(e),c===r[Ga]?e=Va(f+g*d,0):c===r[Wa]?e=Va(f,l+g*d):k||c!==r[ka]&&c!==r[rb]?(e+=c*d,c<=r[$a]&&e%r[ka]===s&&(m[e]=ka)):e=Va(f,l,q+g*d*(c===r[ka]?1:7)),g++;return h.push(e),h.info=i(j,{higherRanks:m,totalRange:c*d}),h}function dc(){this.color=0,this.symbol=0}function cc(b,e){var c,a,d=b.length;for(a=0;d>a;a++)b[a]._ssIndex=a;for(b.sort(function(a,b){return c=e(a,b),0===c?a._ssIndex-b._ssIndex:c}),a=0;d>a;a++)delete b[a]._ssIndex}function Da(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function ya(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function wa(a,c){for(var b in a)a.hasOwnProperty(b)&&(a[b]&&a[b]!==c&&a[b].destroy&&a[b].destroy(),delete a[b])}function ra(a){Na||(Na=L(X)),a&&Na.appendChild(a),Na.innerHTML=""}function $(a){return parseFloat(a.toPrecision(14))}function Ea(c,d){Ha=b(c,a[d.guid].applyAnimation)}function vc(){var d=Z.allowUTCFormatting,a=d?"getUTC":"get",c=d?"setUTC":"set";Va=d?Date.UTC:function(a,c,d,e,f,g){return new Date(a,c,b(d,1),b(e,0),b(f,0),b(g,0)).getTime()},Cb=a+"Minutes",Fb=a+"Hours",Hb=a+"Day",Za=a+"Date",sb=a+"Month",tb=a+"FullYear",Ib=c+"Minutes",Lb=c+"Hours",db=c+"Date",Mb=c+"Month",Ob=c+"FullYear"}function ba(){}function Aa(c,d,b){var a=this;a.axis=c,a.pos=d,a.type=b||"",a.isNew=!0,b||a._label()}function jb(c,b){var a=this;return a.axis=c,b&&(a.options=b,a.id=b.id),a}function Eb(g,d,e,h,i,j){var c=this,f=a[g.chart.guid].isInverted;c.axis=g,c.isNegative=e,c.options=d,c.x=h,c.stackIndex=i,c.percent="percent"===j,c.alignOptions={align:d.align||(f?e?"left":"right":"center"),verticalAlign:d.verticalAlign||(f?"middle":e?"bottom":"top"),y:b(d.y,f?4:e?14:-6),x:b(d.x,f?e?-6:6:0)},c.textAlignINTERNAL=d.textAlignINTERNAL||(f?e?"right":"left":"center")}function Kc(){var f,b,g=this.axis,a=this.value,j=g.categoricalValues,h=this.dateTimeLabelFormat,d=null,c=d&&d.length,i=g.isLog?a:g.ticksRepeat;if(j)b=a;else if(h)b=o.format("{0:"+h+"}",new Date(a));else if(c&&i>=1e3)for(;c--&&b===e;)f=m.pow(1e3,c+1),i>=f&&null!==d[c]&&(b=o.format("{0:n}",a/f)+d[c]);return b===e&&(b=a>=1e3?o.format("{0:d}",a):o.format(Bc(a)?"{0:n}":"{0:d}",a)),b}function Mc(){var f,a=this,j=a.chart,g=a.stacks,h=[],i=[];a.hasVisibleSeries=!1,a.dataMin=a.dataMax=null,c(a.dataSeries,function(k){if(k.visible||j.options.scaleAxesForHiddenSeries){var s,y,B,r,A,x,m,z,n,c,D,v=k.options,o=v.baseValue,p=[],E=0;if(a.hasVisibleSeries=!0,a.isLog&&0>=o&&(o=v.baseValue=null),a.isXAxis)m=k.xData,m.length&&(a.dataMin=C(b(a.dataMin,m[0]),Da(m)),a.dataMax=l(b(a.dataMax,m[0]),ya(m)));else{var t,w,q,u,G=k.cropped,F=Xa.call(k.axisX),H=!!k.modifyValue;for(s=v.stackMode,a.usePercentage="percent"===s,s&&(A=v.stackIndex,r=k.seriesType+b(A,""),x="-"+r,k.stackKey=r,y=h[r]||[],h[r]=y,B=i[x]||[],i[x]=B),a.usePercentage&&(a.dataMin=0,a.dataMax=99),m=k.processedXData,z=k.processedYData,D=z.length,f=0;D>f;f++)if(n=m[f],c=z[f],s&&(t=o>c,w=t?B:y,q=t?x:r,c=w[n]=d(w[n])?$(w[n]+c):c,g[q]||(g[q]={}),g[q][n]||(g[q][n]=new Eb(a,a.options.stackTextSettings,t,n,A,s)),g[q][n]._total(c)),null!==c&&c!==e&&(H&&(c=k.modifyValue(c)),G||(m[f+1]||n)>=F.min&&(m[f-1]||n)<=F.max))if(u=c.length)for(;u--;)null!==c[u]&&(p[E++]=c[u]);else p[E++]=c;!a.usePercentage&&p.length&&(a.dataMin=C(b(a.dataMin,p[0]),Da(p)),a.dataMax=l(b(a.dataMax,p[0]),ya(p))),d(o)&&(a.dataMin>=o?(a.dataMin=o,a.ignoreMinPadding=!0):a.dataMax<o&&(a.dataMax=o,a.ignoreMaxPadding=!0))}}})}function bb(b,e,f){var a,c,g=$(K(e/b)*b),h=$(ua(f/b)*b),d=[];for(a=g;h>=a&&(d.push(a),a=$(a+b),a!==c);)c=a;return d}function Bb(a,h,i,d){var c=this,r=c.options,p=c.len,f=[];if(d||(c._minorAutoInterval=null),a>=.5)a=g(a),f=bb.call(c,a,h,i);else if(a>=.08){var k,e,j,q,l,n,o,v=K(h);for(k=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],e=v;i+1>e&&!o;e++)for(q=k.length,j=0;q>j&&!o;j++)l=la(R(e)*k[j]),l>h&&f.push(n),n>i&&(o=!0),n=l}else{var t=R(h),u=R(i),s=r[d?"minorTicksRepeat":"ticksRepeat"],w="auto"===s?null:s,x=r.tickPixelIntervalINTERNAL/(d?5:1),y=d?p/c.tickPositions.length:p;a=b(w,c._minorAutoInterval,(u-t)*x/(y||1)),a=fb(a,null,m.pow(10,K(m.log(a)/m.LN10))),f=qa(bb.call(c,a,t,u),la),d||(c._minorAutoInterval=a/5)}return d||(c.ticksRepeat=a),f}function gc(){var c,b,g,a=this,d=a.tickPositions,f=a.minorTicksRepeat,e=[];if(a.isLog)for(g=d.length,b=1;g>b;b++)e=e.concat(Bb.call(a,f,d[b-1],d[b],!0));else for(c=a.min+(d[0]-a.min)%f;c<=a.max;c+=f)e.push(c);return e}function Hc(b,c,d,e,f,g){var a=this;return b>0?a.translate(a.dataMin+b,c,d,e,f,g)-a.translate(a.dataMin,c,d,e,f,g):0>b?a.translate(a.dataMax+b,c,d,e,f,g)-a.translate(a.dataMax,c,d,e,f,g):0}function Gc(){var o,m,j,n,l,q,i,p,a=this,k=a.options,f=a.min,g=a.max,r=a.dataMax-a.dataMin>=a.zoomMin;if(a.isXAxis&&a.zoomMin===e&&!a.isLog&&(d(k.min)||d(k.max)?a.zoomMin=null:(c(a.dataSeries,function(a){for(l=a.xData,q=a.xIncrement?1:l.length-1,j=q;j>0;j--)n=l[j]-l[j-1],(m===e||m>n)&&(m=n)}),a.zoomMin=C(5*m,a.dataMax-a.dataMin))),g-f<a.zoomMin){var h=a.zoomMin;o=(h-g+f)/2,i=[f-o,b(k.min,f-o)],r&&(i[2]=a.dataMin),f=ya(i),p=[f+h,b(k.max,f+h)],r&&(p[2]=a.dataMax),g=Da(p),h>g-f&&(i[0]=g-h,i[1]=b(k.min,g-h),f=ya(i))}a.min=f,a.max=g}function Jb(){var b=this,d=a[b.chart.guid],c=d.maxTicks,e=b.tickPositions,f=b.xOrY;c||(c={x:0,y:0}),!b.isLinked&&!b.isDatetimeAxis&&e.length>c[f]&&b.options.matchTicks!==!1&&(c[f]=e.length),d.maxTicks=c}function Kb(d,e,c,g,f){var a=this,h=a.chart;c=b(c,!0),f=i(f,{min:d,max:e}),a.userMin=d,a.userMax=e,a.isDirtyExtremes=!0,c&&h.redraw(g)}function Xa(){var a=this,b=a.isLog;return{min:b?$(R(a.min)):a.min,max:b?$(R(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}}function ob(a){var b=this,c=b.isLog,d=c?R(b.min):b.min,e=c?R(b.max):b.max;return d>a||null===a?a=d:a>e&&(a=e),b.translate(a,0,1,0,1)}function yc(b){var a=new jb(this,b).render();return this.plotLinesAndBands.push(a),a}function Sa(){this.init.apply(this,arguments)}function Pb(b,k){var e,j,d=a[this.chart.guid],f=d.isInverted,h=0,i=0;return b=ea(b),e=b[0].tooltipPos,e||(c(b,function(a){j=a.dataSeries.axisY,h+=a.plotX,i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&j?j.top-d.plotTop:0)}),h/=b.length,i/=b.length,e=[f?d.plotWidth-i:h,this.chartBound&&!f&&b.length>1&&k?k.chartY-d.plotTop:f?d.plotHeight-h:i]),qa(e,g)}function uc(){c(this.axisMarkers,function(a){a&&a.hide()})}function Vb(c,d){var b=this;b.chart=c,b.options=d,b.axisMarkers=[],b.isHidden=!0,(/msie 7/i.test(pa)||/msie 8/i.test(pa))&&f("html").addClass("ie7"),b.labelElement=f('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(c.element),(ha||lb)&&f(b.labelElement).bind(Ba,function(b){a[c.guid].container.onmousemove(b)}),b.chartBound=d.chartBound}function zb(c,b){var a=this,d=U?"":b.zoomMode;a.zoomX=/x/.test(d),a.zoomY=/y/.test(d),a.options=b,a.chart=c,a.init(c,b.tooltipSettings)}function yb(a,b){var h=this,j=h.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,c=a.checkMark,i=h.disabledStyle.color,k=b?j.legendItemSettings.elementStyle.color:i,d=b?a.color:i,l=(a.options&&a.options.pointMark,{stroke:d,fill:d,"stroke-width":0});e&&e.css({fill:k}),f&&f.attr({stroke:d}),g&&g.attr(l),c&&(b?c.attr({stroke:j.checkMarkSettings.color}).css({visibility:A}):c.css({visibility:z}))}function oc(a){var b=this,c=b.options,f=c.legendMarkerDistance,g=!c.rtlLayout,d=a._legendItemPos,e=d[0],h=d[1];a.legendGroup&&a.legendGroup.translate(g?e:b.legendWidth-e-2*f-4,h)}function Yb(a){a.legendItem&&a.legendItem.destroy(),a.legendLine&&a.legendLine.destroy(),a.legendSymbol&&a.legendSymbol.destroy(),a.legendGroup&&a.legendGroup.destroy()}function mc(c){var j,m,e,f,b=this,A=b.chart,z=a[A.guid],y=z.renderer,d=b.options,x=d.checkMarkSettings,w=x.mouseOverColor,p="horizontal"===d.renderDirection,r=d.symbolWidthINTERNAL,o=d.legendMarkerDistance,s=b.elementStyle,t=b.disabledStyle,u=b.padding,v=!d.rtlLayout,q=d.width,n=d.legendItemSettings.bottomSpacing||0,k=b.topSpacing,i=b.initialItemX,g=c.legendItem,B=c.dataSeries||c;B.options;g||(c.legendGroup=y.g().attr({zIndex:1}).add(b.scrollGroup),B.drawLegendSymbol(b,c),c.legendItem=g=y.text(c.collectionAlias,v?r+o:-o,b.baseline,d.htmlOutput).css(h(c.visible?s:t)).attr({align:v?"left":"right",zIndex:2}).add(c.legendGroup),f=c.checkMark,c.legendGroup.on(Ba,function(){c.setState(P),g.css(b.options.legendItemSettings.mouseOverStyle),f&&w&&f.attr({stroke:w})}).on(ab,function(){g.css(c.visible?s:t),f&&f.attr({stroke:x.color}),c.setState()}).on(Fa,function(b){var a=A.trigger("legendSeriesClick",{item:c});a.isDefaultPrevented()||c.toggle()}),yb.call(b,c,c.visible)),m=g.getBBox(),e=c.legendelementWidth=d.legendItemSettings.elementWidth||r+o+m.width+u,b.itemHeight=j=m.height,p&&b.itemX-i+e>(q||z.chartWidth-2*u-i)&&(b.itemX=i,b.itemY+=k+b.lastLineHeight+n,b.lastLineHeight=0),b.maxelementWidth=l(b.maxelementWidth,e),b.lastItemY=k+b.itemY+n,b.lastLineHeight=l(j,b.lastLineHeight),c._legendItemPos=[b.itemX,b.itemY],p?b.itemX+=e:(b.itemY+=k+j+n,b.lastLineHeight=j),b.offsetWidth=q||l(p?b.itemX-i:e,b.offsetWidth)}function fc(d){var f,b=this,i=b.chart,g=a[i.guid],e=(g.renderer,b.options),h=e.y,j="top"===e.verticalAlign,c=g.spacingBox.height+(j?-h:h)-this.padding,k=b.clipRect;return"horizontal"===e.renderDirection&&(c/=2),d>c&&(b.clipHeight=f=c,k.attr({height:f}),d=c),d}function Ab(a){this.init(a)}function Q(h,b,c,d){var e=a[h.guid],f=d?c:b,g=d?b:c;return f>=0&&f<=e.plotWidth&&g>=0&&g<=e.plotHeight}function ac(){for(var a,b=this,d=["graphic","tracker","dataLabel","group","connector","shadowGroup"],c=6;c--;)a=d[c],b[a]&&(b[a]=b[a].destroy())}function jc(d,h){var a,e=this,c=e.dataSeries,g=c.chart,f=c.data,i=f.length;for(Ea(h,g),d=b(d,!0),a=0;i>a;a++)if(f[a]===e){f.splice(a,1),c.options.data.splice(a,1),c.xData.splice(a,1),c.yData.splice(a,1);break}e.destroy(),c.isDirty=!0,c.isDirtyData=!0,d&&g.redraw()}function _b(e,g,k){var f,c=this,l=c.dataSeries,h=l.chart,i=a[h.guid],j=c.slicedTranslation;Ea(k,h),g=b(g,!0),e=c.sliced=d(e)?e:!c.sliced,f={translateX:e?j[0]:i.plotLeft,translateY:e?j[1]:i.plotTop},c.group.animate(f),c.shadowGroup&&c.shadowGroup.animate(f)}function $b(a,b,c){this.init.call(this,a,b,c)}function Xb(d,c,e){var b=this,f=a[c.guid];d.call(b,c,e),f.enablePolarLayout&&(b.closeSegment=function(c){var a=b.axisX.center;c.push("L",a[0],a[1])},b.closedStacks=!0)}function Ub(m,j){var c,b=this,h=a[b.chart.guid],g=b.options.applyAnimation,d=b.group,f=b.markerGroup,k=b.axisX.center,l=h.plotLeft,i=h.plotTop;h.enablePolarLayout?h.renderer.isSVG&&!ha&&(g===!0&&(g={}),j?(d.attrSetters.scaleX=d.attrSetters.scaleY=function(b,c){var a=this;return a[c]=b,a.scaleX!==e&&a.scaleY!==e&&a.element.setAttribute("transform","translate("+a.translateX+","+a.translateY+") scale("+a.scaleX+","+a.scaleY+")"),!1},c={translateX:k[0]+l,translateY:k[1]+i,scaleX:0,scaleY:0},d.attr(c),f&&(f.attrSetters=d.attrSetters,f.attr(c))):(c={translateX:l,translateY:i,scaleX:1,scaleY:1},d.animate(c,g),f&&f.animate(c,g),b.animate=null)):m.call(b,j)}var Ma,Na,Z,Ha,hb,r,Va,Cb,Fb,Hb,Za,sb,tb,Ib,Lb,db,Mb,Ob,Rb=o.ui.Widget,sc=o.Constants,p=document,m=Math,g=m.round,K=m.floor,ua=m.ceil,l=m.max,C=m.min,O=m.abs,D=m.cos,I=m.sin,u=m.PI,Ra=2*u/360,Pa="function",Ba="mouseover",ab="mouseout",bc="mousemove",hc="mouseenter",gb="mouseleave",za="touchstart",ib="point",pa=navigator.userAgent,lb=F.opera,ha=/msie/i.test(pa)&&!lb,Ia=8===p.documentMode,pb=/AppleWebKit/.test(pa),qb=/Firefox/.test(pa),ia=sc.SVG_NS,S=!!p.createElementNS&&!!p.createElementNS(ia,"svg").createSVGRect,La=!!p.createElement("canvas").getContext,U=!S&&!ha&&La,V=p.documentElement.ontouchstart!==e,Wb={},W=function(){},i=f.extend,xc=f.inArray,Qa=o.error,n=o.to["int"],T=o.is.string,M=o.is.object,ma=o.is.array,va=o.is.number,Bc=(o.is.integer,o.is["float"]),Fc=o.is["null"],d=o.is.defined,ea=o.to.array,Ya="shield-",X="div",A="visible",z="hidden",_a="relative",s="px",t="L",w="M",N="none",ja="absolute",xb="pointer",wb="rgba(192,192,192,"+(S?1e-4:.002)+")",E="",P="pointHoveredState",aa="pointSelectedState",Jc="MILLISECOND",Gb="SECOND",vb="MINUTE",$a="HOUR",ka="DAY",rb="WEEK",Wa="MONTH",Ga="YEAR",Nb="stroke-width",da="resize",Fa="click",a={},k={};dc.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},r={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31556952e3},hb={init:function(g,f,n){f=f||"";var k,e,c,h,m,l=g.shift,i=f.indexOf("C")>-1,d=i?7:3,a=f.split(" "),b=[].concat(n),j=function(a){for(c=a.length;c--;)a[c]===w&&a.splice(c+1,0,a[c+1],a[c+2],a[c+1],a[c+2])};if(i&&(j(a),j(b)),g.isArea&&(h=a.splice(a.length-6,6),m=b.splice(b.length-6,6)),l<=b.length/d)for(;l--;)b=[].concat(b).splice(0,d).concat(b);if(g.shift=0,a.length)for(k=b.length;a.length<k;)e=[].concat(a).splice(a.length-d,d),i&&(e[d-6]=e[d-2],e[d-5]=e[d-1]),a=a.concat(e);return h&&(a=a.concat(h),b=b.concat(m)),[a,b]},step:function(d,e,f,g){var b,c=[],a=d.length;if(1===f)c=g;else if(a===e.length&&1>f)for(;a--;)b=parseFloat(d[a]),c[a]=isNaN(b)?d[a]:f*parseFloat(e[a]-b)+b;else c=e;return c}},function(){var b,c=f.fx,d=c.step,a=f.Tween,g=a&&a.propHooks;f.extend(f.easing,{easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b}}),f.each(["cur","_default","width","height"],function(j,b){var h,i,f=d;"cur"===b?f=c.prototype:"_default"===b&&a&&(f=g[b],b="set"),h=f[b],h&&(f[b]=function(a){return a=j?a:this,i=a.elem,i.attr?i.attr(a.prop,"cur"===b?e:a.now):h.apply(this,arguments)})}),b=function(a){var c,b=a.elem;a.started||(c=hb.init(b,b.d,b.toD),a.start=c[0],a.end=c[1],a.started=!0),b.attr("d",hb.step(a.start,a.end,a.pos,b.toD))},a?g.d={set:b}:d.d=b}();var c=(f.getScript,Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(b,c){for(var a=0,d=b.length;d>a;a++)if(c.call(b[a],b[a],a,b)===!1)return a}),qc=f.grep,pc=function(a){return f(a).offset()},qa=f.map,h=function(){return f.extend.apply(f,[].concat.apply([!0,null],arguments))},G=function(a,b,c){f(a).bind(b,c)},J=function(a,c,d){var b=p.removeEventListener?"removeEventListener":"detachEvent";p[b]&&!a[b]&&(a[b]=function(){}),f(a).unbind(c,d)},nc=function(a,c,d,g){var h,b=f.Event(c),e="detached"+c;!ha&&d&&(delete d.layerX,delete d.layerY),i(b,d),a[c]&&(a[e]=a[c],a[c]=null),f.each(["preventDefault","stopPropagation"],function(d,a){var c=b[a];b[a]=function(){try{c.call(b)}catch(d){"preventDefault"===a&&(h=!0)}}}),f(a).trigger(b),a[e]&&(a[c]=a[e],a[e]=null),!g||b.isDefaultPrevented()||h||g(b)},_=function(a,c,d,b){var e;a instanceof o.ui.Widget?a.trigger(c,d,b):a instanceof o.Dispatcher?(e=a.trigger(c,d),typeof b!==Pa||e.isDefaultPrevented()||b.call(a,e)):nc(a,c,d,b)},lc=function(b,a,d){var c=f(b);a.d&&(b.toD=a.d,a.d=1),c.stop(),c.animate(a,d)},Oa=function(a){f(a).stop()},eb={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}};Z={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,localization:{},primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:_a,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:h(eb,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:xb,color:"#3E576F",fontSize:"12px"}},checkMarkSettings:{enabled:!1,shape:"check",width:1,color:"#3E576F",mouseOverColor:e,coordinates:{x:e,y:e,width:e,height:e}},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:V?25:10}};var j=Z.seriesSettings,Ca=j.line;vc();var ga=function(c){function d(c){b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(c),b?a=[n(b[1]),n(b[2]),n(b[3]),parseFloat(b[4],10)]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c),b&&(a=[n(b[1],16),n(b[2],16),n(b[3],16),1]))}function e(b){var d;return d=a&&!isNaN(a[0])?"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===b?a[3]:"rgba("+a.join(",")+")":c}function f(c){if(va(c)&&0!==c){var b;for(b=0;3>b;b++)a[b]+=n(255*c),a[b]<0&&(a[b]=0),a[b]>255&&(a[b]=255)}return this}function g(b){return a[3]=b,this}var b,a=[];return d(c),{get:e,brighten:f,setOpacity:g}};ba.prototype={init:function(c,a){var b=this;b.element="span"===a?L(a):p.createElementNS(ia,a),b.renderer=c,b.attrSetters={}},animate:function(d,e,c){var a=b(e,Ha,!0);Oa(this),a?(a=h(a),c&&(a.complete=c),lc(this,d,a)):(this.attr(d),c&&c())},attr:function(g,v){var a,b,o,h,t,i,j,x,u,c=this,f=c.element,k=f.nodeName.toLowerCase(),s=c.renderer,w=c.attrSetters,m=c.shadows,r=c;if(T(g)&&d(v)&&(a=g,g={},g[a]=v),T(g))a=g,"circle"===k?a={x:"cx",y:"cy"}[a]||a:"strokeWidth"===a&&(a="stroke-width"),r=q(f,a)||c[a]||0,"d"!==a&&"visibility"!==a&&(r=parseFloat(r));else for(a in g)if(g.hasOwnProperty(a)&&(i=!1,b=g[a],o=w[a]&&w[a].call(c,b,a),o!==!1)){if(o!==e&&(b=o),"d"===a)b&&b.join&&(b=b.join(" ")),/(NaN| {2}|^$)/.test(b)&&(b="M 0 0");else if("x"===a&&"text"===k){for(h=0;h<f.childNodes.length;h++)t=f.childNodes[h],q(t,"x")===q(f,"x")&&q(t,"x",b);c.textAngle&&q(f,"transform","rotate("+c.textAngle+" "+b+" "+n(g.y||q(f,"y"))+")")}else if("fill"===a)b=s.color(b,f,a);else if("circle"!==k||"x"!==a&&"y"!==a)if("rect"===k&&"r"===a)q(f,{rx:b,ry:b}),i=!0;else if("translateX"===a||"translateY"===a||"textAngle"===a||"verticalAlign"===a)u=!0,i=!0;else if("stroke"===a)b=s.color(b,f,a);else if("dashstyle"===a){if(a="stroke-dasharray",b=b&&b.toLowerCase(),"solid"===b)b=N;else if(b){for(b=b.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),h=b.length;h--;)b[h]=n(b[h])*g["stroke-width"];b=b.join(",")}}else"isTracker"===a?c[a]=b:"width"===a?b=n(b):"align"===a?(a="text-anchor",b={left:"start",center:"middle",right:"end"}[b]):"title"===a&&(j=f.getElementsByTagName("title")[0],j||(j=p.createElementNS(ia,"title"),f.appendChild(j)),j.textContent=b);else a={x:"cx",y:"cy"}[a]||a;if("strokeWidth"===a&&(a="stroke-width"),pb&&"stroke-width"===a&&0===b&&(b=1e-6),c.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(a)&&(x||(c.symbolAttr(g),x=!0),i=!0),m&&/^(width|height|visibility|x|y|d|transform)$/.test(a))for(h=m.length;h--;)q(m[h],a,"height"===a?l(b-(m[h].cutHeight||0),0):b);("width"===a||"height"===a)&&"rect"===k&&0>b&&(b=0),c[a]=b,u&&c.updateTransform(),"text"===a?(b!==c.textStr&&delete c.bBox,c.textStr=b,c.added&&s.buildText(c)):i||q(f,a,b)}return r},symbolAttr:function(d){var a=this;c(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(c){a[c]=b(d[c],a[c])}),a.attr({d:a.renderer.symbols[a.symbolName](a.x,a.y,a.width,a.height,a)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":N)},crisp:function(e,h,i,j,k){var c,d,a=this,f={},b={};e=e||a.strokeWidth||a.attr&&a.attr("stroke-width")||0,d=g(e)%2/2,b.x=K(h||a.x||0)+d,b.y=K(i||a.y||0)+d,b.width=K((j||a.width||0)-2*d),b.height=K((k||a.height||0)-2*d),b.strokeWidth=e;for(c in b)b.hasOwnProperty(c)&&a[c]!==b[c]&&(f[c]=b[c],M(a)&&(a[c]=b[c]));return f},css:function(a){var c,b=this,f=b.element,d=a&&a.width&&"text"===f.nodeName.toLowerCase(),e="",g=function(b,a){return"-"+a.toLowerCase()};if(a&&a.color&&(a.fill=a.color),a=i(b.styles,a),b.styles=a,U&&d&&delete a.width,ha&&!S)d&&delete a.width,x(b.element,a);else{for(c in a)a.hasOwnProperty(c)&&(e+=c.replace(/([A-Z])/g,g)+":"+a[c]+";");b.attr({style:e})}return d&&b.added&&b.renderer.buildText(b),b},on:function(a,b){var c=b;return V&&a===Fa&&(a=za,c=function(a){a.preventDefault(),b()}),this.element["on"+a]=c,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.isInverted=!0,a.updateTransform(),a},htmlCss:function(b){var a=this,d=a.element,c=b&&"SPAN"===d.tagName&&b.width;return c&&(delete b.width,a.textWidth=c,a.updateTransform()),a.styles=i(a.styles,b),x(a.element,b),a},htmlGetBBox:function(){var b=this,a=b.element,c=b.bBox;return c||("text"===a.nodeName&&(a.style.position=ja),c=b.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}),c},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var a=this,u=a.renderer,e=a.element,v=a.translateX||0,y=a.translateY||0,C=a.x||0,F=a.y||0,l=a.textAlignINTERNAL||"left",i={left:0,center:.5,right:1}[l],E=l&&"left"!==l,A=a.shadows;if((v||y)&&(x(e,{marginLeft:v,marginTop:y}),A&&c(A,function(a){x(a,{marginLeft:v+1,marginTop:y+1})})),a.isInverted&&c(e.childNodes,function(a){u.invertChild(a,e)}),"SPAN"===e.tagName){var m,p,q,r,B,h=a.textAngle,t=0,g=1,f=0,w=n(a.textWidth),k=a.xCorr||0,j=a.yCorr||0,z=[h,l,e.innerHTML,a.textWidth].join(","),o={};z!==a.cTT&&(d(h)&&(u.isSVG?(B=ha?"-ms-transform":pb?"-webkit-transform":qb?"MozTransform":lb?"-o-transform":"",o[B]=o.transform="rotate("+h+"deg)"):(t=h*Ra,g=D(t),f=I(t),o.filter=h?["progid:DXImageTransform.Microsoft.Matrix(M11=",g,", M12=",-f,", M21=",f,", M22=",g,", sizingMethod='auto expand')"].join(""):N),x(e,o)),m=b(a.elemWidth,e.offsetWidth),p=b(a.elemHeight,e.offsetHeight),m>w&&/[ \-]/.test(e.innerText)&&(x(e,{width:w+s,display:"block",whiteSpace:"normal"}),m=w),q=u.fontMetrics(e.style.fontSize).b,k=0>g&&-m,j=0>f&&-p,r=0>g*f,k+=f*q*(r?1-i:i),j-=g*q*(h?r?i:1-i:1),E&&(k-=m*i*(0>g?-1:1),h&&(j-=p*i*(0>f?-1:1)),x(e,{textAlignINTERNAL:l})),a.xCorr=k,a.yCorr=j),x(e,{left:C+k+s,top:F+j+s}),a.cTT=z}},updateTransform:function(){var a=this,c=a.translateX||0,d=a.translateY||0,e=a.isInverted,f=a.textAngle,b=[];e&&(c+=a.attr("width"),d+=a.attr("height")),(c||d)&&b.push("translate("+c+","+d+")"),e?b.push("rotate(90) scale(-1,1)"):f&&b.push("rotate("+f+" "+(a.x||0)+" "+(a.y||0)+")"),b.length&&q(a.element,"transform",b.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(c,e,d){var a=this;c?(a.alignOptions=c,a.alignByTranslate=e,d||a.renderer.alignedObjects.push(a)):(c=a.alignOptions,e=a.alignByTranslate),d=b(d,a.renderer);var h=c.align,i=c.verticalAlign,j=(d.x||0)+(c.x||0),k=(d.y||0)+(c.y||0),f={};return("right"===h||"center"===h)&&(j+=(d.width-(c.width||0))/{right:1,center:2}[h]),f[e?"translateX":"x"]=g(j),("bottom"===i||"middle"===i)&&(k+=(d.height-(c.height||0))/({bottom:1,middle:2}[i]||1)),f[e?"translateY":"y"]=g(k),a[a.placed?"animate":"attr"](f),a.placed=!0,a.alignAttr=f,a},getBBox:function(){var f,d,b=this,a=b.bBox,g=b.renderer,h=b.textAngle,c=b.element,j=b.styles,e=h*Ra;if(!a){if(c.namespaceURI===ia||g.forExport){try{a=c.getBBox?i({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight}}catch(k){}(!a||a.width<0)&&(a={width:0,height:0})}else a=b.htmlGetBBox();g.isSVG&&(f=a.width,d=a.height,h&&(a.width=O(d*I(e))+O(f*D(e)),a.height=O(d*D(e))+O(f*I(e)))),ha&&j&&"11px"===j.fontSize&&22.700000762939453===d&&(a.height=14),b.bBox=a}return a},show:function(){return this.attr({visibility:A})},hide:function(){return this.attr({visibility:z})},add:function(a){var e,g,c,k,j=this.renderer,h=a||j,i=h.element||j.box,l=i.childNodes,f=this.element,b=q(f,"zIndex");if(a&&(this.parentGroup=a),this.parentInverted=a&&a.isInverted,void 0!==this.textStr&&j.buildText(this),b&&(h.handleZ=!0,b=n(b)),h.handleZ)for(c=0;c<l.length;c++)if(e=l[c],g=q(e,"zIndex"),e!==f&&(n(g)>b||!d(b)&&d(g))){i.insertBefore(f,e),k=!0;break}return k||i.appendChild(f),this.added=!0,_(this,"add"),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){if(!this._destroyed){var e,b,a=this,d=a.element||{},f=a.shadows;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=null,Oa(a),a.clipPath&&(a.clipPath=a.clipPath.destroy()),a.stops){for(b=0;b<a.stops.length;b++)a.stops[b]=a.stops[b].destroy();a.stops=null}a.safeRemoveChild(d),f&&c(f,function(b){a.safeRemoveChild(b)}),a.renderer._destroyed||sa(a.renderer.alignedObjects,a);for(e in a)a.hasOwnProperty(e)&&delete a[e];return a._destroyed=!0,null}},empty:function(){for(var a=this.element,b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},shadow:function(c,h,m){var d,a,e,f,i,j,k=[],g=this.element;if(c){for(f=b(c.width,3),i=(c.opacity||.15)/f,j=this.parentInverted?"(-1,-1)":"("+b(c.offsetX,1)+", "+b(c.offsetY,1)+")",d=1;f>=d;d++)a=g.cloneNode(0),e=2*f+1-2*d,q(a,{isShadow:"true",stroke:c.color||"black","stroke-opacity":i*d,"stroke-width":e,transform:"translate"+j,fill:N}),m&&(q(a,"height",l(q(a,"height")-e,0)),a.cutHeight=e),h?h.element.appendChild(a):g.parentNode.insertBefore(a,g),k.push(a);this.shadows=k}return this}};var Y=function(){this.init.apply(this,arguments)};Y.prototype={Element:ba,init:function(b,f,g,h){var d,a=this,i=location;if(d=a.createElement("svg").attr({xmlns:ia,version:"1.1"}),b.appendChild(d.element),a.isSVG=!0,a.box=d.element,a.boxWrapper=d,a.alignedObjects=[],a.url=(qb||pb)&&p.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a.defs=this.createElement("defs").add(),a.forExport=h,a.gradients={},a.setSize(f,g,!1),qb&&b.getBoundingClientRect){var e,c;a.subPixelFix=e=function(){x(b,{left:0,top:0}),c=b.getBoundingClientRect(),x(b,{left:ua(c.left)-c.left+s,top:ua(c.top)-c.top+s})},e(),G(F,da,e)}},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){if(!this._destroyed){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),wa(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.subPixelFix&&J(F,da,a.subPixelFix),a.alignedObjects=null,a._destroyed=!0,null}},createElement:function(b){var a=new this.Element;return a.init(this,b),a},draw:function(){},buildText:function(d){function u(b){return i[b]=a.getBBox?a.getBBox().height:d.renderer.fontMetrics(a.style.fontSize).h,g(i[b]-(i[b-1]||0))}for(var j,a=d.element,h=b(d.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),m=a.childNodes,l=/style="([^"]+)"/,t=/href="([^"]+)"/,k=q(a,"x"),f=d.styles,e=f&&f.width&&n(f.width),o=f&&f.lineHeight,r="getComputedStyle",s=m.length,i=[];s--;)a.removeChild(m[s]);e&&!d.added&&this.box.appendChild(a),""===h[h.length-1]&&h.pop(),c(h,function(f,i){var g,b,h=0;f=f.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=f.split("|||"),c(g,function(f){if(""!==f||1===g.length){var s,y={},c=p.createElementNS(ia,"tspan");if(l.test(f)&&(s=f.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),q(c,"style",s)),t.test(f)&&(q(c,"onclick",'location.href="'+f.match(t)[1]+'"'),x(c,{cursor:xb})),f=(f.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),c.appendChild(p.createTextNode(f)),h?y.dx=3:y.x=k,h||(i&&(!S&&d.renderer.forExport&&x(c,{display:"block"}),b=F[r]&&n(F[r](j,null).getPropertyValue("line-height")),(!b||isNaN(b))&&(b=o||j.offsetHeight||u(i)||18),q(c,"dy",b)),j=c),q(c,y),a.appendChild(c),h++,e)for(var z,v,m=f.replace(/([^\^])-/g,"$1- ").split(" "),w=[];m.length||w.length;)delete d.bBox,v=d.getBBox().width,z=v>e,z&&1!==m.length?(c.removeChild(c.firstChild),w.unshift(m.pop())):(m=w,w=[],m.length&&(c=p.createElementNS(ia,"tspan"),q(c,{dy:o||16,x:k}),s&&q(c,"style",s),a.appendChild(c),v>e&&(e=v))),m.length&&c.appendChild(p.createTextNode(m.join(" ").replace(/- /g,"-")))}})})},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=g(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=g(a[2])+b%2/2),a},path:function(a){var b={
fill:N};return ma(a)?b.d=a:M(a)&&i(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){var d=M(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,c,b,d,e,f){return M(a)&&(c=a.y,b=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x),this.symbol("arc",a||0,c||0,b||0,b||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,d,e,f,b,g){b=M(a)?a.r:b;var c=this.createElement("rect").attr({rx:b,ry:b,fill:N});return c.attr(M(a)?a:c.crisp(g,a,d,l(e,0),l(f,0)))},setSize:function(c,d,g){var a=this,e=a.alignedObjects,f=e.length;for(a.width=c,a.height=d,a.boxWrapper[b(g,!0)?"animate":"attr"]({width:c,height:d});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return d(a)?b.attr({"class":Ya+a}):b},image:function(b,d,e,f,g){var a,c={preserveAspectRatio:N};return arguments.length>1&&i(c,{x:d,y:e,width:f,height:g}),a=this.createElement("image").attr(c),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.element.setAttribute("sui-svg-href",b),a},symbol:function(c,e,f,k,l,d){var a,b,h,j,m=this.symbols[c],n=m&&m(g(e),g(f),k,l,d),o=/^url\((.*?)\)$/;return n?(a=this.path(n),i(a,{symbolName:c,x:e,y:f,width:k,height:l}),d&&i(a,d)):o.test(c)&&(j=function(b,a){b.attr({width:a[0],height:a[1]}),b.alignByTranslate||b.translate(-g(a[0]/2),-g(a[1]/2))},b=c.match(o)[1],h=Wb[b],a=this.image(b).attr({x:e,y:f}),h?j(a,h):(a.attr({width:0,height:0}),L("img",{onload:function(){var c=this;j(a,Wb[b]=[c.width,c.height])},src:b}))),a},symbols:{circle:function(a,b,c,e){var d=.166*c;return[w,a+c/2,b,"C",a+c+d,b,a+c+d,b+e,a+c/2,b+e,"C",a-d,b+e,a-d,b,a+c/2,b,"Z"]},x:function(a,b,c,d){return[w,a,b,t,a+c,b+d,w,a+c,b,t,a,b+d]},v:function(a,b,c,d){return[w,a+1,b+1,t,a+c/2,b+d-1,t,a+c-1,b+1]},check:function(a,b,c,d){return[w,a+2,b+d/2-1,t,a+c/2,b+d-1,t,a+c-1,b+1]},square:function(a,b,c,d){return[w,a,b,t,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[w,a+c/2,b,t,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[w,a,b,t,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[w,a+c/2,b,t,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(d,e,o,n,a){var f=a.start,b=a.r||o||n,m=a.end-1e-6,c=a.innerR,j=a.open,k=D(f),l=I(f),g=D(m),i=I(m),h=a.end-f<u?0:1;return[w,d+b*k,e+b*l,"A",b,b,0,h,1,d+b*g,e+b*i,j?w:t,d+c*g,e+c*i,"A",c,c,0,h,0,d+c*k,e+c*l,j?"":"Z"]}},clipRect:function(d,e,f,g){var a,b=o.strid(),c=this.createElement("clipPath").attr({id:b}).add(this.defs);return a=this.rect(d,e,f,g,0).add(c),a.id=b,a.clipPath=c,a},color:function(b,k,n){var g,f,h=this,r=/^rgba/;if(b&&b.linearGradient?f="linearGradient":b&&b.radialGradient&&(f="radialGradient"),f){var j,l,m,a=b[f],p=h.gradients,e=k.radialReference;return a.id&&p[a.id]||(ma(a)&&(b[f]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===f&&e&&!d(a.gradientUnits)&&i(a,{cx:e[0]-e[2]/2+a.cx*e[2],cy:e[1]-e[2]/2+a.cy*e[2],r:a.r*e[2],gradientUnits:"userSpaceOnUse"}),a.id=o.strid(),p[a.id]=j=h.createElement(f).attr(a).add(h.defs),j.stops=[],c(b.stops,function(a){var b;r.test(a[1])?(g=new ga(a[1]),l=g.get("rgb"),m=g.get("a")):(l=a[1],m=1),b=h.createElement("stop").attr({offset:a[0],"stop-color":l,"stop-opacity":m}).add(j),j.stops.push(b)})),"url("+h.url+"#"+a.id+")"}return r.test(b)?(g=new ga(b),q(k,n+"-opacity",g.get("a")),g.get("rgb")):(k.removeAttribute(n+"-opacity"),b)},text:function(f,a,c,i){var d,e=this,h=Z.style,j=U||!S&&e.forExport;return i&&!e.forExport?e.html(f,a,c):(a=g(b(a,0)),c=g(b(c,0)),d=e.createElement("text").attr({x:a,y:c,text:f}).css({fontFamily:h.fontFamily,fontSize:h.fontSize}),j&&d.css({position:ja}),d.x=a,d.y=c,d)},html:function(h,j,k){var e=Z.style,a=this.createElement("span"),b=a.attrSetters,d=a.element,f=a.renderer;return b.text=function(a){return a!==d.innerHTML&&delete this.bBox,d.innerHTML=a,!1},b.x=b.y=b.align=function(c,b){return"align"===b&&(b="textAlignINTERNAL"),a[b]=c,a.htmlUpdateTransform(),!1},a.attr({text:h,x:g(j),y:g(k)}).css({position:ja,whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize}),a.css=a.htmlCss,f.isSVG&&(a.add=function(g){var b,e,h=f.box.parentNode,j=[];if(g){if(b=g.div,!b){for(e=g;e;)j.push(e),e=e.parentGroup;c(j.reverse(),function(a){var c;b=a.div=a.div||L(X,{className:q(a.element,"class")},{position:ja,left:(a.translateX||0)+s,top:(a.translateY||0)+s},b||h),c=b.style,i(a.attrSetters,{translateX:function(a){c.left=a+s},translateY:function(a){c.top=a+s},visibility:function(a,b){c[b]=a}})})}}else b=h;return b.appendChild(d),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a},fontMetrics:function(a){a=n(a||11);var b=24>a?a+4:g(1.2*a),c=g(.8*b);return{h:b,b:c}},label:function(C,H,E,A,u,x,D,w,F){function I(){var b,c=f.element.style;n=(void 0===l||void 0===t||a.styles.textAlignINTERNAL)&&f.getBBox(),a.width=(l||n.width||0)+2*k,a.height=(t||n.height||0)+2*k,s=k+m.fontMetrics(c&&c.fontSize).b,j||(b=w?-s:0,a.box=j=A?m.symbol(A,-o*k,b,a.width,a.height):m.rect(-o*k,b,a.width,a.height,0,q[Nb]),j.add(a)),j.attr(h({width:a.width,height:a.height},q)),q=null}function B(){var b,g=a.styles,e=g&&g.textAlignINTERNAL,c=k*(1-o);b=w?0:s,!d(l)||"center"!==e&&"right"!==e||(c+={center:.5,right:1}[e]*(l-n.width)),(c!==f.x||b!==f.y)&&f.attr({x:c,y:b}),f.x=c,f.y=b}function p(a,b){j?j.attr(a,b):q[a]=b}function y(){f.add(a),a.attr({text:C,x:H,y:E}),d(u)&&a.attr({anchorX:u,anchorY:x})}var j,n,l,t,r,v,s,m=this,a=m.g(F),f=m.text("",0,0,D).attr({zIndex:1}),o=0,k=3,z=0,q={},b=a.attrSetters;G(a,"add",y),b.width=function(a){return l=a,!1},b.height=function(a){return t=a,!1},b.padding=function(a){return d(a)&&a!==k&&(k=a,B()),!1},b.align=function(a){return o={left:0,center:.5,right:1}[a],!1},b.text=function(a,b){return f.attr(b,a),I(),B(),!1},b[Nb]=function(a,b){return z=a%2/2,p(b,a),!1},b.stroke=b.fill=b.r=function(a,b){return p(b,a),!1},b.anchorX=function(a,b){return u=a,p(b,a+z-r),!1},b.anchorY=function(a,b){return x=a,p(b,a-v),!1},b.x=function(b){return a.x=b,b-=o*((l||n.width)+k),r=g(b),a.attr("translateX",r),!1},b.y=function(b){return v=a.y=g(b),a.attr("translateY",b),!1};var K=a.css;return i(a,{css:function(b){if(b){var d={};b=h({},b),c(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(a){b[a]!==e&&(d[a]=b[a],delete b[a])}),f.css(d)}return K.call(a,b)},getBBox:function(){return j.getBBox()},shadow:function(b){return j.shadow(b),a},destroy:function(){a._destroyed||(J(a,"add",y),J(a.element,hc),J(a.element,gb),f&&(f=f.destroy()),j&&(j=j.destroy()),ba.prototype.destroy.call(a))}})}},Ma=Y;var Ja;if(!S&&!U){var oa={init:function(e,a){var c=this,b=["<",a,' filled="f" stroked="f"'],d=["position: ",ja,";"];("shape"===a||a===X)&&d.push("left:0;top:0;width:1px;height:1px;"),Ia&&d.push("visibility: ",a===X?z:A),b.push(' style="',d.join(""),'"/>'),a&&(b=a===X||"span"===a||"img"===a?b.join(""):e.prepVML(b),c.element=L(b)),c.renderer=e,c.attrSetters={}},add:function(b){var a=this,c=a.renderer,d=a.element,f=c.box,g=b&&b.isInverted,e=b?b.element||b:f;return g&&c.invertChild(d,e),e.appendChild(d),a.added=!0,a.alignOnAdd&&!a.deferUpdateTransform&&a.updateTransform(),_(a,"add"),a},updateTransform:ba.prototype.htmlUpdateTransform,attr:function(i,u){var a,b,f,n,t,j,c=this,h=c.element||{},m=h.style,p=h.nodeName,r=c.renderer,y=c.symbolName,k=c.shadows,v=c.attrSetters,w=c;if(T(i)&&d(u)&&(a=i,i={},i[a]=u),T(i))a=i,w="strokeWidth"===a||"stroke-width"===a?c.strokeweight:c[a];else for(a in i)if(i.hasOwnProperty(a)&&(b=i[a],j=!1,n=v[a]&&v[a].call(c,b,a),n!==!1&&null!==b)){if(n!==e&&(b=n),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(a))t||(c.symbolAttr(i),t=!0),j=!0;else if("d"===a){b=b||[],c.d=b.join(" "),f=b.length;for(var o=[];f--;)va(b[f])?o[f]=g(10*b[f])-5:"Z"===b[f]?o[f]="x":o[f]=b[f];if(b=o.join(" ")||"x",h.path=b,k)for(f=k.length;f--;)k[f].path=k[f].cutOff?this.cutOffPath(b,k[f].cutOff):b;j=!0}else if("visibility"===a){if(k)for(f=k.length;f--;)k[f].style[a]=b;"DIV"===p&&(b=b===z?"-999em":0,a="top"),m[a]=b,j=!0}else if("zIndex"===a)b&&(m[a]=b),j=!0;else if("width"===a||"height"===a)b=l(0,b),this[a]=b,c.updateClipping?(c[a]=b,c.updateClipping()):m[a]=b,j=!0;else if("x"===a||"y"===a)c[a]=b,m[{x:"left",y:"top"}[a]]=b;else if("class"===a)h.className=b;else if("stroke"===a)b=r.color(b,h,a),a="strokecolor";else if("stroke-width"===a||"strokeWidth"===a)h.stroked=b?!0:!1,a="strokeweight",c[a]=b,va(b)&&(b+=s);else if("dashstyle"===a){var x=h.getElementsByTagName("stroke")[0]||L(r.prepVML(["<stroke/>"]),null,null,h);x[a]=b||"solid",c.dashstyle=b,j=!0}else"fill"===a?"SPAN"===p?m.color=b:(h.filled=b!==N?!0:!1,b=r.color(b,h,a,c),a="fillcolor"):"shape"===p&&"textAngle"===a?(c[a]=b,h.style.left=-g(I(b*Ra)+1)+s,h.style.top=g(D(b*Ra))+s):"translateX"===a||"translateY"===a||"textAngle"===a?(c[a]=b,c.updateTransform(),j=!0):"text"===a&&(this.bBox=null,h.innerHTML=b,j=!0);j||(Ia?h[a]=b:q(h,a,b))}return w},clip:function(b){var c,d,a=this,e=a.element;e.parentNode;return b?(c=b.members,c.push(a),a.destroyClip=function(){sa(c,a)},d=b.getCSS(a)):(a.destroyClip&&a.destroyClip(),d={clip:Ia?"inherit":"rect(auto)"}),a.css(d)},css:ba.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&ra(a)},destroy:function(){var a=this;if(!a._destroyed)return a.destroyClip&&a.destroyClip(),ba.prototype.destroy.apply(a)},empty:function(){for(var a,d=this.element,b=d.childNodes,c=b.length;c--;)a=b[c],a.parentNode.removeChild(a)},on:function(a,b){return this.element["on"+a]=function(){var a=F.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,c){var b;return a=a.split(/[ ,]/),b=a.length,(9===b||11===b)&&(a[b-4]=a[b-2]=n(a[b-2])-10*c),a.join(" ")},shadow:function(a,l,p){var e,c,i,h,j,k,m,g=this,o=[],d=g.element,q=g.renderer,r=d.style,f=d.path;if(f&&"string"!=typeof f.value&&(f="x"),j=f,a){for(k=b(a.width,3),m=(a.opacity||.15)/k,e=1;3>=e;e++)h=2*k+1-2*e,p&&(j=g.cutOffPath(f.value,h+.5)),i=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',j,'" coordsize="10 10" style="',d.style.cssText,'" />'],c=L(q.prepVML(i),null,{left:n(r.left)+b(a.offsetX,1),top:n(r.top)+b(a.offsetY,1)}),p&&(c.cutOff=h+1),i=['<stroke color="',a.color||"black",'" opacity="',m*e,'"/>'],L(q.prepVML(i),null,null,c),l?l.element.appendChild(c):d.parentNode.insertBefore(c,d),o.push(c);g.shadows=o}return g}};oa=v(ba,oa);var ic={Element:oa,isIE8:pa.indexOf("MSIE 8.0")>-1,init:function(d,e,f){var b,c,a=this;a.alignedObjects=[],b=a.createElement(X),c=b.element,c.style.position=_a,d.appendChild(b.element),a.box=c,a.boxWrapper=b,a.setSize(e,f,!1),p.namespaces.scv||(p.namespaces.add("scv","urn:schemas-microsoft-com:vml"),p.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,e,f,h){var d=this.createElement(),b=M(a);return i(d,{members:[],left:b?a.x:a,top:b?a.y:e,width:b?a.width:f,height:b?a.height:h,getCSS:function(h){var a=h.isInverted,b=this,c=b.top,d=b.left,e=d+b.width,f=c+b.height,j={clip:"rect("+g(a?d:c)+"px,"+g(a?f:e)+"px,"+g(a?e:f)+"px,"+g(a?c:d)+"px)"};return!a&&Ia&&"IMG"!==h.element.nodeName&&i(j,{width:e+s,height:f+s}),j},updateClipping:function(){c(d.members,function(a){a.css(d.getCSS(a))})}})},color:function(b,k,q,s){var e,l,j,O=this,y=/^rgba/,h=N;if(b&&b.linearGradient?j="gradient":b&&b.radialGradient&&(j="pattern"),j){var g,n,z,A,B,D,K,M,v,w,o,p,a=b.linearGradient||b.radialGradient,r="",f=b.stops,C=function(){l=['<fill colors="'+Z.seriesPalette.join(",")+'" opacity="',M,'" o:opacity2="',K,'" type="',j,'" ',r,'focus="100%" method="any" />'],L(O.prepVML(l),null,null,k)};if(o=f[0],p=f[f.length-1],o[0]>0&&f.unshift([0,o[1]]),p[0]<1&&f.push([1,p[1]]),c(f,function(a,b){y.test(a[1])?(e=new ga(a[1]),g=e.get("rgb"),n=e.get("a")):(g=a[1],n=1),Z.seriesPalette.push(100*a[0]+"% "+g),b?(M=n,v=g):(K=n,w=g)}),"fill"===q)if("gradient"===j)z=a.x1||a[0]||0,A=a.y1||a[1]||0,B=a.x2||a[2]||0,D=a.y2||a[3]||0,r='angle="'+(90-180*m.atan((D-A)/(B-z))/u)+'"',C();else{var d,E=a.r,F=2*E,H=2*E,I=a.cx,J=a.cy,i=k.radialReference,x=function(){i&&(d=s.getBBox(),I+=(i[0]-d.x)/d.width-.5,J+=(i[1]-d.y)/d.height-.5,F*=i[2]/d.width,H*=i[2]/d.height),r='size="'+F+","+H+'" origin="0.5,0.5" position="'+I+","+J+'" color2="'+w+'" ',C()};s.added?x():G(s,"add",x),h=v}else h=g}else if(y.test(b)&&"IMG"!==k.tagName)e=new ga(b),l=["<",q,' opacity="',e.get("a"),'"/>'],L(this.prepVML(l),null,null,k),h=e.get("rgb");else{var t=k.getElementsByTagName(q);t.length&&(t[0].opacity=1),h=b}return h},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="'+b+'" />'):a.replace('style="','style="'+b)):a=a.replace("<","<scv:"),a},text:Y.prototype.html,path:function(a){var b={coordsize:"10 10"};return ma(a)?b.d=a:M(a)&&i(b,a),this.createElement("shape").attr(b)},circle:function(b,c,a){return this.symbol("circle").attr({x:b-a,y:c-a,width:2*a,height:2*a})},g:function(a){var c,b;return a&&(b={className:Ya+a,"class":Ya+a}),c=this.createElement(X).attr(b)},image:function(b,c,d,e,f){var a=this.createElement("img").attr({src:b});return arguments.length>1&&a.attr({x:c,y:d,width:e,height:f}),a},rect:function(a,c,d,e,g,f){M(a)&&(c=a.y,d=a.width,e=a.height,f=a.strokeWidth,a=a.x);var b=this.symbol("rect");return b.r=g,b.attr(b.crisp(f,a,c,l(d,0),l(e,0)))},invertChild:function(b,c){var a=c.style;x(b,{flip:"x",left:n(a.width)-1,top:n(a.height)-1,rotation:-90})},symbols:{arc:function(c,d,o,p,f){var h,e=f.start,g=f.end,b=f.r||o||p,j=D(e),n=I(e),i=D(g),m=I(g),a=f.innerR,l=.08/b,k=a&&.1/a||0;return g-e===0?["x"]:(l>2*u-g+e?i=-l:k>g-e&&(i=D(e+k)),h=["wa",c-b,d-b,c+b,d+b,c+b*j,d+b*n,c+b*i,d+b*m],f.open&&!a&&h.push("e",w,c,d),h.push("at",c-a,d-a,c+a,d+a,c+a*i,d+a*m,c+a*j,d+a*n,"x","e"),h)},circle:function(a,b,c,d){return["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(b,c,i,j,g){var h,a,e=b+i,f=c+j;return d(g)&&g.r?(a=C(g.r,i,j),h=[w,b+a,c,t,e-a,c,"wa",e-2*a,c,e,c+2*a,e-a,c,e,c+a,t,e,f-a,"wa",e-2*a,f-2*a,e,f,e,f-a,e-a,f,t,b+a,f,"wa",b,f-2*a,b+2*a,f,b+a,f,b,f-a,t,b,c+a,"wa",b,c,b+2*a,c+2*a,b,c+a,b+a,c,"x","e"]):h=Y.prototype.symbols.square.apply(0,arguments),h}}};Ja=function(){this.init.apply(this,arguments)},Ja.prototype=h(Y.prototype,ic),Ma=Ja}var Ka;U&&(Ka=function(){ia="http://www.w3.org/1999/xhtml"},Ka.prototype.symbols={},Ka.prototype=v(Y.prototype,{create:function(a,b,c,d){this.setContainer(b,c,d),this.configure(a)},setContainer:function(a,l,m){var d,f=a.style,b=a.parentNode,k=f.left,i=f.top,j=a.offsetWidth,h=a.offsetHeight,c={visibility:z,position:ja};this.init.apply(this,[a,l,m]),d=L("canvas",{width:j,height:h},{position:_a,left:k,top:i},a),this.canvas=d,this.ttLine=L(X,null,c,b),this.ttDiv=L(X,null,c,b),this.ttTimer=e;var g=L(X,{width:j,height:h},{visibility:z,left:k,top:i},b);this.hiddenSvg=g,g.appendChild(this.box)},configure:function(i){var d=this,f=i.options.tooltipSettings,g=a[i.guid],k=f.borderWidth,b=d.ttDiv,c=f.style,j=d.ttLine,l=parseInt(c.padding,10);c=h(c,{padding:l+s,"background-color":f.backgroundColor,"border-style":"solid","border-width":k+s,"border-drawRadius":f.borderRadius+s}),f.shadow&&(c=h(c,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),x(b,c),x(j,{"border-left":"1px solid darkgray"}),G(i,"tooltipRefresh",function(a){var c,f=g.container,h=f.offsetLeft,i=f.offsetTop;b.innerHTML=a.text,c=g.tooltipSettings.getPosition(b.offsetWidth,b.offsetHeight,{plotX:a.x,plotY:a.y}),x(b,{visibility:A,left:c.x+s,top:c.y+s,"border-color":a.borderColor}),x(j,{visibility:A,left:h+a.x+s,top:i+g.plotTop+s,height:g.plotHeight+s}),d.ttTimer!==e&&clearTimeout(d.ttTimer),d.ttTimer=setTimeout(function(){x(b,{visibility:z}),x(j,{visibility:z})},3e3)})},destroy:function(){var a=this;if(!a._destroyed)return ra(a.canvas),a.ttTimer!==e&&clearTimeout(a.ttTimer),ra(a.ttLine),ra(a.ttDiv),ra(a.hiddenSvg),Y.prototype.destroy.apply(a)},color:function(a,b,c){return a&&a.linearGradient&&(a=a.stops[a.stops.length-1][1]),Y.prototype.color.call(this,a,b,c)},draw:function(){var a=this;F.canvg(a.canvas,a.hiddenSvg.innerHTML)}})),Ma=Ja||Ka||Y,Aa.prototype={_label:function(){var p,m,r,x,h=this,c=h.axis,w=c.options,q=c.chart,n=a[q.guid],v=c.horiz,f=c.categoricalValues,e=h.pos,b=w.axisTickText,k=c.tickPositions,y=f&&v&&f.length&&!b.step&&!b.staggerLinesINTERNAL&&!b.textAngle&&n.plotWidth/k.length||!v&&n.plotWidth/2,z=e===k[0],A=e===k[k.length-1],j=f&&d(f[e])?f[e]:e,t=h.label,u=k.info;f&&!d(f[e])&&j==e&&n.enablePolarLayout||(c.isDatetimeAxis&&u&&(x=w.axisDateFormat[u.higherRanks[e]||u.unitName]),h.isFirst=z,h.isLast=A,p=b.format?T(b.format)?o.format(b.format,{text:j,axis:c,chart:q}):b.format.call(null,j,c,q):Kc.call({axis:c,chart:q,isFirst:z,isLast:A,dateTimeLabelFormat:x,value:c.isLog?$(R(j)):j}),m=y&&{width:l(1,g(y-2*(b.padding||10)))+s},m=i(m,b.style),b&&"x"==c.xOrY&&!c.inverseOrder&&("left"==b.align?b.align="right":"right"==b.align&&(b.align="left")),d(t)?t&&t.attr({text:p}).css(m):(r={align:b.align},va(b.textAngle)&&(r.textAngle=b.textAngle),h.label=d(p)&&b.enabled?n.renderer.text(p,0,0,b.htmlOutput).attr(r).css(m).add(c.labelGroup):null))},_labelSize:function(){var a=this.label,b=this.axis;return a?(this.labelBBox=a.getBBox())[b.horiz?"height":"width"]:0},_labelDim:function(){var d=this.labelBBox,e=this.axis,f=e.options,a=f.axisTickText,b=d.width,c=b*{left:0,center:.5,right:1}[a.align]-a.x;return[-c,b-c]},_overflow:function(r,n){var e=this,g=!0,d=e.axis,f=e.isFirst,o=e.isLast,b=n.x,k=d.inverseOrder,q=d.tickPositions;if(f||o){var l=e._labelDim(),h=l[0],i=l[1],j=a[d.chart.guid].plotLeft,p=j+d.len,c=d.ticks[q[r+(f?1:-1)]],m=c&&c.label.xy&&c.label.xy.x+c._labelDim()[f?0:1];f&&!k||o&&k?j>b+h&&(b=j-h,c&&b+i>m&&(g=!1)):b+i>p&&(b=p-i,c&&m>b+h&&(g=!1)),n.x=b}return g},_position:function(e,f,g,c){var b=this.axis,d=a[b.chart.guid],h=c&&d.oldChartHeight||d.chartHeight;return{x:e?b.translate(f+g,null,null,c)+b.transB:b.left+b.offset+(b.swapLocation?(c&&d.oldChartWidth||d.chartWidth)-b.right-b.left:0),y:e?h-b.bottom+b.offset-(b.swapLocation?b.height:0):h-b.translate(f+g,null,null,c)-b.transB}},_labelPos:function(c,a,g,h,e,b,m,l){var f=this.axis,k=f.transA,i=f.inverseOrder,j=f.staggerLinesINTERNAL;return c=c+e.x-(b&&h?b*k*(i?-1:1):0),a=a+e.y-(b&&!h?b*k*(i?1:-1):0),d(e.y)||(a+=.9*n(g.styles.lineHeight)-g.getBBox().height/2),j&&(a+=m/(l||1)%j*16),{x:c,y:a}},_markPath:function(a,b,c,e,d,f){return f.crispLine([w,a,b,t,a+(d?0:-c),b+(d?c:0)],e)},render:function(v,t){var l,x,r,c=this,f=c.axis,d=f.options,u=a[f.chart.guid].renderer,q=f.horiz,i=c.type,h=c.label,F=c.pos,w=d.axisTickText,n=c.gridLine,A=i?i+"Plot":"plot",m=i?i+"Ticks":"ticks",o=d[A+"StripWidth"],H=d[A+"StripColor"],E=d[A+"StripDashStyle"],g=d[m+"Height"],y=d[m+"Width"]||0,G=d[m+"Color"],D=d[m+"Placement"],C=c.mark,B=w.step,s=!0,z=f.tickmarkOffset,k=c._position(q,F,z,t),p=k.x,j=k.y,I=f.staggerLinesINTERNAL;f.isXAxis&&null!=d.axisTickText.y&&f.inverseOrder&&(d.axisTickText.y=null),o&&(l=f._linePath(F+z,o,t),n===e&&(r={stroke:H,"stroke-width":o},E&&(r.dashstyle=E),i||(r.zIndex=1),c.gridLine=n=o?u.path(l).attr(r).add(f.gridGroup):null),!t&&n&&l&&n[c.isNew?"attr":"animate"]({d:l})),y&&g&&("inside"===D&&(g=-g),f.swapLocation&&(g=-g),"through"===D&&c.axis.isXAxis&&(c.axis.inverseOrder?p+=g:j=j-g+1,g+=g),x=c._markPath(p,j,g,y,q,u),C?C.animate({d:x}):c.mark=u.path(x).attr({stroke:G,"stroke-width":y}).add(f.axisGroup)),!h||isNaN(p)||isNaN(j)||(h.xy=k=c._labelPos(p,j,h,q,w,z,v,B),c.isFirst&&!b(d.firstTickTextVisible,1)||c.isLast&&!b(d.lastTickTextVisible,1)?s=!1:!I&&q&&w.repositionClippedText&&!c._overflow(v,k)&&(s=!1),B&&v%B&&(s=!1),s?(h[c.isNew?"attr":"animate"](k),h.show(),c.isNew=!1):h.hide())},destroy:function(){var a=this;a._destroyed||(wa(a,a.axis),a._destroyed=!0)}},jb.prototype={render:function(){var z,y,t,w,v,u,k,i=this,f=i.axis,q=f.horiz,D=(f.pointRange||0)/2,e=i.options,g=e.label,p=i.label,s=e.drawWidth,n=e.start,o=e.end,m=d(n)&&d(o),B=e.seriesDashStyle,j=i.svgElem,c=[],A=e.drawColor,x=e.zIndex,r=e.events,E=a[f.chart.guid].renderer;if(f.isLog&&(n=la(n),o=la(o)),s)c=f._linePath(n,s),k={stroke:A,"stroke-width":s},B&&(k.dashstyle=B);else{if(!m)return;n=l(n,f.min-D),o=C(o,f.max+D),c=f._bandPath(n,o,e),k={fill:A},e.borderWidth&&(k.stroke=e.borderColor,k["stroke-width"]=e.borderWidth)}if(d(x)&&(k.zIndex=x),j)c?j.animate({d:c},null,j.onGetPath):(j.hide(),j.onGetPath=function(){j.show()});else if(c&&c.length&&(i.svgElem=j=E.path(c).attr(k).add(),r)){z=function(a){j.on(a,function(b){r[a].apply(i,[b])})};for(y in r)r.hasOwnProperty(y)&&z(y)}return g&&d(g.text)&&c&&c.length&&f.width>0&&f.height>0?(g=h({align:q&&m&&"center",x:q?!m&&4:10,verticalAlign:!q&&m&&"middle",y:q?m?16:10:m?6:-4,textAngle:q&&!m&&90},g),p||(i.label=p=E.text(g.text,0,0).attr({align:g.textAlignINTERNAL||g.align,textAngle:g.textAngle,zIndex:x}).css(g.style).add()),t=[c[1],c[4],b(c[6],c[1])],w=[c[2],c[5],b(c[7],c[2])],v=Da(t),u=Da(w),p.align(g,!1,{x:v,y:u,width:ya(t)-v,height:ya(w)-u}),p.show()):p&&p.hide(),i},destroy:function(){if(!this._destroyed){var a=this,b=a.axis;sa(b.plotLinesAndBands,a),wa(a,this.axis),a._destroyed=!0}}},Eb.prototype={destroy:function(){this._destroyed||(wa(this,this.axis),this._destroyed=!0)},_total:function(a){this.total=a,this.cum=a},render:function(d){var b=this,c=b.options.labelFormatFunction.call(b);b.label?b.label.attr({text:c,visibility:z}):b.label=a[b.axis.chart.guid].renderer.text(c,0,0).css(b.options.style).attr({align:b.textAlignINTERNAL,textAngle:b.options.textAngle,visibility:z}).add(d)},_offset:function(q,j){var g,b=this,h=b.axis,m=h.chart,i=a[m.guid],e=i.isInverted,l=b.isNegative,c=h.translate(b.percent?100:b.total,0,0,0,1),o=h.translate(0),f=O(c-o),n=i.axisX[0].translate(b.x)+q,k=i.plotHeight,p={x:e?l?c:c-f:n,y:e?k-n-j:l?k-c-f:k-c,width:e?f:j,height:e?j:f},d=b.label;d&&(d.align(b.alignOptions,null,p),g=d.alignAttr,d.attr({visibility:b.options.hideInvisible===!1||Q(m,g.x,g.y)?S?"inherit":A:z}))}};var ca={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM 'yy",YEAR:"yyyy"},fixedEnd:!1,plotStripColor:"#C0C0C0",axisTickText:eb,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:1e-4,maxPaddingINTERNAL:1e-4,endOffset:.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:.05,startOffset:.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:eb.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};Sa.prototype={init:function(j,g){var f=g.isX,b=this,h=a[j.guid];b.horiz=h.isInverted?!f:f,b.isXAxis=f,b.xOrY=f?"x":"y",b.swapLocation=g.swapLocation,b.side=b.horiz?b.swapLocation?0:2:b.swapLocation?1:3,b.setOptions(g,j);var c=this.options,l=c.axisType,m="datetime"===l;b.staggerLinesINTERNAL=b.horiz&&c.axisTickText.staggerLinesINTERNAL,b.userOptions=g,b.minPixelPadding=0,b.chart=j,b.inverseOrder=c.inverseOrder,b.categoricalValues=c.categoricalValues,b.isLog="logarithmic"===l,b.isLinked=d(c.linkedToINTERNAL),b.isDatetimeAxis=m,b.tickmarkOffset=c.categoricalValues&&"between"===c.tickmarkPlacementlINTERNAL?.5:0,b.ticks={},b.minorTicks={},b.plotLinesAndBands=[],b.alternateBands={},b.len=0,b.zoomMin=b.customZoomMin=c.zoomMin,b.range=c.range,b.offset=c.offset||0,b.stacks={},b.max=null,b.min=null;var i,k=b.options.events;h.axes.push(b),h[f?"axisX":"axisY"].push(b),b.dataSeries=[],h.isInverted&&f&&b.inverseOrder===e&&(b.inverseOrder=!0);for(i in k)k.hasOwnProperty(i)&&G(b,i,k[i]);b.isLog&&(b.val2lin=la,b.lin2val=R)},setOptions:function(a,b){this.options=h(ca.defaults,this.isXAxis?{}:ca.y,[ca.top,ca.right,ca.bottom,ca.left][this.side],h(Z[this.isXAxis?"axisX":"axisY"],a))},translate:function(b,k,n,i,m,l){var d,a=this,f=a.len,e=1,g=0,c=i?a.oldTransA:a.transA,j=i?a.oldMin:a.min,h=a.options.ordinal||a.isLog&&m;return c||(c=a.transA),n&&(e*=-1,g=f),a.inverseOrder&&(e*=-1,g-=e*f),k?(a.inverseOrder&&(b=f-b),d=b/c+j,h&&(d=a.lin2val(d))):(h&&(b=a.val2lin(b)),d=e*(b-j)*c+g+e*a.minPixelPadding+(l?c*a.pointRange/2:0)),d},_linePath:function(r,p,h){var c,d,j,m,f,b=this,e=a[b.chart.guid],k=b.left,l=b.top,i=b.translate(r,null,null,h),o=h&&e.oldChartHeight||e.chartHeight,q=h&&e.oldChartWidth||e.chartWidth,n=b.transB;return c=j=g(i+n),d=m=g(o-i-n),isNaN(i)?f=!0:b.horiz?(d=l,m=o-b.bottom,(k>c||c>k+b.width)&&(f=!0)):(c=k,j=q-b.right,(l>d||d>l+b.height)&&(f=!0)),f?null:e.renderer.crispLine([w,c,d,t,j,m],p||0)},_bandPath:function(c,d){var a=this._linePath(d),b=this._linePath(c);return b&&a?b.push(a[4],a[5],a[1],a[2]):b=null,b},_arrange:function(){var f,a=this,j=a.max-a.min,g=0,b=0,e=0,h=a.linkedParent,i=a.transA;a.isXAxis&&(h?(b=h.minPointOffset,e=h.pointRangePadding):c(a.dataSeries,function(a){var c=a.pointRange,i=a.options.positioningMethod,h=a.closestPointRange;g=l(g,c),b=l(b,i?0:c/2),e=l(e,"on"===i?0:c),!a.noSharedTooltip&&d(h)&&(f=d(f)?C(f,h):h)}),a.minPointOffset=b,a.pointRangePadding=e,a.pointRange=g,a.closestPointRange=f),a.oldTransA=i,a.translationSlope=a.transA=i=a.len/(j+e||1),a.transB=a.horiz?a.left:a.bottom,a.minPixelPadding=i*b},_ticks:function(k){var s,p,i,h,f=this,D=a[f.chart.guid],g=f.options,o=f.isLog,w=f.isDatetimeAxis,r=f.isXAxis,j=f.isLinked,t=f.options.tickPositionerlINTERNAL,u=g.endOffset,q=g.startOffset,n=g.ticksRepeat,x=g.minTickInterval,y=g.tickPixelIntervalINTERNAL,z=f.categoricalValues;if(j){if(f.linkedParent=D[r?"axisX":"axisY"][g.linkedToINTERNAL],i=Xa.call(f.linkedParent),f.min=b(i.min,i.dataMin),f.max=b(i.max,i.dataMax),g.type!==f.linkedParent.options.axisType)return void Qa("Axis and parent axis have different type",1)}else f.min=b(f.userMin,g.min,f.dataMin),f.max=b(f.userMax,g.max,f.dataMax);if(o){if(!k&&C(f.min,b(f.dataMin,f.min))<=0)return void Qa("Negative values not supported for this axis type",1);f.min=$(la(f.min)),f.max=$(la(f.max))}if(f.range&&(f.userMin=f.min=l(f.min,f.max-f.range),f.userMax=f.max,k&&(f.range=null)),Gc.call(f),z||f.usePercentage||j||!d(f.min)||!d(f.max)||(p=f.max-f.min||1,d(g.min)||d(f.userMin)||!q||!(f.dataMin<0)&&f.ignoreMinPadding||(f.min-=p*q),d(g.max)||d(f.userMax)||!u||!(f.dataMax>0)&&f.ignoreMaxPadding||(f.max+=p*u)),f.min===f.max||f.min===e||f.max===e?f.ticksRepeat=1:j&&!n&&y===f.linkedParent.options.tickPixelIntervalINTERNAL?f.ticksRepeat=f.linkedParent.ticksRepeat:f.ticksRepeat=b(n,z?1:(f.max-f.min)*y/(f.len||1)),r&&!k&&c(f.dataSeries,function(a){a.processData(f.min!==f.oldMin||f.max!==f.oldMax)}),f._arrange(k),f._preTicks&&f._preTicks(),!n&&f.ticksRepeat<x&&(f.ticksRepeat=x),w||o||(s=m.pow(10,K(m.log(f.ticksRepeat)/m.LN10)),n||(f.ticksRepeat=fb(f.ticksRepeat,null,s,g))),f.minorTicksRepeat="auto"===g.minorTicksRepeat&&f.ticksRepeat?f.ticksRepeat/5:g.minorTicksRepeat,f.tickPositions=h=g.tickPositions||t&&t.apply(f,[f.min,f.max]),h||(h=w?wc(kc(f.ticksRepeat,g.units),f.min,f.max,g.startOfWeekINTERNAL,f.ordinalPositions,f.closestPointRange,!0):o?Bb.call(f,f.ticksRepeat,f.min,f.max):bb.call(f,f.ticksRepeat,f.min,f.max),f.tickPositions=h),!j){var A=h[0],B=h[h.length-1],v=f.minPointOffset||0;g.tickOnBeginning?f.min=A:f.min-v>A&&h.shift(),g.fixedEnd?f.max=B:f.max+v<B&&h.pop()}},_updateTicks:function(){var b=this,g=b.xOrY,c=b.tickPositions,f=a[b.chart.guid].maxTicks;if(f&&f[g]&&!b.isDatetimeAxis&&!b.categoricalValues&&!b.isLinked&&b.options.matchTicks!==!1){var e,h=b.tickAmount,i=c.length;if(b.tickAmount=e=f[g],e>i){for(;c.length<e;)c.push($(c[c.length-1]+b.ticksRepeat));b.transA*=(i-1)/(e-1),b.max=c[c.length-1]}d(h)&&e!==h&&(b.isDirty=!0)}},_scale:function(){var b,e,g,f,a=this,d=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a._dimensions(),f=a.len!==a.oldAxisLength,c(a.dataSeries,function(a){(a.isDirtyData||a.isDirty||a.axisX.isDirty)&&(g=!0)}),(f||g||a.isLinked||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax)&&(Mc.call(a),a._ticks(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=f||a.min!==a.oldMin||a.max!==a.oldMax)),!a.isXAxis)for(b in d)if(d.hasOwnProperty(b))for(e in d[b])d[b].hasOwnProperty(e)&&(d[b][e].cum=d[b][e].total);Jb.call(a)},_zoom:function(a,b){return Kb.call(this,a,b,!1,e,{trigger:"zoom"}),!0},_dimensions:function(){var c=this,d=a[c.chart.guid],e=c.options,f=e.offsetLeft||0,g=e.offsetRight||0;c.left=b(e.left,d.plotLeft+f),c.top=b(e.top,d.plotTop),c.width=b(e.width,d.plotWidth-f+g),c.height=b(e.height,d.plotHeight),c.bottom=d.chartHeight-c.height-c.top,c.right=d.chartWidth-c.width-c.left,c.len=l(c.horiz?c.width:c.height,0)},_offset:function(){var r,o,x,k,e=this,w=a[e.chart.guid],m=w.renderer,i=e.options,n=e.tickPositions,g=e.ticks,p=e.horiz,h=e.side,u=0,t=0,f=i.title,v=i.axisTickText,j=0,q=w.axisOffset,s=[-1,1,1,-1][h];if(e.hasData=r=e.hasVisibleSeries||d(e.min)&&d(e.max)&&!!n,e.showAxis=o=r||b(i.showEmpty,!0),e.axisGroup||(e.gridGroup=m.g().attr({zIndex:i.gridZIndex||1}).add(),e.axisGroup=m.g().attr({zIndex:i.zIndex||2}).add(),e.labelGroup=m.g().attr({zIndex:v.zIndex||7}).add()),r||e.isLinked)c(n,function(a){g[a]?g[a]._label():g[a]=new Aa(e,a)}),c(n,function(a){(0===h||2===h||{1:"left",3:"right"}[h]===v.align)&&(j=l(g[a]._labelSize(),j))}),e.staggerLinesINTERNAL&&(j+=16*(e.staggerLinesINTERNAL-1));else for(k in g)g.hasOwnProperty(k)&&(g[k].destroy(),delete g[k]);f&&f.text&&(e.axisTitle||(e.axisTitle=m.text(f.text,0,0,f.htmlOutput).attr({zIndex:7,textAngle:f.textAngle||0,align:f.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[f.align]}).css(f.style).add(e.axisGroup),e.axisTitle.isNew=!0),o&&(u=e.axisTitle.getBBox()[p?"height":"width"],t=b(f.margin,p?5:10),x=f.offset),e.axisTitle[o?"show":"hide"]()),e.offset=s*b(i.offset,q[h]),e.axisTitleMargin=b(x,j+t+(2!==h&&j&&s*i.axisTickText[p?"y":"x"])),q[h]=l(q[h],e.axisTitleMargin+u+s*e.offset)},_path:function(i){var b=this,c=a[b.chart.guid],f=b.swapLocation,g=b.offset,d=b.horiz,h=b.left+(f?b.width:0)+g,e=c.chartHeight-b.bottom-(f?b.height:0)+g;return this.lineTop=e,c.renderer.crispLine([w,d?b.left:h,d?e:b.top,t,d?c.chartWidth-b.right:h,d?e:c.chartHeight-b.bottom],i)},_titlePos:function(){var a=this.horiz,f=this.left,g=this.top,d=this.len,b=this.options.title,e=a?f:g,c=this.swapLocation,h=this.offset,k=n(b.style.fontSize||12),i={low:e+(a?0:d),middle:e+d/2,high:e+(a?d:0)}[b.align],j=(a?g+this.height:f)+(a?1:-1)*(c?-1:1)*this.axisTitleMargin+(2===this.side?k:0);return{x:a?i:j+(c?this.width:0)+h+(b.x||0),y:a?j-(c?this.height:0)+h:i+(b.y||0)}},render:function(){var p,s,t,b=this,E=b.chart,n=a[E.guid],y=n.renderer,i=b.options,x=b.isLog,w=b.isLinked,j=b.tickPositions,m=b.axisTitle,q=b.stacks,g=b.ticks,f=b.minorTicks,h=b.alternateBands,D=i.stackTextSettings,v=i.colorStripe,B=b.tickmarkOffset,o=i.drawWidth,F=n.hasRendered,z=F&&d(b.oldMin)&&!isNaN(b.oldMin),G=b.hasData,C=b.showAxis;if((G||w)&&(b.minorTicksRepeat&&!b.categoricalValues&&c(gc.call(b),function(a){f[a]||(f[a]=new Aa(b,a,"minor")),z&&f[a].isNew&&f[a].render(null,!0),f[a].isActive=!0,f[a].render()}),c(j.slice(1).concat([j[0]]),function(a,c){c=c===j.length-1?0:c+1,(!w||a>=b.min&&a<=b.max)&&(g[a]||(g[a]=new Aa(b,a)),z&&g[a].isNew&&g[a].render(c,!0),g[a].isActive=!0,g[a].render(c))}),v&&c(j,function(a,c){c%2===0&&a<b.max&&(h[a]||(h[a]=new jb(b)),s=a+B,t=j[c+1]!==e?j[c+1]+B:b.max,h[a].options={from:x?R(s):s,to:x?R(t):t,color:v},
h[a].render(),h[a].isActive=!0)}),b._addedPlotLB||(c((i.plotLines||[]).concat(i.plotBands||[]),function(a){yc.call(b,a)}),b._addedPlotLB=!0)),c([g,f,h],function(a){var b;for(b in a)a.hasOwnProperty(b)&&(a[b].isActive?a[b].isActive=!1:(a[b].destroy(),delete a[b]))}),o&&(p=b._path(o),b.axisLine?b.axisLine.animate({d:p}):b.axisLine=y.path(p).attr({stroke:i.drawColor,"stroke-width":o,zIndex:7}).add(b.axisGroup),b.axisLine[C?"show":"hide"]()),m&&C&&(m[m.isNew?"attr":"animate"](b._titlePos()),m.isNew=!1),D&&D.enabled){var u,l,r,k=b.stackTotalGroup;k||(b.stackTotalGroup=k=y.g().attr({visibility:A,zIndex:6}).add()),k.translate(n.plotLeft,n.plotTop);for(u in q)if(q.hasOwnProperty(u)){l=q[u];for(r in l)l.hasOwnProperty(r)&&l[r].render(k)}}b.isDirty=!1},_title:function(e,f){var a=this,g=a.chart,c=a.options,d=a.axisTitle;c.title=h(c.title,e),a.axisTitle=d&&d.destroy(),a.isDirty=!0,b(f,!0)&&g.redraw()},redraw:function(){var b=this,d=a[b.chart.guid].tracker;d._reset&&d._reset(!0),b.render(),c(b.plotLinesAndBands,function(a){a.render()}),c(b.dataSeries,function(a){a.isDirty=!0})},_points:function(d,e){var a=this;a.categoricalValues=a.userOptions.categoricalValues=d,c(a.dataSeries,function(a){a.translate(),a.setTooltipPoints(!0)}),a.isDirty=!0,b(e,!0)&&a.chart.redraw()},destroy:function(){if(!this._destroyed){var b,d,e,a=this,f=a.stacks;J(a);for(b in f)f.hasOwnProperty(b)&&(wa(f[b]),f[b]=null);c([a.ticks,a.minorTicks,a.alternateBands,a.plotLinesAndBands],function(a){wa(a)});for(d in a)a.hasOwnProperty(d)&&(e=a[d],(e instanceof ba||oa&&e instanceof oa)&&(a[d]=e.destroy()));a._destroyed=!0}}},Vb.prototype={destroy:function(){this._destroyed||(c(this.axisMarkers,function(a){a&&a.destroy()}),this._destroyed=!0)},move:function(a,b,c,d){this.labelElement.css({top:b,left:a})},hide:function(){var b=this,d=a[b.chart.guid];if(!b.isHidden){var e=d.hoverPoints;b.labelElement.hide(),e&&c(e,function(a){a.setState()}),d.hoverPoints=null,b.isHidden=!0}},getPosition:function(u,s,t){var n,k=this,g=a[s.guid],j=g.plotLeft,d=g.plotTop,q=g.plotWidth,r=g.plotHeight,f=b(this.options.distance,12),o=Pb.call(k,u,t),p=o[0],i=o[1],m=k.labelElement.width(),h=k.labelElement.height(),e=p+j+(g.isInverted?f:-m-f),c=i-h+d+15;return 7>e&&(e=j+l(p,0)+f),e+m>j+q&&(e-=e+m-(j+q),c=i-h+d-f,n=!0),d+5>c&&(c=d+5,n&&i>=c&&c+h>=i&&(c=i+d+f)),c+h>d+r&&(c=l(d,d+r-h-f)),{x:e,y:c}},refresh:function(d,y){var m,t,B,s,q,p,D,u,e=this,l=e.chart,C=e.labelElement,i=e.options,v=function(a,d){var e=this,i=[];a=ea(a);var f,g,b,j="",h=a[0].dataSeries.axisX,k="f";if(h&&"datetime"===h.options.axisType&&va(a[0].pointName)){for(f in r)if(r.hasOwnProperty(f)&&r[f]>=h.closestPointRange){k=h.options.axisDateFormat[f];break}j=o.format("{0:"+k+"}",new Date(a[0].pointName))}else g=a[0].dataSeries.tooltipSettings&&a[0].dataSeries.tooltipSettings.customHeaderText||e.options.customHeaderText,j=T(g)?o.format(g,{point:a[0],chart:d}):g.call(null,a,d);return i+='<div class="shield-tooltip-header">'+j+"</div>",b=a[0].dataSeries.tooltipSettings&&a[0].dataSeries.tooltipSettings.customPointText||e.options.customPointText,"rangebar"===a[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=e.options.customPointText&&(b=e.options.customPointText),c(a,function(a){Ec=a.dataSeries,i+='<div class="shield-tooltip-value">'+(T(b)?o.format(b,{point:a,chart:d}):b.call(null,a,d))+"</div>"}),i},h=a[l.guid],x=h.hoverPoints,f=i.axisMarkers,z=e.chartBound;if(i.format&&(v=T(i.format)?function(a,b){return o.format(i.format,{point:a,chart:b})}:i.format),s=Pb.call(e,d,y),m=s[0],t=s[1],!z||d.dataSeries&&d.dataSeries.noSharedTooltip?D=d.dataSeries.color:(h.hoverPoints=d,x&&c(x,function(a){a.setState()}),c(d,function(a){a.setState(P)})),q=v.call(e,d,l),ma(d)&&(d=d[0]),u=d.dataSeries,B=z||!u.isCartesian||u.tooltipOutsidePlot||Q(l,m,t),q!==!1&&B?(e.isHidden&&C.show(),C.html(q),p=(i.position||e.getPosition).call(e,d,l,y),e.move(g(p.x),g(p.y),m+h.plotLeft,t+h.plotTop),e.isHidden=!1):this.hide(),f&&f.enabled){var j,k,E=/x/i.test(f.mode),F=/y/i.test(f.mode),w={"stroke-width":n(f.width),stroke:f.color,zIndex:n(f.zIndex)};E&&(k=d.dataSeries.axisX,k&&(j=k._linePath(d.x,1),e.axisMarkers[0]?e.axisMarkers[0].attr({d:j,visibility:A}):e.axisMarkers[0]=h.renderer.path(j).attr(w).add())),F&&(k=d.dataSeries.axisY,k&&(j=k._linePath(b(d.stackY,d.y),1),e.axisMarkers[1]?e.axisMarkers[1].attr({d:j,visibility:A}):e.axisMarkers[1]=h.renderer.path(j).attr(w).add()))}}},zb.prototype={_normalize:function(b){var d,f,h,c;return b=b||F.event,b.target||(b.target=b.srcElement),c=b.touches?b.touches.item(0):b,this.chartPosition=d=pc(a[this.chart.guid].container),c.pageX===e?(f=b.x,h=b.y):(f=c.pageX-d.left,h=c.pageY-d.top),i(b,{chartX:g(f),chartY:g(h)})},_coord:function(d){var e={axisX:[],axisY:[]},b=a[this.chart.guid];return c(b.axes,function(a){var c=a.isXAxis,f=b.isInverted?!c:c;e[c?"axisX":"axisY"].push({axis:a,value:a.translate((f?d.chartX-b.plotLeft:a.top+a.len-d.chartY)-a.minPixelPadding,!0)})}),e},_index:function(c){var b=a[this.chart.guid];return b.isInverted?b.plotHeight+b.plotTop-c.chartY:c.chartX-b.plotLeft},_move:function(i){var d,b,g,c,h=this,o=h.chart,e=a[o.guid],f=e.dataSeries,l=e.tooltip,n=e.hoverPoint,m=e.hoverSeries,j=e.chartWidth,k=h._index(i);if(l&&h.options.tooltipSettings.chartBound&&(!m||!m.noSharedTooltip)){for(b=[],g=f.length,c=0;g>c;c++)f[c].visible&&f[c].options.mouseInteractions!==!1&&!f[c].noSharedTooltip&&f[c].tooltipPoints.length&&(d=f[c].tooltipPoints[k],d._dist=O(k-d[f[c].axisX.tooltipPosName||"plotX"]),j=C(j,d._dist),b.push(d));for(g=b.length;g--;)b[g]._dist>j&&b.splice(g,1);b.length&&b[0].plotX!==h.hoverX&&(l.refresh(b,i),h.hoverX=b[0].plotX)}e.cachedHoverSeries&&e.cachedHoverSeries.tracker&&(d=e.cachedHoverSeries.tooltipPoints[k],d&&d!==n&&d._mouseOver(i))},_reset:function(c){var h=this,j=h.chart,d=a[j.guid],i=d.hoverSeries,f=d.hoverPoint,b=d.tooltip,g=b&&b.chartBound?d.hoverPoints:f;c=c&&b&&g,c&&ea(g)[0].plotX===e&&(c=!1),c?b.refresh(g):(f&&f._mouseOut(),i&&i._mouseOut(),b&&(b.hide(),uc.call(b)),h.hoverX=null)},_events:function(){function j(){e&&(x(f,{cursor:"auto"}),b.cancelClick=g,b.mouseIsDown=g=!1),b.container.style.cursor="default",J(p,V?"touchend":"mouseup",j)}var g,k=!0,d=this,e=d.chart,b=a[e.guid],f=b.container;d.hideTooltipOnMouseMove=function(a){d.chartPosition&&b.hoverSeries&&b.hoverSeries.isCartesian&&!Q(e,a.pageX-d.chartPosition.left-b.plotLeft,a.pageY-d.chartPosition.top-b.plotTop)&&d._reset()},d.hideTooltipOnMouseLeave=function(a){d.chartPosition&&!Q(e,a.pageX-d.chartPosition.left-b.plotLeft,a.pageY-d.chartPosition.top-b.plotTop)&&(d._reset(),d.chartPosition=null)},f.onmousedown=function(a){a=d._normalize(a),!V&&a.preventDefault&&a.preventDefault(),b.mouseIsDown=!0,b.cancelClick=!1,b.mouseDownX=d.mouseDownX=a.chartX,d.mouseDownY=a.chartY,b.isZoomed&&(b.container.style.cursor="move"),G(p,V?"touchend":"mouseup",j)};var h=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=d._normalize(a),V||(a.returnValue=!1);var c=a.chartX,f=a.chartY,h=!Q(e,c-b.plotLeft,f-b.plotTop);if(V&&a.type===za&&(q(a.target,"isTracker")?b.runTrackerClick||a.preventDefault():e.events.click||h||a.preventDefault()),h&&(c<b.plotLeft?c=b.plotLeft:c>b.plotLeft+b.plotWidth&&(c=b.plotLeft+b.plotWidth),f<b.plotTop?f=b.plotTop:f>b.plotTop+b.plotHeight&&(f=b.plotTop+b.plotHeight)),b.mouseIsDown&&a.type!==za&&(g=m.sqrt(m.pow(d.mouseDownX-c,2)+m.pow(d.mouseDownY-f,2)),g>10)){Q(e,d.mouseDownX-b.plotLeft,d.mouseDownY-b.plotTop);b.isZoomed&&(e._viewport(d.mouseDownX-c,f-d.mouseDownY),d.mouseDownX=c,d.mouseDownY=f)}return h||d._move(a),k=h,h||!b.hasCartesianSeries}};f.onmousemove=h,G(f,gb,d.hideTooltipOnMouseLeave),G(p,bc,d.hideTooltipOnMouseMove),f.ontouchstart=function(a){(d.zoomX||d.zoomY)&&f.onmousedown(a),h(a)},f.ontouchmove=h,f.ontouchend=function(){g&&d._reset()},f.onclick=function(a){var f,g,c=b.hoverPoint;a=d._normalize(a),a.cancelBubble=!0,b.cancelClick||(c&&(q(a.target,"isTracker")||q(a.target.parentNode,"isTracker"))?(f=c.plotX,g=c.plotY,i(c,{pageX:d.chartPosition.left+b.plotLeft+(b.isInverted?b.plotWidth-g:f),pageY:d.chartPosition.top+b.plotTop+(b.isInverted?b.plotHeight-f:g)}),c.trigger("seriesClick",a)):(i(a,d._coord(a)),Q(e,a.chartX-b.plotLeft,a.chartY-b.plotTop)&&e.trigger(Fa,a)))},G(f,"mousewheel",function(f,h,m,n){f=d._normalize(f),i(f,d._coord(f)),h=h>0?1:-1;var j,a={axisX:[],axisY:[]},k=0;if(c(b.axes,function(c){var i=c.isXAxis;if(b.tracker[i?"zoomX":"zoomY"]){var d,e,o=b.isInverted?!i:i,n=c.dataMax/5;if(h>0){var m=c.translate((o?f.chartX-b.plotLeft:c.top+c.len-f.chartY)-c.minPixelPadding,!0),g=c.max-c.min-n;m-g/2<c.dataMin?(d=c.dataMin,e=c.dataMin+g):m+g/2>c.dataMax?(d=c.dataMax-g,e=c.dataMax):(d=m-g/2,e=m+g/2),d<c.dataMin&&(d=c.dataMin,e=c.dataMin+g)}else d=l(c.dataMin,c.min-n/2),e=C(c.dataMax,c.max+n/2),d<=c.dataMin&&e>=c.dataMax&&k++;if(d>e)return void a[i?"axisX":"axisY"].push({axis:c,min:d,max:e});isNaN(d)||isNaN(e)||(a[i?"axisX":"axisY"].push({axis:c,min:C(d,e),max:l(d,e)}),j=!0)}}),j){var g={axisX:[],axisY:[]};return g.axisX=a.axisX,g.axisY=a.axisY,a.axisX[0].min>=a.axisX[0].max&&(g.axisX=[],a.axisX[0].min=C(a.axisX[0].min,a.axisX[0].max),a.axisX[0].max=l(a.axisX[0].min,a.axisX[0].max)),a.axisY[0].min>=a.axisY[0].max&&(g.axisY=[],a.axisY[0].min=C(a.axisY[0].min,a.axisY[0].max),a.axisY[0].max=l(a.axisY[0].min,a.axisY[0].max)),_(e,"zoom",a,function(a){e._zoom(g)}),k==b.axes.length?b.isZoomed=!1:b.isZoomed=!0,f.stopPropagation(),f.returnValue=!1,!1}})},destroy:function(){if(!this._destroyed){var c=this,e=c.chart,d=a[e.guid],b=d.container;d.trackerGroup&&(d.trackerGroup=d.trackerGroup.destroy()),J(b,gb,c.hideTooltipOnMouseLeave),J(p,bc,c.hideTooltipOnMouseMove),b.onclick=b.onmousedown=b.onmousemove=b.ontouchstart=b.ontouchend=b.ontouchmove=null,c._destroyed=!0}},init:function(c,d){var b=a[c.guid];b.trackerGroup||(b.trackerGroup=b.renderer.g().attr({zIndex:9}).add()),d.enabled&&(b.tooltip=new Vb(c,d)),this._events()}},Ab.prototype={init:function(f){var a=this,c=a.options=f.options.chartLegend;if(c.enabled){var d=c.legendItemSettings.elementStyle,e=b(c.padding,8),g=c.legendItemSettings.topSpacing||0;a.baseline=n(d.fontSize)+3+g,a.elementStyle=d,a.disabledStyle=h(d,c.legendItemSettings.disabledStyle),a.topSpacing=g,a.padding=e,a.initialItemX=e,a.initialItemY=e-5,a.maxelementWidth=0,a.chart=f,a.itemHeight=0,a.lastLineHeight=0,a.render()}},destroy:function(){if(!this._destroyed){var a=this,b=a.group,c=a.box;c&&(a.box=c.destroy()),b&&(a.group=b.destroy()),a._destroyed=!0}},render:function(){var d,m,h,e,b=this,q=b.chart,l=a[q.guid],j=l.renderer,k=b.group,g=b.box,f=b.options,o=b.padding,n=f.borderWidth,p=f.backgroundColor;b.itemX=b.initialItemX,b.itemY=b.initialItemY,b.offsetWidth=0,b.lastItemY=0,k||(b.group=k=j.g().attr({zIndex:7}).add(),b.contentGroup=j.g().attr({zIndex:1}).add(k),b.scrollGroup=j.g().add(b.contentGroup),b.clipRect=j.clipRect(0,0,9999,l.chartHeight),b.contentGroup.clip(b.clipRect)),d=[],c(l.dataSeries,function(a){var b=a.options;b.addToLegend&&(d=d.concat(a.legendItems||(b.legendType===ib?a.data:a)))}),cc(d,function(a,b){return(a.options&&a.options.orderIndex||0)-(b.options&&b.options.orderIndex||0)}),f.inverseOrder&&d.reverse(),b.allItems=d,b.display=m=!!d.length,c(d,function(a){mc.call(b,a)}),h=f.width||b.offsetWidth,e=b.lastItemY+b.lastLineHeight,e=fc.call(b,e),(n||p)&&(h+=o,e+=o,g?h>0&&e>0&&(g[g.isNew?"attr":"animate"](g.crisp(null,null,null,h,e)),g.isNew=!1):(b.box=g=j.rect(0,0,h,e,f.borderRadius,n||0).attr({stroke:f.borderColor,"stroke-width":n||0,fill:p||N}).add(k).shadow(f.shadow),g.isNew=!0),g[m?"show":"hide"]()),b.legendWidth=h,b.legendHeight=e,c(d,function(a){oc.call(b,a)}),m&&k.align(i({width:h,height:e},f),!0,l.spacingBox)}};var na=Rb.extend({init:function(k,h){var d=this,i=d.guid=o.guid(),c=a[i]={},j=h.dataSeries;h.dataSeries=null,Rb.fn.init.apply(d,arguments),d.options.dataSeries=d.initialOptions.dataSeries=j,c.cachedHoverSeries=null;var e=d.options,f=e.margin,g=ma(f)?f:[f,f,f,f];c.optionsMarginTop=b(e.chartMarginTop,g[0]),c.optionsMarginRight=b(e.chartMarginRight,g[1]),c.optionsMarginBottom=b(e.chartMarginBottom,g[2]),c.optionsMarginLeft=b(e.chartMarginLeft,g[3]),c.isResizing=0,c.axes=[],c.dataSeries=[],c.hasCartesianSeries=!1,c.axisX=[],c.axisY=[],c.applyAnimation=U?!1:b(e.applyAnimation,!0),c.pointCount=0,c.counters=new dc,B._initRender.call(d)},_series:function(b){var c=this,e=c.options,a=b.seriesType||e.seriesType;if(!k[a])return void Qa(o.format("Invalid series type '{0}'",a),1);var d=new k[a];return d.init(c,b),d},redraw:function(q){var h,e,d=this,b=a[d.guid],l=b.axes,f=b.dataSeries,i=b.tracker,n=b.chartLegend,k=b.isDirtyLegend,j=b.isDirtyBox,m=f.length,g=m,o=b.renderer,p=o.isHidden(),r=[];for(Ea(q,d),p&&B._shiftRendering.call(d);g--;)if(e=f[g],e.isDirty&&e.options.stackMode){h=!0;break}if(h)for(g=m;g--;)e=f[g],e.options.stackMode&&(e.isDirty=!0);c(f,function(a){a.isDirty&&a.options.legendType===ib&&(k=!0)}),k&&n.options.enabled&&(n.render(),b.isDirtyLegend=!1),b.hasCartesianSeries&&(b.isResizing||(b.maxTicks=null,c(l,function(a){a._scale()})),B._updateTicks.call(d),d._spacing(),c(l,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1),(a.isDirty||j||h)&&(a.redraw(),j=!0)})),j&&B._renderBox.call(d),c(f,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.axisX)&&a.redraw()}),i&&i._reset&&i._reset(!0),o.draw(),p&&B._shiftRendering.call(d,!0),c(r,function(a){a.call()})},_axes:function(){var d,g,e=this,f=this.options,a=f.axisX||{},b=f.axisY||{};a=ea(a),c(a,function(a,b){a.index=b,a.isX=!0}),b=ea(b),c(b,function(a,b){a.index=b}),d=a.concat(b),c(d,function(a){g=new Sa(e,a)}),B._updateTicks.call(e)},_zoom:function(d){var f,e=this,g=a[e.guid];d&&!d.resetSelection&&(c(d.axisX.concat(d.axisY),function(a){var b=a.axis;g.tracker[b.isXAxis?"zoomX":"zoomY"]&&(f=b._zoom(a.min,a.max))}),f&&e.redraw(b(e.options.applyAnimation,g.pointCount<100)))},_viewport:function(f,g){var b=this,d=a[b.guid],e=!1;c(d.axes,function(a){var c=a.isXAxis,j=d.isInverted?!c:c,b=Hc.call(a,j?f:g,!0);if(0!==b){var h=a.min+b,i=a.max+b;h>a.dataMin&&i<a.dataMax&&(Kb.call(a,h,i,!1),e=!0)}}),e&&b.redraw(!1)},_size:function(){var c=this,b=a[c.guid],d=c.options,e=b.renderToClone||c.element;b.containerWidth=e.width(),b.containerHeight=e.height(),b.chartWidth=d.width||b.containerWidth||600,b.chartHeight=d.height||(b.containerHeight>19?b.containerHeight:400)},_wrapper:function(){var g,d,e,b=this,c=a[b.guid],h=b.options,j=b.element,k=o.strid();j.empty(),j.width()||B._shiftRendering.call(b),b._size(),d=c.chartWidth,e=c.chartHeight,c.container=g=f("<div />").attr("id",k).addClass(Ya+"container"+(h.className?" "+h.className:"")).css(i({position:_a,overflow:z,width:d+s,height:e+s,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},h.style)).appendTo(c.renderToClone||j)[0],c.renderer=h.forExport?new Y(g,d,e,!0):new Ma(g,d,e),U&&c.renderer.create(b,g,d,e)},_spacing:function(){var g,m,h=this,e=a[h.guid],j=h.options,q=j.chartAreaPaddingTop,A=j.chartAreaPaddingRight,z=j.chartAreaPaddingBottom,y=j.chartAreaPaddingLeft,i=e.chartLegend,p=e.optionsMarginTop,x=e.optionsMarginLeft,r=e.optionsMarginRight,s=e.optionsMarginBottom,n=e.chartTitleOptions,o=e.chartSubtitleOptions,f=h.options.chartLegend,k=b(f.chartDistance,10),v=f.x,u=f.y,t=f.align,w=f.verticalAlign;B._marginValues.call(h),g=e.axisOffset,!e.title&&!e.subtitle||d(e.optionsMarginTop)||(m=l(e.title&&!n.ignoreChartLayout&&!n.verticalAlign&&n.y||0,e.subtitle&&!o.ignoreChartLayout&&!o.verticalAlign&&o.y||0),m&&(e.plotTop=l(e.plotTop,m+15+q))),i.display&&!f.ignoreChartLayout&&("right"===t?d(r)||(e.chartMarginRight=l(e.chartMarginRight,i.legendWidth-v+k+A)):"left"===t?d(x)||(e.plotLeft=l(e.plotLeft,i.legendWidth+v+k+y)):"top"===w?d(p)||(e.plotTop=l(e.plotTop,i.legendHeight+u+k+q)):"bottom"===w&&(d(s)||(e.chartMarginBottom=l(e.chartMarginBottom,i.legendHeight-u+k+z)))),e.extraBottomMargin&&(e.chartMarginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&c(e.axes,function(a){a._offset()}),d(x)||(e.plotLeft+=g[3]),d(p)||(e.plotTop+=g[0]),d(s)||(e.chartMarginBottom+=g[2]),d(r)||(e.chartMarginRight+=g[1]),B._saveSize.call(h)},_layout:function(){var b,e,d,f=this,h=a[f.guid],i=f.options,g=f.options.dataSeries;c(["isInverted","angular","enablePolarLayout"],function(a){for(b=k[i.seriesType],d=h[a]||i[a]||b&&b.prototype[a],e=g&&g.length;!d&&e--;)b=k[g[e].seriesType],b&&b.prototype[a]&&(d=!0);h[a]=d})},_render:function(){var p,d,g=this,b=a[g.guid],k=b.axes,e=b.renderer,v=g.options,m=v.axisTickText;if(d={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0},B.setTitle.call(g),b.chartLegend=new Ab(g),c(k,function(a){a._scale()}),g._spacing(),c(k,function(a){return a.radial?(g._spacing(),!1):void 0}),b.maxTicks=null,c(k,function(a){a._ticks(!0),Jb.call(a)}),d.style={cursor:xb,color:"#999999",fontSize:"16px"},B._updateTicks.call(g),g._spacing(),B._renderBox.call(g),b.hasCartesianSeries&&c(k,function(a){a.render()}),d.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",b.seriesGroup||(b.seriesGroup=e.g().attr({zIndex:3}).add()),c(b.dataSeries,function(a){a.translate(),a.setTooltipPoints(),a.render()}),m&&m.items&&c(m.items,function(c){var a=i(m.style,c.style),d=n(a.left)+b.plotLeft,f=n(a.top)+b.plotTop+12;delete a.left,delete a.top,e.text(c.html,d,f).attr({zIndex:2}).css(a).add()}),d&&!b.dsisf){var j,h,s,q=function(a){return f("<div/>").html(a).text()},u=o.guid();if(S){var l=e.createElement("filter").attr({id:u,height:"120%"}),t=(e.createElement("feGaussianBlur").attr({"in":"SourceAlpha",stdDeviation:3}).add(l),e.createElement("feComponentTransfer"));e.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(t),t.add(l);var r=e.createElement("feMerge");e.createElement("feMergeNode").add(r),e.createElement("feMergeNode").attr({"in":"SourceGraphic"}).add(r),r.add(l),l.add(e.defs)}for(p=q(d.dest),!d.isr&&b.chartWidth<=400&&(d.text=q("&#68;&#101;&#109;&#111;")),d.text=q(d.text),j=[{align:"left",verticalAlign:"top",x:b.plotLeft+5,y:b.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(b.chartWidth-(b.plotLeft+b.plotWidth)+5),y:b.plotTop+20},{align:"left",verticalAlign:"top",x:b.plotLeft+5,y:b.plotTop+b.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(b.chartWidth-(b.plotLeft+b.plotWidth)+5)+(d.isr?5:0),y:b.plotTop+b.plotHeight-5}],s=function(){p&&(location.href=p)},h=0;h<j.length;h++)d.isr&&3!=h||(d.isr&&b.chartWidth<=400&&(d.style.fontSize="13px"),e.text(d.text,0,0).on(Fa,s).attr({align:j[h].align,zIndex:8,filter:void 0}).css(d.style).add().align(j[h]));b.dsisf=!0}b.hasRendered=!0},destroy:function(){var b,g,e,f=this,c=a[f.guid],h=c.axes,i=c.dataSeries,d=c.container,j=d&&d.parentNode;for(_(f,"destroy"),J(f),b=h.length;b--;)h[b]=h[b].destroy();for(b=i.length;b--;)i[b]=i[b].destroy();for(g in c)c.hasOwnProperty(g)&&(e=c[g],e&&typeof e.destroy===Pa&&e.destroy());d&&(d.innerHTML="",J(d),j&&ra(d));for(b in c)c.hasOwnProperty(b)&&delete c[b];delete a[f.guid]}}),B={_updateTicks:function(){var b=this,d=a[b.guid];b.options.matchTicks!==!1&&c(d.axes,function(a){a._updateTicks()}),d.maxTicks=null},_shiftRendering:function(e){var d=this,b=a[d.guid],f=d.element,c=b.renderToClone;b.container;e?c&&(c.remove(),delete b.renderToClone):c=b.renderToClone=f.clone().css({position:ja,top:"-9999px",display:"block"}).appendTo(p.body)},_renderBox:function(){var d,g,u=this,b=a[u.guid],c=u.options,f=b.renderer,p=b.chartWidth,s=b.chartHeight,m=b.chartBackground,r=b.plotBackground,n=b.plotBorder,t=b.plotBGImage,e=c.borderWidth||0,v=c.backgroundColor,y=c.chartAreaBackgroundColor,q=c.chartAreaBackgroundImage,o=c.chartAreaBorderWidth||0,h=b.plotLeft,i=b.plotTop,j=b.plotWidth,k=b.plotHeight,w=b.chartAreaBox,x=b.clipRect,l=b.clipBox;d=e+(c.shadow?8:0),(e||v)&&(m?m.animate(m.crisp(null,null,null,p-d,s-d)):(g={fill:v||N},e&&(g.stroke=c.borderColor,g["stroke-width"]=e),b.chartBackground=f.rect(d/2,d/2,p-d,s-d,c.borderRadius,e).attr(g).add().shadow(c.shadow))),y&&(r?r.animate(w):b.plotBackground=f.rect(h,i,j,k,0).attr({fill:y}).add().shadow(c.chartAreaShadow)),q&&(t?t.animate(w):b.plotBGImage=f.image(q,h,i,j,k).add()),x?x.animate({width:l.width,height:l.height}):b.clipRect=f.clipRect(l),o&&(n?n.animate(n.crisp(null,h,i,j,k)):b.plotBorder=f.rect(h,i,j,k,0,o).attr({stroke:c.chartAreaBorderColor,"stroke-width":o,zIndex:1}).add()),b.isDirtyBox=!1},_initRender:function(){var g,b=this,d=a[b.guid],e=b.options,h=d.callback,f=b.element,i="onreadystatechange",j="complete";return(!S&&F==F.top&&p.readyState!==j||U&&!F.canvg)&&!U?void p.attachEvent(i,b._onDocReady=function(){p.readyState===j&&(p.detachEvent(i,b._onDocReady),B._initRender.call(b),b._onDocReady=null)}):(b._wrapper(),f.addClass("shield-chart"),_(b,"init"),B._marginValues.call(b),B._saveSize.call(b),b._layout(),b._axes(),c(e.dataSeries||[],function(a){b._series(a)}),d.tracker=new zb(b,e),b._render(),d.renderer.draw(),h&&h.apply(b,[b]),c(Zb,function(a){a.apply(b,[b])}),B._shiftRendering.call(b,!0),e.enableAutoFit!==!1&&(b._eafFunc=function(h){var a=e.width||f.width(),c=e.height||f.height(),i=h?h.target:F;a&&c&&(i===F||i===p)&&((a!==d.containerWidth||c!==d.containerHeight)&&(clearTimeout(g),d.reflowTimeout=g=setTimeout(function(){d.container&&B._resize.call(b,a,c,!1)},100)),d.containerWidth=a,d.containerHeight=c)},G(F,da,b._eafFunc),G(b,"destroy",function(){J(F,da,b._eafFunc),b._eafFunc=null})),void b.trigger("load"))},_selected:function(){var b=[];return c(a[this.guid].dataSeries,function(a){b=b.concat(qc(a.points,function(a){return a.selected}))}),b},_marginValues:function(){var e=this,c=a[e.guid],d=e.options,f=d.chartAreaPaddingTop,g=d.chartAreaPaddingRight,h=d.chartAreaPaddingBottom,i=d.chartAreaPaddingLeft;c.plotTop=b(c.optionsMarginTop,f),c.chartMarginRight=b(c.optionsMarginRight,g),c.chartMarginBottom=b(c.optionsMarginBottom,h),c.plotLeft=b(c.optionsMarginLeft,i),c.axisOffset=[0,0,0,0]},_resize:function(m,l,j){var f,h,i,k,e=this,b=a[e.guid],n=b.title,o=b.subtitle;b.isResizing+=1,k=function(){e&&_(e,"endResize",null,function(){b.isResizing-=1})},Ea(j,e),b.oldChartHeight=b.chartHeight,b.oldChartWidth=b.chartWidth,d(m)&&(b.chartWidth=f=g(m)),d(l)&&(b.chartHeight=h=g(l)),x(b.container,{width:f+s,height:h+s}),b.renderer.setSize(f,h,j),b.plotWidth=f-b.plotLeft-b.chartMarginRight,b.plotHeight=h-b.plotTop-b.chartMarginBottom,b.maxTicks=null,c(b.axes,function(a){a.isDirty=!0,a._scale()}),c(b.dataSeries,function(a){a.isDirty=!0}),b.isDirtyLegend=!0,b.isDirtyBox=!0,e._spacing(),i=b.spacingBox,n&&n.align(null,null,i),o&&o.align(null,null,i),e.redraw(j),b.oldChartHeight=null,_(e,da),Ha===!1?k():setTimeout(k,Ha&&Ha.duration||500)},_saveSize:function(){var i,j,f,h,d,k=this,b=a[k.guid],p=b.isInverted,l=b.chartWidth,m=b.chartHeight,e=k.options,o=e.chartAreaPaddingTop,q=e.chartAreaPaddingRight,r=e.chartAreaPaddingBottom,n=e.chartAreaPaddingLeft;b.plotLeft=i=g(b.plotLeft),b.plotTop=j=g(b.plotTop),b.plotWidth=f=g(l-i-b.chartMarginRight),b.plotHeight=h=g(m-j-b.chartMarginBottom),b.plotSizeX=p?h:f,b.plotSizeY=p?f:h,b.chartAreaBorderWidth=d=e.chartAreaBorderWidth||0,b.spacingBox={x:n,y:o,width:l-n-q,height:m-o-r},b.chartAreaBox={x:i,y:j,width:f,height:h},b.clipBox={x:d/2,y:d/2,width:b.plotSizeX-d,height:b.plotSizeY-d},c(b.axes,function(a){a._dimensions(),a._arrange()})},setTitle:function(d,e){var f,g,i=this,b=a[i.guid],j=i.options;b.chartTitleOptions=f=h(j.primaryHeader,d),b.chartSubtitleOptions=g=h(j.secondaryHeader,e),c([["title",d,f],["subtitle",e,g]],function(d){var e=d[0],c=b[e],f=d[1],a=d[2];c&&f&&(b[e]=c=c.destroy()),a&&a.text&&!c&&(b[e]=b.renderer.text(a.text,0,0,a.htmlOutput).attr({align:a.align,zIndex:a.zIndex||4}).css(a.style).add().align(a,!1,b.spacingBox))})}},Zb=[];na.defaults=Z,na.themes={"default":{}},o.ui.plugin("Chart",na),function(){function b(a){return{id:a.id,name:a.pointName,x:a.x,y:a.y}}function d(c){return{seriesType:c.seriesType,collectionAlias:c.collectionAlias,color:c.color,axisX:c.axisX?a(c.axisX):null,axisY:c.axisY?a(c.axisY):null,id:c.options.id,points:qa(c.points,function(a){return b(a)})}}function a(a){return{type:a.xOrY,values:a.categoricalValues,min:a.min,max:a.max}}function c(i){if(M(i)||ma(i)){var h=M(i)?{}:[];for(var g in i)if(Object.prototype.hasOwnProperty.call(i,g)){var e=i[g];e&&e instanceof ta?h[g]=b(e):e&&(e instanceof y||"dataSeries"===g)?h[g]=d(e):e&&e instanceof Sa?h[g]=a(e):e&&o.is.event(e)?h[g]=f.Event(e):e&&(e instanceof f.Event||"domEvent"===g)?h[g]=e:"target"==g||"srcElement"==g?h[g]=e:h[g]=c(e)}return h}return i}var e=na.prototype.trigger;na.prototype.trigger=function(g,a,b){var d=this,h=c(a),f=e.call(d,g,h);return typeof b!==Pa||f.isDefaultPrevented()||b.call(d,a),f}}();var ta=function(){};ta.prototype={init:function(c,h,i){var d,b=this,e=c.chart,f=a[e.guid],g=f.counters;return b.dataSeries=c,b.setOptions(h,i),b.pointAttr={},c.options.separateColors&&(d=e.options.seriesPalette,b.color=b.color||d[g.color++],g.wrapColor(d.length)),f.pointCount++,b},setOptions:function(a,d){var b=this,c=b.dataSeries,f=typeof a;b.config=a,"number"===f||null===a?b.y=a:"number"==typeof a[0]?(b.x=a[0],b.y=a[1]):"object"===f&&"number"!=typeof a.length?(i(b,a),b.options=a,a.dataPointText&&(c._hasPointLabels=!0),a.pointMark&&(c._hasPointMarkers=!0)):"string"==typeof a[0]&&(b.collectionAlias=a[0],b.y=a[1]),b.x===e&&(b.x=d===e?c.autoIncrement():d)},destroy:function(){if(!this._destroyed){var d,b=this,f=b.dataSeries,c=a[f.chart.guid],e=c.hoverPoints;c.pointCount--,e&&(b.setState(),sa(e,b),e.length||(c.hoverPoints=null)),b===c.hoverPoint&&b._mouseOut(),(b.graphic||b.dataLabel)&&(J(b),ac.call(b)),b.legendItem&&Yb.call(c.chartLegend,b);for(d in b)b.hasOwnProperty(d)&&(b[d]=null);b._destroyed=!0}},_selected:function(d,e){var a=this,f=a.dataSeries,g=f.chart;d=b(d,!a.selected),a.trigger(d?"pointSelect":"pointDeselect",{accumulate:e},function(){a._destroyed||(a.selected=d,a.setState(d?aa:E),e||c(B._selected.call(g),function(b){b.selected&&b!==a&&(b.selected=!1,b.setState(E),b.trigger("pointDeselect"))}))})},_mouseOver:function(f){var b=this,g=b.dataSeries,c=a[g.chart.guid],d=c.tooltip,e=c.hoverPoint;e&&e!==b&&e._mouseOut(f),b.trigger("seriesMouseOver",f),!d||d.chartBound&&!g.noSharedTooltip||d.refresh(b),b.setState(P),c.hoverPoint=b},_mouseOut:function(d){var b=a[this.dataSeries.chart.guid],c=b.hoverPoints;c&&-1!==xc(this,c)||(this.trigger("seriesMouseOut",d),this.setState(),b.hoverPoint=null)},trigger:function(d,a,e){var b=this,c=b.dataSeries,f=c.options;"seriesClick"===d&&f.enablePointSelection&&(e=function(c){b._selected(null,a.ctrlKey||a.metaKey||a.shiftKey)}),_(b,d,{domEvent:a,dataSeries:c},function(){c.chart.trigger(d,{domEvent:a,point:b,dataSeries:c},e)})},setState:function(b){var c,d=this,l=d.plotX,k=d.plotY,e=d.dataSeries,n=e.options.activeSettings,g=j[e.seriesType].pointMark&&e.options.pointMark,p=g&&!g.enabled,f=g&&g.activeSettings[b],q=f&&f.enabled===!1,i=e.stateMarkerGraphic,o=e.chart,r=a[o.guid],m=d.pointAttr;b=b||E,b===d.state||d.selected&&b!==aa||n[b]&&n[b].enabled===!1||b&&(q||p&&!f.enabled)||(d.graphic?(c=g&&d.graphic.symbolName&&m[b].r,d.graphic.attr(h(m[b],c?{x:l-c,y:k-c,width:2*c,height:2*c}:{}))):(b&&f&&(c=f.drawRadius,i?i.attr({x:l-c,y:k-c}):e.stateMarkerGraphic=i=r.renderer.symbol(e.symbol,l-c,k-c,2*c,2*c).attr(m[b]).add(e.markerGroup)),i&&i[b&&Q(o,l,k)?"show":"hide"]()),d.state=b)}};var y=function(){};y.prototype={isCartesian:!0,seriesType:"line",pointClass:ta,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(h,b){var g,e,d=this,f=a[h.guid];d.chart=h,d.options=b=d.setOptions(b),d.bindAxes(),i(d,{collectionAlias:b.collectionAlias,state:E,pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),U&&(b.applyAnimation=!1),e=b.events;for(g in e)e.hasOwnProperty(g)&&G(d,g,e[g]);(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.enablePointSelection)&&(f.runTrackerClick=!0),d.getColor(),d.getSymbol(),d.setItemSource(b.data,!1),d.isCartesian&&(f.hasCartesianSeries=!0),f.dataSeries.push(d),cc(f.dataSeries,function(a,b){return(a.options.index||0)-(b.options.index||0)}),c(f.dataSeries,function(a,b){a.index=b,a.collectionAlias=a.collectionAlias||"Series "+(b+1)})},bindAxes:function(){var d,b=this,f=b.options,g=a[b.chart.guid];b.isCartesian&&c(["axisX","axisY"],function(a){c(g[a],function(c){d=c.options,(f[a]===d.index||f[a]===e&&0===d.index)&&(c.dataSeries.push(b),b[a]=c,c.isDirty=!0)})})},autoIncrement:function(){var a=this,d=a.options,c=a.xIncrement;return c=b(c,d.dataStart,0),a.dataStep=b(a.dataStep,d.dataStep,1),a.xIncrement=c+a.dataStep,c},getSegments:function(){var a,e=this,f=-1,c=[],b=e.points,d=b.length,g=e.options.drawNullValues;if(d)if(/bar/.test(e.seriesType)&&g)for(a=0;d>a;a++)c.push(b[a]);else if(g){for(a=d;a--;)null===b[a].y&&b.splice(a,1);b.length&&(c=[b])}else for(a=0;d>a;a++)null===b[a].y?(a>f+1&&c.push(b.slice(f+1,a)),f=a):a===d-1&&c.push(b.slice(f+1,a+1));e.segments=c},setOptions:function(b){var a,c=this.chart,d=c.options,e=d.seriesSettings,f=e[this.seriesType],g=b.data;return b.data=null,a=h(f,e.dataSeries,b),a.data=b.data=g,this.tooltipSettings=h(d.tooltipSettings,a.tooltipSettings,c.initialOptions.tooltipSettings),null===f.pointMark&&delete a.pointMark,a},getColor:function(){var b=this,c=b.options,d=b.chart.options.seriesPalette,e=a[b.chart.guid].counters;b.color=c.color||!c.separateColors&&d[e.color++]||"gray",e.wrapColor(d.length)},getSymbol:function(){var b=this,c=b.options.pointMark,d=b.chart,e=d.options.symbols,f=a[d.guid].counters;b.symbol=c.symbol||e[f.symbol++],/^url/.test(b.symbol)&&(c.drawRadius=0),f.wrapSymbol(e.length)},drawLegendSymbol:function(k,f){var o=this.options,i=(o.pointMark,k.options),g=i.legendItemSettings,h=i.checkMarkSettings,e=h.coordinates,c=5,l=i.symbolWidthINTERNAL,m=a[this.chart.guid].renderer,j=f.legendGroup,n=k.baseline;f.legendSymbol=m.symbol("square",l/2-c,n-4-c,2*c,2*c).add(j),h&&h.enabled&&(f.checkMark=m.symbol(h.shape,l/2-c+b(e.x,0),n-4-c+b(e.y,0),d(e.width)?e.width:2*c,d(e.height)?e.height:2*c).add(j).attr({"stroke-width":h.width})),g&&g.elementStyle&&g.elementStyle.cursor&&(f.legendSymbol.css({cursor:g.elementStyle.cursor}),f.checkMark&&f.checkMark.css({cursor:g.elementStyle.cursor}))},addPointINTERNAL:function(o,i,g,p){var c,a=this,e=a.data,d=a.graph,h=a.area,j=a.chart,k=a.xData,l=a.yData,m=d&&d.shift||0,n=a.options.data,f=a.pointClass.prototype;Ea(p,j),d&&g&&(d.shift=m+1),h&&(g&&(h.shift=m+1),h.isArea=!0),i=b(i,!0),c={dataSeries:a},f.setOptions.apply(c,[o]),k.push(c.x),l.push(f.toArray?f.toArray.call(c):c.y),n.push(o),g&&(e[0]&&e[0].remove?jc.call(e[0],!1):(e.shift(),k.shift(),l.shift(),n.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,i&&j.redraw()},setItemSource:function(g,v){var c,e=this,j=e.points,n=e.options,r=e.initialColor,q=e.chart,u=a[q.guid],m=null,l=e.axisX,o=e.pointClass.prototype;e.xIncrement=null,e.pointRange=l&&l.categoricalValues?1:n.pointRange,d(r)&&(u.counters.color=r);var f,k=[],i=[],h=g?g.length:[],w=1e4,s=e.pointArrayMap,t=s&&s.length;if(h>w){for(c=0;null===m&&h>c;)m=g[c],c++;if(va(m)){var p=b(n.dataStart,0),x=b(n.dataStep,1);for(c=0;h>c;c++)k[c]=p,i[c]=g[c],p+=x;e.xIncrement=p}else if(ma(m))if(t)for(c=0;h>c;c++)f=g[c],k[c]=f[0],i[c]=_b.call(f,1,t+1);else for(c=0;h>c;c++)f=g[c],k[c]=f[0],i[c]=f[1]}else for(c=0;h>c;c++)f={dataSeries:e},o.setOptions.apply(f,[g[c]]),k[c]=f.x,i[c]=o.toArray?o.toArray.call(f):f.y;if(T(i[0]))return void Qa("Data cannot be a string",1);for(e.data=[],e.options.data=g,e.xData=k,e.yData=i,c=j&&j.length||0;c--;)j[c]&&j[c].destroy&&j[c].destroy();l&&(l.zoomMin=l.customZoomMin),e.isDirty=e.isDirtyData=u.isDirtyBox=!0,b(v,!0)&&q.redraw(!1)},removeSeries:function(d,g){var c=this,e=c.chart,f=a[e.guid];d=b(d,!0),c.isRemoving||(c.isRemoving=!0,c.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,d&&e.redraw(g)),c.isRemoving=!1},processData:function(t){var s,h,f,b,a=this,c=a.xData,i=a.yData,d=c.length,g=0,m=d,n=a.axisX,o=a.options,p=o.pointsLimit,q=a.isCartesian;if(q&&!a.isDirty&&!n.isDirty&&!a.axisY.isDirty&&!t)return!1;
if(q&&a.sorted&&(!p||d>p||a.forceCrop)){var r=Xa.call(n),k=r.min,j=r.max;if(c[d-1]<k||c[0]>j)c=[],i=[];else if(c[0]<k||c[d-1]>j){for(b=0;d>b;b++)if(c[b]>=k){g=l(0,b-1);break}for(;d>b;b++)if(c[b]>j){m=b+1;break}c=c.slice(g,m),i=i.slice(g,m),s=!0}}for(b=c.length-1;b>0;b--)h=c[b]-c[b-1],h>0&&(f===e||f>h)&&(f=h);a.cropped=s,a.cropStart=g,a.processedXData=c,a.processedYData=i,null===o.pointRange&&(a.pointRange=f||1),a.closestPointRange=f},generatePoints:function(){var m,d,h,a,b=this,q=b.options,j=q.data,c=b.data,g=b.processedXData,p=b.processedYData,l=b.pointClass,k=g.length,n=b.cropStart||0,f=b.hasGroupedData,i=[];if(!c&&!f){var o=[];o.length=j.length,c=b.data=o}for(a=0;k>a;a++)d=n+a,f?i[a]=(new l).init(b,[g[a]].concat(ea(p[a]))):(c[d]?h=c[d]:j[d]!==e&&(c[d]=h=(new l).init(b,j[d],g[a])),i[a]=h);if(c&&(k!==(m=c.length)||f))for(a=0;m>a;a++)a!==n||f||(a+=k),c[a]&&(ac.call(c[a]),c[a].plotX=e);b.data=c,b.points=i},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,f=this,B=f.chart,u=a[B.guid],m=f.options,v=m.stackMode,w=f.axisX,p=w.categoricalValues,l=f.axisY,s=f.points,y=s.length,C=!!f.modifyValue,o=l.dataSeries,j=o.length,x="between"===m.positioningMethod,A=m.drawNullValues,z=/bar/i.test(f.seriesType);j--;)if(o[j].visible){o[j]===f&&(t=!0);break}for(j=0;y>j;j++){var n,k,c=s[j],q=c.x,h=Fc(c.y)&&z&&A?0:c.y,i=c.low,r=l.stacks[(h<m.baseValue?"-":"")+f.stackKey];c.plotX=w.translate(q,0,0,0,1,x),v&&f.visible&&r&&r[q]&&(n=r[q],k=n.total,n.cum=i=n.cum-h,h=i+h,t&&(i=b(m.baseValue,l.min)),l.isLog&&0>=i&&(i=null),"percent"===v&&(i=k?100*i/k:0,h=k?100*h/k:0),c.percentage=k?100*c.y/k:0,c.total=c.stackTotal=k,c.stackY=h),c.yBottom=d(i)?l.translate(i,0,1,0,1):null,C&&(h=f.modifyValue(h,c)),c.plotY="number"==typeof h?g(10*l.translate(h,0,1,0,1))/10:e,c.clientX=u.isInverted?u.plotHeight-c.plotX:c.plotX,c.pointName===e&&(p&&p[j]!==e?c.pointName=p[j]:c.pointName=c.x)}f.getSegments()},setTooltipPoints:function(o){var k,g,h,i,d,e=this,b=[],f=e.axisX,m=f?f.tooltipLen||f.len:a[e.chart.guid].plotSizeX,n=f&&f.tooltipPosName||"plotX",j=[];if(e.options.mouseInteractions!==!1){for(o&&(e.tooltipPoints=null),c(e.segments||e.points,function(a){b=b.concat(a)}),f&&f.inverseOrder&&(b=b.reverse()),k=b.length,d=0;k>d;d++)for(i=b[d],g=b[d-1]?h+1:0,h=b[d+1]?l(0,K((i[n]+(b[d+1]?b[d+1][n]:m))/2)):m;g>=0&&h>=g;)j[g++]=i;e.tooltipPoints=j}},_mouseOver:function(e){var b=this,c=a[b.chart.guid],d=c.hoverSeries;d&&d!==b&&d._mouseOut(e),b.setState(P),c.cachedHoverSeries=b,c.hoverSeries=b},_mouseOut:function(f){var b=this,g=b.options,c=a[b.chart.guid],d=c.tooltip,e=c.hoverPoint;e&&e._mouseOut(f),!d||g.completeSeriesTrace||d.chartBound||d.hide(),b.setState(),c.hoverSeries=null},animate:function(l){var f,g,d,c=this,b=a[c.chart.guid],h=b.renderer,e=c.options.applyAnimation,m=b.clipBox,k=b.isInverted;e&&!M(e)&&(e=j[c.seriesType].applyAnimation),d="_sharedClip"+e.duration+e.easing,l?(f=b[d],g=b[d+"m"],f||(b[d]=f=h.clipRect(i(m,{width:0})),b[d+"m"]=g=h.clipRect(-99,k?-b.plotLeft:-b.plotTop,99,k?b.chartWidth:b.chartHeight)),c.group.clip(f),c.markerGroup.clip(g),c.sharedClipKey=d):(f=b[d],f&&(f.animate({width:b.plotSizeX},e),b[d+"m"].animate({width:b.plotSizeX+99},e)),c.animate=null,c.animationTimeout=setTimeout(function(){c.afterAnimate()},e.duration))},afterAnimate:function(){var d=this,b=a[d.chart.guid],c=d.sharedClipKey,e=d.group;e&&d.options.clip!==!1&&(e.clip(b.clipRect),d.markerGroup.clip()),setTimeout(function(){c&&b[c]&&(b[c]=b[c].destroy(),b[c+"m"]=b[c+"m"].destroy())},100)},drawPoints:function(){var l,k,g,m,d,c,n,q,f,j,p,o,h=this,r=h.points,s=h.chart,t=a[s.guid],v=h.options,u=v.pointMark,w=h.markerGroup;if(u.enabled||h._hasPointMarkers)for(m=r.length;m--;)d=r[m],k=d.plotX,g=d.plotY,f=d.graphic,j=d.pointMark||{},p=u.enabled&&j.enabled===e||j.enabled,o=Q(s,k,g,t.isInverted),p&&g!==e&&!isNaN(g)?(l=d.pointAttr[d.selected?aa:E],c=l.r,n=b(j.symbol,h.symbol),q=0===n.indexOf("url"),f?f.attr({visibility:o?S?"inherit":A:z}).animate(i({x:k-c,y:g-c},f.symbolName?{width:2*c,height:2*c}:{})):o&&(c>0||q)&&(d.graphic=f=t.renderer.symbol(n,k-c,g-c,2*c,2*c).attr(l).add(w))):f&&(d.graphic=f.destroy())},convertAttribs:function(c,d,e,f){var a,h,g=this.pointAttrToOptions,i={};c=c||{},d=d||{},e=e||{},f=f||{};for(a in g)g.hasOwnProperty(a)&&(h=g[a],i[a]=b(c[h],d[a],e[a],f[a]));return i},getAttribs:function(){var l,m,f,g,p,n,a=this,b=j[a.seriesType].pointMark?a.options.pointMark:a.options,k=b.activeSettings,e=k[P],o=a.color,s={stroke:o,fill:o},r=a.points||[],h=[],q=a.pointAttrToOptions;for(a.options.pointMark?(e.drawRadius=e.drawRadius||b.drawRadius+2,e.drawWidth=e.drawWidth||b.drawWidth+1):e.color=e.color||new ga(e.color||o).brighten(e.brightness).get(),h[E]=a.convertAttribs(b,s),c([P,aa],function(b){h[b]=a.convertAttribs(k[b],h[E])}),a.pointAttr=h,m=r.length;m--;){if(f=r[m],b=f.options&&f.options.pointMark||f.options,b&&b.enabled===!1&&(b.drawRadius=0),p=a.options.separateColors,f.options)for(n in q)q.hasOwnProperty(n)&&d(b[q[n]])&&(p=!0);p?(b=b||{},g=[],k=b.activeSettings||{},l=k[P]=k[P]||{},a.options.pointMark||(l.color=new ga(l.color||f.color).brighten(l.brightness||e.brightness).get()),g[E]=a.convertAttribs(i({color:f.color},b),h[E]),g[P]=a.convertAttribs(k[P],h[P],g[E]),g[aa]=a.convertAttribs(k[aa],h[aa],g[E])):g=i(!0,{},h),f.pointAttr=g}},destroy:function(){if(!this._destroyed){var i,d,j,e,f,g,b=this,h=a[b.chart.guid],k=b.data||[];if(!b._destroyed){for(_(b,"destroy"),J(b),c(["axisX","axisY"],function(a){e=b[a],e&&(sa(e.dataSeries,b),e.isDirty=!0)}),b.legendItem&&Yb.call(h.chartLegend,b),i=k.length;i--;)d=k[i],d&&d.destroy&&d.destroy();b.points=null,clearTimeout(b.animationTimeout);for(f in b)b.hasOwnProperty(f)&&(g=b[f],(g instanceof ba||oa&&g instanceof oa)&&(b[f]=g.destroy()));h.hoverSeries===b&&(h.hoverSeries=null),sa(h.dataSeries,b);for(j in b)b.hasOwnProperty(j)&&delete b[j];b._destroyed=!0}}},drawDataLabels:function(){var i,k,j,l,g=this,m=g.options,f=m.dataPointText,n=g.points;(f.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(f),l=g.plotGroup("dataLabelsGroup","data-axisTickText",g.visible?A:z,6),k=f,c(n,function(c){var q,n,p,r,m=c.dataLabel,s=!0;if(i=c.options&&c.options.dataPointText,q=k.enabled||i&&i.enabled,m&&!q)c.dataLabel=m.destroy();else if(q){if(r=f.textAngle,f=h(k,i),j=T(f.format)?o.format(f.format,{point:c,chart:c.dataSeries.chart}):f.format.call(null,c,c.dataSeries.chart),f.style.color=b(f.color,f.style.color,g.color,"black"),m)m.attr({text:j}),s=!1;else if(d(j)){n={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,textAngle:r,padding:f.padding,zIndex:1};for(p in n)n.hasOwnProperty(p)&&n[p]===e&&delete n[p];m=c.dataLabel=a[g.chart.guid].renderer[r?"text":"label"](j,0,-999,null,null,null,f.htmlOutput).attr(n).css(f.style).add(l).shadow(f.shadow)}m&&g.alignDataLabel(c,m,f,null,s)}}))},alignDataLabel:function(n,f,c,d,p){var e,h=this.chart,k=a[h.guid],l=k.isInverted,m=b(n.plotX,-999),j=b(n.plotY,-999),o=f.getBBox();d=i({x:l?k.plotWidth-j:m,y:g(l?k.plotHeight-m:j),width:0,height:0},d),i(c,{width:o.width,height:o.height}),c.textAngle?(e={align:c.align,x:d.x+c.x+d.width/2,y:d.y+c.y+d.height/2},f[p?"attr":"animate"](e)):(f.align(c,null,d),e=f.alignAttr),f.attr({visibility:c.hideInvisible===!1||Q(h,e.x,e.y)||Q(h,m,j,l)?S?"inherit":A:z})},getSegmentPath:function(b){var d=this,a=[];return c(b,function(c,e){if(d.getPointSpline)a.push.apply(a,d.getPointSpline(b,c,e));else{if(a.push(e?t:w),e&&d.options.step){var f=b[e-1];a.push(c.plotX,f.plotY)}a.push(c.plotX,c.plotY)}}),a},getGraphPath:function(){var d,a=this,b=[],e=[];return c(a.segments,function(c){d=a.getSegmentPath(c),c.length>1?b=b.concat(d):e.push(c[0])}),a.singlePoints=e,a.graphPath=b,b},drawGraph:function(){var d,b=this,c=b.options,e=b.graph,i=b.group,j=c.drawColor||b.color,f=c.drawWidth,g=c.seriesDashStyle,h=b.getGraphPath();e?(Oa(e),e.animate({d:h})):f&&(d={stroke:j,"stroke-width":f,zIndex:1},g&&(d.dashstyle=g),b.graph=a[b.chart.guid].renderer.path(h).attr(d).add(i).shadow(c.shadow))},invertGroups:function(){function b(){var b={width:a.axisY.len,height:a.axisX.len};c(["group","trackerGroup","markerGroup"],function(c){a[c]&&a[c].attr(b).invert()})}var a=this,d=a.chart;G(d,da,b),G(a,"destroy",function(){J(d,da,b)}),b(),a.invertGroups=b},plotGroup:function(e,k,h,i,j){var b=this,c=b[e],d=a[b.chart.guid],f=b.axisX,g=b.axisY;return c||(b[e]=c=d.renderer.g().attr({visibility:h,zIndex:i||.1}).add(j)),c.translate(f?f.left:d.plotLeft,g?g.top:d.plotTop),c},render:function(){var d,b=this,c=a[b.chart.guid],e=b.options,k=e.applyAnimation,f=k&&!!b.animate,g=b.visible?A:z,h=e.zIndex,i=b.hasRendered,j=c.seriesGroup;d=b.plotGroup("group","dataSeries",g,h,j),b.markerGroup=b.plotGroup("markerGroup","markers",g,h,j),f&&b.animate(!0),b.getAttribs(),d.isInverted=c.isInverted,b.drawGraph&&b.drawGraph(),b.drawPoints(),b.drawDataLabels(),b.options.mouseInteractions!==!1&&b.drawTracker(),c.isInverted&&b.invertGroups(),e.clip===!1||b.sharedClipKey||i||(d.clip(c.clipRect),this.trackerGroup&&this.trackerGroup.clip(c.clipRect)),f?b.animate():i||b.afterAnimate(),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var b=this,c=a[b.chart.guid],d=(b.isDirtyData,b.group);d&&(c.isInverted&&d.attr({width:c.plotWidth,height:c.plotHeight}),d.animate({translateX:b.axisX.left,translateY:b.axisY.top})),b.translate(),b.setTooltipPoints(!0),b.render()},setState:function(a){var b=this,f=b.options,c=b.graph,d=f.activeSettings,e=f.drawWidth;if(a=a||E,b.state!==a){if(b.state=a,d[a]&&d[a].enabled===!1)return;a&&(e=d[a].drawWidth||e+1),c&&!c.dashstyle&&c.attr({"stroke-width":e},a?0:500)}},toggle:function(f,p){var d,i,j,b=this,g=b.chart,k=a[g.guid],s=b.legendItem,l=b.group,m=b.tracker,n=b.dataLabelsGroup,o=b.markerGroup,h=b.points,r=g.options.scaleAxesForHiddenSeries,q=b.visible;if(b.visible=f=f===e?!q:f,d=f?"show":"hide",l&&l[d](),o&&o[d](),m)m[d]();else if(h)for(i=h.length;i--;)j=h[i],j.tracker&&j.tracker[d]();n&&n[d](),s&&yb.call(k.chartLegend,b,f),b.isDirty=!0,b.options.stackMode&&c(k.dataSeries,function(a){a.options.stackMode&&a.visible&&(a.isDirty=!0)}),r||(k.isDirtyBox=!0),p!==!1&&g.redraw(),g.trigger("seriesVisibilityChange",{dataSeries:b})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var e,b,c=this,f=c.options,h=f.areaInteractivity,d=[].concat(h?c.areaPath:c.graphPath),j=d.length,o=c.chart,i=a[c.chart.guid],n=i.renderer,g=o.options.tooltipSettings.showDistance,k=c.tracker,l=f.cursor,p=l&&{cursor:l},m=c.singlePoints,q=c.isCartesian&&c.plotGroup("trackerGroup",null,A,f.zIndex||1,i.trackerGroup);if(j&&!h)for(b=j+1;b--;)d[b]===w&&d.splice(b+1,0,d[b+1]-g,d[b+2],t),(b&&d[b]===w||b===j)&&d.splice(b,0,t,d[b-2]+g,d[b-1]);for(b=0;b<m.length;b++)e=m[b],d.push(w,e.plotX-g,e.plotY,t,e.plotX+g,e.plotY);k?k.attr({d:d}):c.tracker=n.path(d).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:c.visible?A:z,stroke:wb,fill:h?wb:N,"stroke-width":f.drawWidth+(h?0:2*g)}).on(V?za:Ba,function(a){i.hoverSeries!==c&&c._mouseOver(a)}).on(ab,function(a){f.completeSeriesTrace||c._mouseOut(a)}).css(p).add(q)}};var Tb=v(y);k.line=Tb;var rc=v(Tb,{seriesType:"stepline"});k.stepline=rc,j.stepline=h(j.line,{step:"left"}),j.area=h(Ca,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}});var nb=v(y,{seriesType:"area",getSegmentPath:function(a){var b,c=this,d=y.prototype.getSegmentPath.call(c,a),e=[].concat(d),f=c.options,g=d.length;if(3===g&&e.push(t,d[1],d[2]),f.stackMode&&!c.closedStacks)for(b=a.length-1;b>=0;b--)b<a.length-1&&f.step&&e.push(a[b+1].plotX,a[b].yBottom),e.push(a[b].plotX,a[b].yBottom);else c.closeSegment(e,a);return c.areaPath=c.areaPath.concat(e),d},closeSegment:function(c,a){var b=ob.call(this.axisY,this.options.baseValue);c.push(t,a[a.length-1].plotX,b,t,a[0].plotX,b)},drawGraph:function(){var c=this;c.areaPath=[],y.prototype.drawGraph.apply(c);var d=c.areaPath,e=c.options,f=c.area;f?f.animate({d:d}):c.area=a[c.chart.guid].renderer.path(d).attr({fill:b(e.innerColor,new ga(c.color).setOpacity(e.fillOpacity||.75).get()),zIndex:0}).add(c.group)}});k.area=nb;var tc=v(nb,{seriesType:"steparea"});k.steparea=tc,j.steparea=h(j.area,{step:"left"}),j.spline=h(Ca);var Sb=v(y,{seriesType:"spline",getPointSpline:function(r,j,q){var n,c,k,b,m,h=1.5,i=h+1,e=j.plotX,a=j.plotY,d=r[q-1],o=r[q+1];if(d&&o){var p,s=d.plotX,g=d.plotY,t=o.plotX,f=o.plotY;n=(h*e+s)/i,c=(h*a+g)/i,k=(h*e+t)/i,b=(h*a+f)/i,p=(b-c)*(k-e)/(k-n)+a-b,c+=p,b+=p,c>g&&c>a?(c=l(g,a),b=2*a-c):g>c&&a>c&&(c=C(g,a),b=2*a-c),b>f&&b>a?(b=l(f,a),c=2*a-b):f>b&&a>b&&(b=C(f,a),c=2*a-b),j.rightContX=k,j.rightContY=b}return q?(m=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||e,c||a,e,a],d.rightContX=d.rightContY=null):m=[w,e,a],m}});k.spline=Sb,j.splinearea=h(j.area);var mb=nb.prototype,Nc=v(Sb,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:mb.getSegmentPath,closeSegment:mb.closeSegment,drawGraph:mb.drawGraph});k.splinearea=Nc,j.bar=h(Ca,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:.15,pointMark:null,barOffset:.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0});var Qb=v(y,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){y.prototype.init.apply(this,arguments);var b=this,d=a[b.chart.guid];d.hasRendered&&c(d.dataSeries,function(a){a.seriesType===b.seriesType&&(a.isDirty=!0)})},translate:function(){var m,t,f=this,z=a[f.chart.guid],u=f.enablePolarLayout,g=f.options,J=g.stackMode,q=g.borderWidth,j=0,o=f.axisX,A=o.inverseOrder,r={};y.prototype.translate.apply(f),g.divideSeries===!1?j=1:c(z.dataSeries,function(a){var b=a.options;a.seriesType===f.seriesType&&a.visible&&f.options.group===b.group&&(b.stackMode?(m=a.stackKey,r[m]===e&&(r[m]=j++),t=r[m]):b.divideSeries!==!1&&(t=j++),a.columnIndex=t)});var M=f.points,s=O(o.transA)*(o.ordinalSlope||g.pointRange||o.closestPointRange||1),w=s*g.groupPadding,K=s-2*w,k=K/j,v=g.dataPointWidth,H=d(v)?(k-v)/2:k*g.barOffset,D=u?H:n(H),E=b(v,k-2*D),F=u?E:n(E),G=ua(l(F,1+2*q)),I=(A?j-f.columnIndex:f.columnIndex)||0,B=D+(w+I*k-s/2)*(A?-1:1),x=u?B:n(B),L=g.baseValue,p=f.translatedThreshold=ob.call(f.axisY,L),i=b(g.minPointLength,5);c(M,function(a){var e,g=a.plotY,j=b(a.yBottom,p),m=a.plotX+x,c=ua(C(g,j)),d=ua(l(g,j)-c),k=f.axisY.stacks[(a.y<0?"-":"")+f.stackKey];J&&f.visible&&k&&k[a.x]&&k[a.x]._offset(x,G),O(d)<i&&i&&(d=i,c=O(c-p)>i?j-i:p-(p>=g?i:0)),a.barX=m,a.dataPointWidth=F,a.shapeType="rect",a.shapeArgs=e=z.renderer.Element.prototype.crisp.call(0,q,m,c,G,d),q%2&&(e.y-=1,e.height+=1),a.trackerArgs=O(d)<3&&h(a.shapeArgs,{height:6,y:c-3})})},getSymbol:W,drawGraph:W,drawPoints:function(){var d,b=this,f=b.options,g=a[b.chart.guid].renderer;c(b.points,function(a){var i=a.plotY,c=a.graphic;i===e||isNaN(i)||null===a.y?c&&(a.graphic=c.destroy()):(d=a.shapeArgs,c?(Oa(c),c.animate(h(d))):a.graphic=c=g[a.shapeType](d).attr(a.pointAttr[a.selected?aa:E]).add(b.group).shadow(f.shadow,null,f.stackMode&&!f.borderRadius))})},drawTracker:function(){var d,j,f,g,l,b=this,i=a[b.chart.guid],n=i.renderer,k=+new Date,h=b.options,m=h.cursor,o=m&&{cursor:m},p=b.isCartesian&&b.plotGroup("trackerGroup",null,A,h.zIndex||1,i.trackerGroup);c(b.points,function(a){j=a.tracker,d=a.trackerArgs||a.shapeArgs,g=a.plotY,l=!b.isCartesian||g!==e&&!isNaN(g),delete d.strokeWidth,null!==a.y&&l&&(j?j.attr(d):a.tracker=n[a.shapeType](d).attr({isTracker:k,fill:wb,visibility:b.visible?A:z}).on(V?za:Ba,function(c){f=c.relatedTarget||c.fromElement,i.hoverSeries!==b&&q(f,"isTracker")!==k&&b._mouseOver(c),a._mouseOver(c)}).on(ab,function(a){h.completeSeriesTrace||(f=a.relatedTarget||a.toElement,q(f,"isTracker")!==k&&b._mouseOut(a))}).css(o).add(a.group||p))})},alignDataLabel:function(e,l,d,c,m){var f=this,g=a[f.chart.guid],i=g.isInverted,j=e.below||e.plotY>(f.translatedThreshold||g.plotSizeY),k=f.options.stackMode||d.inside;e.shapeArgs&&(c=h(e.shapeArgs),i&&(c={x:g.plotWidth-c.y-c.height,y:g.plotHeight-c.x-c.width,width:c.height,height:c.width}),k||(i?(c.x+=j?0:c.width,c.width=0):(c.y+=j?c.height:0,c.height=0))),d.align=b(d.align,!i||k?"center":j?"right":"left"),d.verticalAlign=b(d.verticalAlign,i||k?"middle":j?"top":"bottom"),y.prototype.alignDataLabel.call(f,e,l,d,c,m)},animate:function(e){var a=this,f=a.points,b=a.options;e||(c(f,function(f){var c=f.graphic,g=f.shapeArgs,e=a.axisY,h=b.baseValue;c&&(c.attr({height:0,y:d(h)?ob.call(e,h):e.translate(Xa.call(e).min,0,1,0,1)}),c.animate({height:g.height,y:g.y},b.applyAnimation))}),a.animate=null)},remove:function(){var b=this,d=a[b.chart.guid];d.hasRendered&&c(d.dataSeries,function(a){a.seriesType===b.seriesType&&(a.isDirty=!0)}),y.prototype.remove.apply(b,arguments)}});k.bar=Qb,j.scatter=h(Ca,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}});var kb=v(y,{seriesType:"scatter",sorted:!1,translate:function(){var a=this;y.prototype.translate.apply(a),c(a.points,function(b){b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var b,a=this,f=a.options.cursor,g=f&&{cursor:f},c=a.points,d=c.length;d--;)b=c[d].graphic,b&&(b.element._i=d);a._hasTracking?a._hasTracking=!0:a.markerGroup.attr({isTracker:!0}).on(V?za:Ba,function(b){a._mouseOver(b),b.target._i!==e&&c[b.target._i]._mouseOver(b)}).on(ab,function(b){a.options.completeSeriesTrace||a._mouseOut(b)}).css(g)}});k.scatter=kb,j.bubble=h(j.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}});var zc=v(kb,{seriesType:"bubble",translate:function(){var b,f,h,d,j,g=this,p=g.chart,k=a[p.guid],i=10,q=l(10,n(C(k.plotHeight,k.plotWidth)/5)),o=q-i;kb.prototype.translate.apply(g),c(g.points,function(a){a._rad=d=m.sqrt(a.size/u),(b===e||b>d)&&(b=d),(f===e||d>f)&&(f=d)}),h=f-b,i>b&&(j=b,b=f=e,c(g.points,function(a){a._rad=d=a._rad*i/j,(b===e||b>d)&&(b=d),(f===e||d>f)&&(f=d)}),h=f-b),h>=o&&c(g.points,function(a){a._rad=i+(a._rad-b)*o/h})},drawPoints:function(){var a=this;c(a.points,function(a){c([E,P,aa],function(b){i(a.pointAttr[b],{r:a._rad,fill:new ga(a.pointAttr[b].fill).setOpacity(b==E?.75:1).get()})})}),y.prototype.drawPoints.apply(a)}});k.bubble=zc,j.pie=h(Ca,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(b,a){return a&&a.options&&a.options.axisX&&a.options.axisX.categoricalValues&&a.options.axisX.categoricalValues[b.x]!==e?a.options.axisX.categoricalValues[b.x]:b.y}},legendType:ib,pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(a,b){var c;return c=b&&b.options&&b.options.axisX&&b.options.axisX.categoricalValues&&b.options.axisX.categoricalValues[a.x]!==e?b.options.axisX.categoricalValues[a.x]:a.pointName?a.pointName:a.collectionAlias?a.collectionAlias:a.dataSeries.collectionAlias,"<span>"+c+"</span>: "+a.y}}});var Ac=v(ta,{init:function(){ta.prototype.init.apply(this,arguments);var c,a=this;return i(a,{visible:a.visible!==!1,collectionAlias:b(a.collectionAlias,"Sector")}),d(a.selected)?a.selected=a.sliced=!!a.selected:d(a.sliced)&&(a.selected=a.sliced=!!a.sliced),c=function(){_b.call(a)},G(a,"pointSelect",c),G(a,"pointDeselect",c),a},toggle:function(d){var c,b=this,f=b.dataSeries,k=f.chart,l=a[f.chart.guid],g=b.tracker,h=b.dataLabel,i=b.connector,j=b.shadowGroup;b.visible=d=d===e?!b.visible:d,c=d?"show":"hide",b.group[c](),g&&g[c](),h&&h[c](),i&&i[c](),j&&j[c](),b.legendItem&&yb.call(l.chartLegend,b,d),!f.isDirty&&f.options.ignoreHiddenPoint&&(f.isDirty=!0,k.redraw())}}),Ta={seriesType:"pie",isCartesian:!1,pointClass:Ac,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=a[this.chart.guid].counters.color},animate:function(){var a=this,b=a.points;c(b,function(d){var b=d.graphic,c=d.shapeArgs,e=-u/2;b&&(b.attr({r:0,start:e,end:e}),b.animate({r:c.r,start:c.start,end:c.end},a.options.applyAnimation))}),a.animate=null},setItemSource:function(c,d){var a=this;y.prototype.setItemSource.call(a,c,!1),a.processData(),a.generatePoints(),b(d,!0)&&a.chart.redraw()},getCenter:function(){var c,b=this.options,d=a[this.chart.guid],e=d.plotWidth,f=d.plotHeight,h=b.center.concat([b.size,b.innerSize||0]),g=C(e,f);return qa(h,function(a,b){return c=/%$/.test(a),c?[e,f,g,g][b]*n(a)/100:a})},translate:function(){this.generatePoints();var b,o,p,d,s,i,h,e,c,k=0,f=this,q=-.25,l=1e3,n=f.options,r=n.slicedOffset,x=r+n.borderWidth,w=a[f.chart.guid],v=f.points,t=2*u,j=n.dataPointText.distance,y=n.ignoreHiddenPoint,z=v.length;for(f.center=b=f.getCenter(),f.getX=function(a,c){return d=m.asin((a-b[1])/(b[2]/2+j)),b[0]+(c?-1:1)*(D(d)*(b[2]/2+j))},e=0;z>e;e++)c=v[e],k+=y&&!c.visible?0:c.y;for(e=0;z>e;e++)c=v[e],s=k?c.y/k:0,o=g(q*t*l)/l,(!y||c.visible)&&(q+=s),p=g(q*t*l)/l,c.shapeType="arc",c.shapeArgs={x:b[0],y:b[1],r:b[2]/2,innerR:b[3]/2,start:o,end:p},d=(p+o)/2,c.slicedTranslation=qa([D(d)*r+w.plotLeft,I(d)*r+w.plotTop],g),i=D(d)*b[2]/2,h=I(d)*b[2]/2,c.tooltipPos=[b[0]+.7*i,b[1]+.7*h],c.labelPos=[b[0]+i+D(d)*j,b[1]+h+I(d)*j,b[0]+i+D(d)*x,b[1]+h+I(d)*x,b[0]+i,b[1]+h,0>j?"center":t/4>d?"left":"right",d],c.percentage=100*s,c.total=k;f.setTooltipPoints()},render:function(){var a=this;a.getAttribs(),a.drawPoints(),a.options.mouseInteractions!==!1&&a.drawTracker(),a.drawDataLabels(),a.options.applyAnimation&&a.animate&&a.animate(),a.isDirty=!1},drawPoints:function(){var d,e,f,b,h,g=this,j=a[g.chart.guid],k=j.renderer,l=g.options.shadow;c(g.points,function(a){e=a.graphic,h=a.shapeArgs,f=a.group,b=a.shadowGroup,l&&!b&&(b=a.shadowGroup=k.g().attr({zIndex:4}).add()),f||(f=a.group=k.g().attr({zIndex:5}).add()),d=a.sliced?a.slicedTranslation:[j.plotLeft,j.plotTop],f.translate(d[0],d[1]),b&&b.translate(d[0],d[1]),e?e.animate(h):a.graphic=e=k.arc(h).setRadialReference(g.center).attr(i(a.pointAttr[E],{"stroke-linejoin":"round"})).add(a.group).shadow(l,b),a.visible===!1&&a.toggle(!1)})},drawDataLabels:function(){var h,r,E,x,g,S,L,k,C,I,K,d,l=this,W=l.data,G=a[l.chart.guid],j=l.options.dataPointText,Q=b(j.connectorPadding,10),P=b(j.connectorWidth,1),p=j.distance,H=l.center,D=H[2]/2,N=H[1],V=p>0,o=[[],[]],v=2;if(j.enabled||l._hasPointLabels)for(y.prototype.drawDataLabels.apply(l),c(W,function(a){a.dataLabel&&o[a.labelPos[7]<u/2?0:1].push(a)}),o[1].reverse(),K=function(a,b){return b.y-a.y},S=o[0][0]&&o[0][0].dataLabel&&(o[0][0].dataLabel.getBBox().height||21);v--;){var n,B,e,f=[],M=[],m=o[v],i=m.length;if(p>0){for(B=N-D-p;N+D+p>=B;B+=S)f.push(B);if(n=f.length,i>n){for(I=[].concat(m),I.sort(K),d=i;d--;)I[d].rank=d;for(d=i;d--;)m[d].rank>=n&&m.splice(d,1);i=m.length}for(d=0;i>d;d++){h=m[d],g=h.labelPos;var J,s,R=9999;for(s=0;n>s;s++)J=O(f[s]-g[1]),R>J&&(R=J,e=s);if(d>e&&null!==f[d])e=d;else if(i-d+e>n&&null!==f[d])for(e=n-i+d;null===f[e];)e++;else for(;null===f[e];)e++;M.push({i:e,y:f[e]}),f[e]=null}M.sort(K)}for(d=0;i>d;d++){var F,q;if(h=m[d],g=h.labelPos,x=h.dataLabel,C=h.visible===!1?z:A,q=g[1],p>0?(F=M.pop(),e=F.i,k=F.y,(q>k&&null!==f[e+1]||k>q&&null!==f[e-1])&&(k=q)):k=q,L=j.justify?H[0]+(v?-1:1)*(D+p):l.getX(0===e||e===f.length-1?q:k,v),x.attr({visibility:C,align:g[6]})[x.moved?"animate":"attr"]({x:L+j.x+({left:Q,right:-Q}[g[6]]||0),y:k+j.y-10}),x.moved=!0,V&&P){r=h.connector;var T=L+("left"===g[6]?8:-8),U=k;E=[w,T,U,t,T+("left"===g[6]?-10:10),U,t,g[4],g[5]],r?(r.animate({d:E}),r.attr("visibility",C)):h.connector=r=G.renderer.path(E).attr({"stroke-width":P,stroke:j.connectorColor||h.color||"#606060",visibility:C,zIndex:3}).translate(G.plotLeft,G.plotTop).add()}}}},alignDataLabel:W,drawTracker:Qb.prototype.drawTracker,getSymbol:W};Ta=v(y,Ta),k.pie=Ta,j.donut=h(j.pie,{innerSize:"45%"});var Cc=v(Ta,{seriesType:"donut"});k.donut=Cc;var Dc={_init:function(){var a=this;a.container=f("<div class='shield-lightbox' />"),a.mask=f("<div class='shield-lightbox-mask' />").appendTo(a.container),a.imageBox=f("<div class='shield-lightbox-imagebox' />").appendTo(a.container),a.image=f("<img />").appendTo(a.imageBox),a.caption=f("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(a.imageBox),a.window=f(F),a.document=f(p),a.body=f(p.body)},show:function(b){function c(){a.visible&&(a.container.appendTo(a.body),a.window.on(da+a.ns,d),a.window.on("keydown"+a.ns,function(b){27===b.keyCode&&a.hide()}),a.container.on(Fa+a.ns,f.proxy(a.hide,a)),setTimeout(d,1e3/60))}function d(){a.mask.css({height:a.document.innerHeight()}),a.image.css({maxWidth:a.mask.width()-(a.image.outerWidth()-a.image.width())-2*a.margin,maxHeightINTERNAL:a.mask.height()-(a.image.outerHeight()-a.image.height())-2*a.margin}),a.imageBox.css({left:(a.document.innerWidth()-a.imageBox.outerWidth())/2,top:(a.window.innerHeight()-a.imageBox.outerHeight())/2+a.document.scrollTop()}),a.caption.css({left:(a.imageBox.width()-a.caption.outerWidth())/2+"px"})}var a=this;a.visible||(a.visible=!0,a.container||a._init(),a.image.attr("src")===b?c():a.image.on("load"+a.ns,c).attr("src",b).attr("alt","Right-click and save image to disk"))},hide:function(){var a=this;a.container.detach(),a.window.off(a.ns),a.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40};na.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},i(na.prototype,{exportToImage:function(){if(La){var e=this,c=f(a[e.guid].container),b=c.html(),d=f("<canvas />").attr("width",c.width()).attr("height",c.height())[0];if(typeof canvg!==Pa)throw"Export requires canvg: https://code.google.com/p/canvg/";b=b.replace(/(xmlns="[^\"]*")(.*?)\1/,"$1$2"),b=b.replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,""),b=b.replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(d,b),Dc.show(d.toDataURL())}},print:function(){var d=this,b=f("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(p.body)[0],c=b.contentWindow.document;c.open("text/html","replace"),c.write(a[d.guid].container.innerHTML),c.close(),b.contentWindow.print(),setTimeout(function(){p.body.removeChild(b),b=null},100)}}),Zb.push(function(a){var c,b=a.options.exportOptions,d=[];b!==!1&&((b.image&&La||b.print)&&(c=f('<div class="shield-buttons" />').appendTo(a.element)),b.image&&La&&d.push(f('<button class="shield-chart-button" type="button" title="'+b.exportTooltip+'"><div class="sui-sprite shield-export-button-img" /></button>').on("click.shield",f.proxy(a.exportToImage,a)).appendTo(c)),b.print&&d.push(f('<button class="shield-chart-button" type="button" title="'+b.printTooltip+'"><div class="sui-sprite shield-print-button-img" /></button>').on("click.shield",f.proxy(a.print,a)).appendTo(c)),f(a).bind("destroy",function(a){f(d).each(function(b,a){a.off(".shield").remove()})}))});var Ec=y,fa=k.bar.prototype;i($b.prototype,{init:function(d,f,i){var e,b=this,g=b.defaults;b.chart=f,a[f.guid].angular&&(g.background={}),b.options=d=h(g,d),e=d.background,e&&c([].concat(ea(e)).reverse(),function(a){var c=a.backgroundColor;a=h(b.defaultBackgroundOptions,a),c&&(a.backgroundColor=c),a.color=a.backgroundColor,i.options.plotBands.unshift(a)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var Ua=Sa.prototype,cb=Aa.prototype,Ic={_offset:W,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:W,_points:W,_title:W},ub={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},Db={radial:!0,setOptions:function(b,a){this.options=h(ca.defaults,b,this.defaultRadialOptions,this.isXAxis?a.initialOptions.axisX:a.initialOptions.axisY)},_offset:function(){var b=this;Ua._offset.call(b),a[b.chart.guid].axisOffset[b.side]=0,b.center=b.pane.center=k.pie.prototype.getCenter.call(b.pane)},_path:function(f,d){var c=this,e=c.center;return d=b(d,e[2]/2-c.offset),a[c.chart.guid].renderer.symbols.arc(c.left+e[0],c.top+e[1],d,d,{start:c.startAngleRad,end:c.endAngleRad,open:!0,innerR:0})},_arrange:function(){var a=this;Ua._arrange.call(a),a.center&&(a.isCircular?a.transA=(a.endAngleRad-a.startAngleRad)/(a.max-a.min||1):a.transA=a.center[2]/2/(a.max-a.min||1),a.isXAxis&&(a.minPixelPadding=a.transA*a.minPointOffset+(a.inverseOrder?(a.endAngleRad-a.startAngleRad)/4:0)))},_preTicks:function(){var a=this;a.autoConnect&&(a.max+=a.categoricalValues&&1||a.pointRange||a.closestPointRange)},_dimensions:function(){var a=this;Ua._dimensions.call(a),a.center&&(a.len=a.width=a.height=a.isCircular?a.center[2]*(a.endAngleRad-a.startAngleRad)/2:a.center[2]/2)},_position:function(c,d){var a=this;return a.isCircular||(d=a.translate(c),c=a.min),a.postTranslate(a.translate(c),b(d,a.center[2]/2)-a.offset)},postTranslate:function(b,d){var c=this,e=a[c.chart.guid],f=c.center;return b=c.startAngleRad+b,{x:e.plotLeft+f[0]+D(b)*d,y:e.plotTop+f[1]+I(b)*d}},_bandPath:function(h,j,e){var f,g,m,i,c=this,k=c.center,l=c.startAngleRad,p=k[2]/2,d=[b(e.outerRadius,"100%"),e.innerRadius,b(e.thickness,10)],q=/%$/,o=c.isCircular;return"polygon"===c.options.gridLineInterpolationINTERNAL?i=c._linePath(h).concat(c._linePath(j,!0)):(o||(d[0]=c.translate(h),d[1]=c.translate(j)),d=qa(d,function(a){return q.test(a)&&(a=n(a,10)*p/100),a}),"circle"!==e.shape&&o?(f=l+c.translate(h),g=l+c.translate(j)):(f=-u/2,g=1.5*u,m=!0),i=a[c.chart.guid].renderer.symbols.arc(c.left+k[0],c.top+k[1],d[0],d[0],{start:f,end:g,innerR:b(d[1],d[0]-d[2]),open:m})),i},_linePath:function(b,l){var g,h,e,f,d=this,j=d.center,i=a[d.chart.guid],k=d._position(b);return d.isCircular?f=["M",j[0]+i.plotLeft,j[1]+i.plotTop,"L",k.x,k.y]:"circle"===d.options.gridLineInterpolationINTERNAL?(b=d.translate(b),b&&(f=d._path(0,b))):(g=i.axisX[0],f=[],b=d.translate(b),e=g.tickPositions,g.autoConnect&&(e=e.concat([e[0]])),l&&(e=[].concat(e).reverse()),c(e,function(a,c){h=g._position(a,b),f.push(c?"L":"M",h.x,h.y)})),f},_titlePos:function(){var b=this,c=b.center,e=a[b.chart.guid],d=b.options.title;return{x:e.plotLeft+c[0]+(d.x||0),y:e.plotTop+c[1]-{high:.5,middle:.25,low:0}[d.align]*c[2]+(d.y||0)}}};k.polarline=v(k.line,{seriesType:"polarline",enablePolarLayout:!0}),j.polarline=h(j.line,j.polarline),k.polararea=v(k.area,{seriesType:"polararea",enablePolarLayout:!0}),j.polararea=h(j.area,j.polararea),k.polarbar=v(k.bar,{seriesType:"polarbar",enablePolarLayout:!0}),j.polarbar=h(j.bar,j.polarbar,{pointRange:0}),k.polarspline=v(k.spline,{seriesType:"polarspline",enablePolarLayout:!0}),j.polarspline=h(j.spline,j.polarspline),k.polarsplinearea=v(k.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),j.polarsplinearea=h(j.splinearea,j.polarsplinearea),k.polarscatter=v(k.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),j.polarscatter=h(j.scatter,j.polarscatter),H(Ua,"init",function(w,k,j){
var f,o,p,q,s,g,c=this,d=a[k.guid],m=d.angular,r=d.enablePolarLayout,l=j.isX,t=m&&l,v=k.options,n=j.pane||0;m?(i(c,t?Ic:Db),f=!l,f&&(c.defaultRadialOptions=ub.radialGauge)):r&&(i(c,Db),f=l,c.defaultRadialOptions=l?ub.radialX:h(ca.y,ub.radialY)),w.call(c,k,j),t||!m&&!r||(q=c.options,d.panes||(d.panes=[]),c.pane=d.panes[n]=s=new $b(ea(v.pane)[n],k,c),g=s.options,d.inverted=!1,v.zoomType=null,c.startAngleRad=o=(g.startAngle-90)*u/180,c.endAngleRad=p=(b(g.endAngle,g.startAngle+360)-90)*u/180,c.offset=q.offset||0,c.isCircular=f,f&&j.max===e&&p-o===2*u&&(c.autoConnect=!0))}),H(cb,"_position",function(c,d,a,e,f){var b=this.axis;return b._position?b._position(a):c.call(this,d,a,e,f)}),H(cb,"_labelPos",function(k,i,m,e,l,a,o,p,j){var f,c=this.axis,g=a.y,h=a.align,d=(c.translate(this.pos)+c.startAngleRad+u/2)/u*180;return c.radial?(f=c._position(this.pos,c.center[2]/2+b(a.distance,-25)),"auto"===a.textAngle?e.attr({textAngle:d}):null===g&&(g=.9*n(e.styles.lineHeight)-e.getBBox().height/2),null===h&&(h=c.isCircular?d>20&&160>d?"left":d>200&&340>d?"right":"center":"center",e.attr({align:h})),f.x+=a.x,f.y+=g):f=k.call(this,i,m,e,l,a,o,p,j),f}),H(cb,"_markPath",function(g,d,e,f,h,i,j){var a,b,c=this.axis;return c.radial?(a=c._position(this.pos,c.center[2]/2+f),b=["M",d,e,"L",a.x,a.y]):b=g.call(this,d,e,f,h,i,j),b}),j.rangearea=h(j.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});var Lc=v(ta,{setOptions:function(a,d){var b=this,c=b.dataSeries,f=c.pointArrayMap,g=0,h=0,j=f.length;if("object"==typeof a&&"number"!=typeof a.length)i(b,a),b.options=a;else if(a.length)for(a.length>j&&("string"==typeof a[0]?b.collectionAlias=a[0]:"number"==typeof a[0]&&(b.x=a[0]),g++);j>h;)b[f[h++]]=a[g++];return b.y=b[c.pointValKey],b.x===e&&c&&(b.x=d===e?c.autoIncrement():d),b},toArray:function(){return[this.low,this.high]}});k.rangearea=v(k.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:Lc,pointValKey:"low",translate:function(){var a=this,b=a.axisY;k.area.prototype.translate.apply(a),c(a.points,function(a){null!==a.y&&(a.plotLow=a.plotY,a.plotHigh=b.translate(a.high,0,1,0,1))})},getSegmentPath:function(g){for(var e,h,d,c,a=this,i=[],j=g.length,k=y.prototype.getSegmentPath,f=a.options,b=f.step;j--;)e=g[j],i.push({plotX:e.plotX,plotY:e.plotHigh});return d=k.call(a,g),b&&(b===!0&&(b="left"),f.step={left:"right",center:"center",right:"left"}[b]),c=k.call(a,i),f.step=b,h=[].concat(d,c),c[0]="L",a.areaPath=a.areaPath.concat(d,c),h},drawDataLabels:function(){var d,b,e=this,f=e.data,g=f.length,h=[],i=y.prototype,c=e.options.dataPointText,j=a[e.chart.guid].inverted;if(c.enabled||e._hasPointLabels){for(d=g;d--;)b=f[d],b.y=b.high,b.plotY=b.plotHigh,h[d]=b.dataLabel,b.dataLabel=b.dataLabelUpper,b.below=!1,j?(c.align="left",c.x=c.xHigh):c.y=c.yHigh;for(i.drawDataLabels.apply(e,arguments),d=g;d--;)b=f[d],b.dataLabelUpper=b.dataLabel,b.dataLabel=h[d],b.y=b.low,b.plotY=b.plotLow,b.below=!0,j?(c.align="right",c.x=c.xLow):c.y=c.yLow;i.drawDataLabels.apply(e,arguments)}},alignDataLabel:k.bar.prototype.alignDataLabel,getSymbol:k.bar.prototype.getSymbol,drawPoints:W}),j.rangesplinearea=h(j.rangearea),k.rangesplinearea=v(k.rangearea,{seriesType:"rangesplinearea",getPointSpline:k.spline.prototype.getPointSpline}),j.rangebar=h(j.bar,j.rangearea,{drawWidth:1,pointRange:null}),k.rangebar=v(k.rangearea,{seriesType:"rangebar",translate:function(){var a,b=this,d=b.axisY;fa.translate.apply(b),c(b.points,function(b){var c=b.shapeArgs;b.plotHigh=a=d.translate(b.high,0,1,0,1),b.plotLow=b.plotY,c.y=a,c.height=b.plotY-a,b.trackerArgs=c})},drawGraph:W,pointAttrToOptions:fa.pointAttrToOptions,drawPoints:fa.drawPoints,drawTracker:fa.drawTracker,animate:fa.animate});var xa=y.prototype,ec=zb.prototype;xa.toXY=function(b){var c,d=this,e=a[d.chart.guid],f=b.plotX,g=b.plotY;b.rectPlotX=f,b.rectPlotY=g,b.deg=f/u*180,c=d.axisX.postTranslate(b.plotX,d.axisY.len-g),b.plotX=b.polarPlotX=c.x-e.plotLeft,b.plotY=b.polarPlotY=c.y-e.plotTop},H(k.area.prototype,"init",Xb),H(k.splinearea.prototype,"init",Xb),H(k.spline.prototype,"getPointSpline",function(A,g,k,p){var o,b,c,d,f,z,v,w,y,h,l,n,i,r,s,t,x,e,j=1.5,q=j+1;return a[this.chart.guid].enablePolarLayout?(b=k.plotX,c=k.plotY,d=g[p-1],f=g[p+1],this.connectEnds&&(d||(d=g[g.length-2]),f||(f=g[1])),d&&f&&(z=d.plotX,v=d.plotY,w=f.plotX,y=f.plotY,h=(j*b+z)/q,l=(j*c+v)/q,n=(j*b+w)/q,i=(j*c+y)/q,r=m.sqrt(m.pow(h-b,2)+m.pow(l-c,2)),s=m.sqrt(m.pow(n-b,2)+m.pow(i-c,2)),t=m.atan2(l-c,h-b),x=m.atan2(i-c,n-b),e=u/2+(t+x)/2,O(t-e)>u/2&&(e-=u),h=b+D(e)*r,l=c+I(e)*r,n=b+D(u+e)*s,i=c+I(u+e)*s,k.rightContX=n,k.rightContY=i),p?(o=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,h||b,l||c,b,c],d.rightContX=d.rightContY=null):o=["M",b,c]):o=A.call(this,g,k,p),o}),H(xa,"translate",function(e){var b=this;if(e.call(b),a[b.chart.guid].enablePolarLayout&&!b.preventPostTranslate)for(var c=b.points,d=c.length;d--;)b.toXY(c[d])}),H(xa,"getSegmentPath",function(e,b){var c=this,d=c.points;return a[c.chart.guid].enablePolarLayout&&c.options.connectEnds!==!1&&b[b.length-1]===d[d.length-1]&&null!==d[0].y&&(c.connectEnds=!0,b=[].concat(b,[d[0]])),e.call(c,b)}),H(xa,"animate",Ub),H(fa,"animate",Ub),H(xa,"setTooltipPoints",function(c,d){var b=this;return a[b.chart.guid].enablePolarLayout&&i(b.axisX,{tooltipLen:360,tooltipPosName:"deg"}),c.call(b,d)}),H(fa,"translate",function(k){var g,e,c,f,d=this,h=d.axisX,i=d.axisY.len,j=h.center,l=h.startAngleRad,m=a[d.chart.guid].renderer;if(d.preventPostTranslate=!0,k.call(d),h.radial)for(e=d.points,f=e.length;f--;)c=e[f],g=c.barX+l,c.shapeType="path",c.shapeArgs={d:m.symbols.arc(j[0],j[1],i-c.plotY,null,{start:g,end:g+c.dataPointWidth,innerR:i-b(c.yBottom,i)})},d.toXY(c)}),H(fa,"alignDataLabel",function(k,d,f,c,g,h){var e=this;if(a[e.chart.guid].enablePolarLayout){var i,j,b=d.rectPlotX/u*180;null===c.align&&(i=b>20&&160>b?"left":b>200&&340>b?"right":"center",c.align=i),null===c.verticalAlign&&(j=45>b||b>315?"bottom":b>135&&225>b?"top":"middle",c.verticalAlign=j),xa.alignDataLabel.call(e,d,f,c,g,h)}else k.call(e,d,f,c,g,h)}),H(ec,"_index",function(j,c){var d,e,f,h,i=this,b=a[i.chart.guid];return b.enablePolarLayout?(e=b.axisX[0].center,f=c.chartX-e[0]-b.plotLeft,h=c.chartY-e[1]-b.plotTop,d=180-g(m.atan2(f,h)/u*180)):d=j.call(i,c),d}),H(ec,"_coord",function(f,d){var b=a[this.chart.guid],e={axisX:[],axisY:[]};return b.enablePolarLayout?c(b.axes,function(a){var c=a.isXAxis,f=a.center,g=d.chartX-f[0]-b.plotLeft,h=d.chartY-f[1]-b.plotTop;e[c?"axisX":"axisY"].push({axis:a,value:a.translate(c?u-m.atan2(g,h):m.sqrt(m.pow(g,2)+m.pow(h,2)),!0)})}):e=f.call(this,d),e})}(jQuery,shield,this),function(a){a.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}}}(shield),function(a){a.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}}}(shield);
!function(o,d,fa,ga){var m=d.ui.Widget,ba=d.Constants,K=d.Class,g=document,F=ba.SVG_NS,e=!!g.createElementNS&&!!g.createElementNS(F,"svg").createSVGRect,H=o.map,b=d.to["int"],l=d.error,L="CODABAR",M="CODE-11",p="CODE-39",q="CODE-93",r="CODE-128",s="CODE-128-A",t="CODE-128-B",u="CODE-128-C",v="CODE-25-STANDARD",w="CODE-25-INTERLEAVED",x="EAN-8",y="EAN-13",z="UPC-A",A="UPC-E",B="MSI-10",C="MSI-10-10",D="MSI-11",N="MSI-11-10",aa="POSTNET",a={types:[],addType:function(a){this.types[a.prototype.type]=a},byType:function(a){return this.types[a]?new this.types[a]:null}},c=K.extend({type:null,validateRegExp:null,validate:function(a){return this.validateRegExp?new RegExp(this.validateRegExp).test(a):!0},encode:null,checksum:null}),$=c.extend({type:M,validateRegExp:"^[\\d\\-]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"};for(b=0;b<a.length;b++)c.length>0&&(c+="0"),c+=e[a.charAt(b)];return[c]},checksum:function(a){var b=this._checksum(a,10,11);return a.length>10&&(b+=this._checksum(a+b,9,11)+""),b},_checksum:function(d,f,g){var a,e=0,c=1;for(a=d.length-1;a>=0;a--)e+=c*("-"==d.charAt(a)?10:b(d.charAt(a))),c=c>=f?1:c+1;return e%g+""}});a.addType($);var f=c.extend({type:y,validateRegExp:"^[\\d]{12}$",encodingTable:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parityTable:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(d,i){i&&(d+=this.checksum(d));var b,j=d.substring(0,1),h=d.substring(1,7),f=d.substring(7),c="",e=[],a=0,g=this.encodingTable,k=this.parityTable;for(c+="101",e.push(0,1,2),b=0;b<h.length;b++)c+=g[h.charAt(b)][k[j][b]];for(c+="01010",a=c.length,e.push(a-5,a-4,a-3,a-2,a-1),b=0;b<f.length;b++)c+=g[f.charAt(b)].r;return c+="101",a=c.length,e.push(a-3,a-2,a-1),[c,e]},checksum:function(c){var a,d=0,e=1;for(a=c.length-1;a>=0;a--)d+=b(c.charAt(a))*(e++%2?3:1);return 10-d%10+""}});a.addType(f);var W=f.extend({type:x,validateRegExp:"^[\\d]{7}$",encode:function(d,i){i&&(d+=this.checksum(d));var b,f=d.substring(0,4),g=d.substring(4),c="",e=[],a=0,h=this.encodingTable;this.parityTable;for(c+="101",e.push(0,1,2),b=0;b<f.length;b++)c+=h[f.charAt(b)].lo;for(c+="01010",a=c.length,e.push(a-5,a-4,a-3,a-2,a-1),b=0;b<g.length;b++)c+=h[g.charAt(b)].r;return c+="101",a=c.length,e.push(a-3,a-2,a-1),[c,e]}});a.addType(W);var n=f.extend({type:z,validateRegExp:"^\\d{11}$",encode:function(c,d){var b=f.prototype.encode.call(this,"0"+c,d),a=b[0].length;return b[1].push(3,4,5,6,7,8,9,a-4,a-5,a-6,a-7,a-8,a-9,a-10),b},checksum:function(a){return 11==a.length&&(a="0"+a),f.prototype.checksum.call(this,a)}});a.addType(n);var Q=n.extend({type:A,validateRegExp:"^[0|1]\\d{6}$",_upce2upca:function(a){var b=a.substring(a.length-1);return"0"==b||"1"==b||"2"==b?a.substring(0,2)+a.charAt(5)+"0000"+a.substring(2,5):"3"==b?a.substring(0,3)+"00000"+a.substring(4,6):"4"==b?a.substring(0,4)+"00000"+a.charAt(4):a.substring(0,5)+"0000"+b},encode:function(c,j){var a,f=this.checksum(c),d="",g=c.charAt(0),e=c.substring(1),h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],i=h[b(f)][b(g)];for(a=0;a<e.length;a++)d+=this.encodingTable[e.charAt(a)]["O"==i.charAt(a)?"lo":"le"];return["101"+d+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(a){var b=a.charAt(0),c=a.substring(1);return n.prototype.checksum.call(this,b+this._upce2upca(c))}});a.addType(Q);var O=c.extend({type:p,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"};for(b=0;b<a.length;b++)b>0&&(c+="0"),c+=e[a.charAt(b)];return[c]},checksum:function(b){var a,c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",d=0;for(a=0;a<b.length;a++)d+=c.indexOf(b.charAt(a));return c.charAt(d%43)}});a.addType(O);var Y=c.extend({type:q,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"};for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return c+="1",[c]},checksum:function(a){var b=a.length;return a+=this._checksum(a,20,47),a+=this._checksum(a,15,47),a.substring(b,b+2)},_checksum:function(c,g,h){var d,a,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",f=0,b=1;for(a=c.length-1;a>=0;a--)d=e.indexOf(c.charAt(a)),f+=d*b++,b>g&&(b=1);return e.charAt(f%h)}});a.addType(Y);var P=c.extend({type:aa,validate:function(a){return/^\d+$/.test(a)&&(5==a.length||9==a.length||11==a.length)},encode:function(a,d){d&&(a+=this.checksum(a));var b,c="",e=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"];for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return["1"+c+"1"]},checksum:function(c){var a,d=0;for(a=0;a<c.length;a++)d+=b(c.charAt(a));return 10-d%10+""}});a.addType(P);var h=c.extend({validateRegExp:"^\\d+$",encode:function(a,d){d&&(a+=this.checksum(a));var b,c="",e=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"];for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return["110"+c+"1001"]},_mod10Checksum:function(e){var c,d=0,f=0;for(c=e.length-1;c>=0;c--){var a=b(e.charAt(c))*(f%2?1:2);a>9?(a+="",d+=b(a.charAt(0))+b(a.charAt(1))):d+=a,f++}return 9*d%10+""},_mod11Checksum:function(d){var a,e=0,c=2;for(a=d.length-1;a>=0;a--)e+=b(d.charAt(a))*c,c=c>=7?2:c+1;return 11-e%11+""}}),R=h.extend({type:B,checksum:function(a){return this._mod10Checksum(a)}});a.addType(R);var S=h.extend({type:C,checksum:function(a){var b=this._mod10Checksum(a);return b+this._mod10Checksum(a+b)}});a.addType(S);var T=h.extend({type:D,checksum:function(a){return this._mod11Checksum(a)}});a.addType(T);var U=h.extend({type:N,checksum:function(a){var b=this._mod11Checksum(a);return b+this._mod10Checksum(a+b)}});a.addType(U);var V=c.extend({type:L,validateRegExp:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(c,e){var a,b="",d={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"};for(a=0;a<c.length;a++)a>0&&(b+="0"),b+=d[c.charAt(a)];return[b]},checksum:function(a){return""}});a.addType(V);var i=c.extend({type:r,encodingTable:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(b){for(var a=0;a<b.length;a++)if(!this._getEncInfo(b.charAt(a)))return!1;return!0},_encode:function(g,b){b=b||!1;var c=this,a=[],d=c._findPrefix(g),e=d[0][0],h=d[1],f=d[2],i=b?"Start"+e:"Code"+e;return a=a.concat(c._encodeCodeset(h,i,e)),f&&f.length>0&&(a=a.concat(c._encode(f,!1))),a&&a.length>0&&(a[0]=a[0].replace("Code","Start")),a},_findPrefix:function(e){var g,c,b,d=this,f="",a="";for(c=0;c<e.length;c++)if(b=e.charAt(c),0!==c){if(g=a,d._getEncInfo(b,"A")||(a=a.replace("A","")),d._getEncInfo(b,"B")||(a=a.replace("B","")),d._getEncInfo(b,"C")||(a=a.replace("C","")),a.length<=0)return[g.split(""),f,e.substring(c)];f+=b}else d._getEncInfo(b,"A")&&(a+="A"),d._getEncInfo(b,"B")&&(a+="B"),d._getEncInfo(b,"C")&&(a+="C"),f+=b;return[a.split(""),e,""]},_encodeOptimized:function(c){var b=this,a=b._encode(c,!0);return a=b._optimizeForC(a),a=b._optimizeShifts(a),a&&a.length>0&&(a[0]=a[0].replace("Code","Start")),a},_optimizeForC:function(g){var c,d=this._splitOptimizeForC(g),e=d[0],b=d[1],f=d[2],a=[];if(e&&e.length>0&&(a=a.concat(e)),b&&b.length>0)for(a.push(b[0]),c=1;c<b.length;c+=2)a.push(b[c]+""+b[c+1]);return f&&f.length>0&&(a=a.concat(this._optimizeForC(f))),a},_splitOptimizeForC:function(a){if(!a||a.length<=0)return[[],[],[]];if(!/^(Code|Start)[A|B|C]$/.test(a[0]))return[a,[],[]];if(3==a.length&&/^\d$/.test(a[1])&&/^\d$/.test(a[2]))return[[],["CodeC",a[1],a[2]],[]];var b,h,e,g,i=[],f=[],j=[],c=-1,d=-1;for(b=0;b<a.length;b++)if(/^(Code|Start)[A|B|C]$/.test(a[b])&&(h=a[b].substring(a[b].length-1)),/^\d$/.test(a[b])&&-1==c&&(c=b,d=-1),c>-1&&!/^\d$/.test(a[b])&&(d=b-1),c>-1&&b>=a.length-1&&(d=b),c>-1&&d>-1){if(g=d-c+1,g>=4)return i=1==c?[]:a.slice(0,c),f=["CodeC"],e=d+(g%2===0?1:0),f=f.concat(a.slice(c,e)),e<a.length&&(j=["Code"+h].concat(a.slice(e))),[i,f,j];c=d=-1}return[a,[],[]]},_optimizeShifts:function(a){return a},_encodeCodeset:function(a,b,c){var d=this;return"A"==c?d._encodeA(a,b):"B"==c?d._encodeB(a,b):"C"==c?d._encodeC(a,b):null},_encodeA:function(a,b){return[b].concat(a.split(""))},_encodeB:function(a,b){return[b].concat(a.split(""))},_encodeC:function(b,d){var a,c=[d];for(a=0;a<b.length;a+=2)c.push(b.charAt(a)+b.charAt(a+1));return c},_getEncInfo:function(d,f){f=f||null;var c,a,e=this.encodingTable;for(a=0;a<e.length;a++)if(f){if(e[a][f]==d)return c=e[a],c.pos=a,c;if("100"==d||"101"==d||"102"==d)return c=e[b(d)],c.pos=a,c}else if(e[a].A==d||e[a].B==d||e[a].C==d)return c=e[a],c.pos=a,c;return null},encode:function(e,h){var a,c=this,d="",g=c.checksum(e),b=c._encodeOptimized(e),f=b[0].charAt(b[0].length-1);for(a=0;a<b.length;a++)d+=c._getEncInfo(b[a],f).E,/^(Start|Code)[A|B|C]$/.test(b[a])&&(f=b[a].charAt(b[a].length-1));return d+=c._getEncInfo(g,"C").E+c.encodingTable[106].E+"11",[d]},checksum:function(f){var b,a,c=this,d=c._encodeOptimized(f),e=c._getEncInfo(d[0]).pos;for(a=1;a<d.length;a++)e+=c._getEncInfo(d[a]).pos*a;return b=e%103,b>10?b+"":"0"+b}});a.addType(i);var X=i.extend({type:s,validate:function(b){for(var a=0;a<b.length;a++)if(!this._getEncInfo(b.charAt(a),"A"))return!1;return!0},_encodeOptimized:function(a){return this._encodeA(a,"StartA")}});a.addType(X);var ea=i.extend({type:t,validate:function(b){for(var a=0;a<b.length;a++)if(!this._getEncInfo(b.charAt(a),"B"))return!1;return!0},_encodeOptimized:function(a){return this._encodeB(a,"StartB")}});a.addType(ea);var Z=i.extend({type:u,validate:function(a){return/^\d+$/.test(a)&&a.length%2===0},_encodeOptimized:function(a){return this._encodeC(a,"StartC")}});a.addType(Z);var I=c.extend({type:v,validateRegExp:"^[\\d\\-]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="["+a+"]";var b,c="",e={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"};for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return[c]},checksum:function(a){return this._checksum(a,3,1,10)},_checksum:function(e,c,i,f){var b,g,h="0123456789",a=0,d=c;for(b=e.length-1;b>=0;b--)g=h.indexOf(e.charAt(b)),a+=g*d,d=d==c?i:c;return a%=f,0!==a&&(a=f-a),h.charAt(a)}});a.addType(I);var _=I.extend({type:w,encode:function(a,e){e&&(a+=this.checksum(a)),a.length%2!==0&&(a="0"+a),a="["+a+"]";var b,c,d="",f={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"};for(b=0;b<a.length;b+=c)c=isNaN(a.charAt(b))?1:2,d+=f[a.substr(b,c)];return[d]}});a.addType(_);for(var j={types:[],addType:function(a){this.types[a.prototype.type]=a},byType:function(a,b){return this.types[a]?new this.types[a](b):null}},J=K.extend({type:null,init:function(a){var c=this,b=a.style;c.options=a,c.width=a.width-b.paddingLeft-b.paddingRight,c.height=a.height-b.paddingTop-b.paddingBottom,e||g.namespaces.scvbarcode||g.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(j,i){var a=this,f=a.options,b=f.style,n=f.text,h=n.style,c="",k=function(a){return o("<div/>").html(a).text()},g="",l=k(a.width>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),m=k("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");d.guid();return b.paddingLeft&&(c+="margin-left:"+b.paddingLeft+"px;"),b.paddingTop&&(c+="margin-top:"+b.paddingTop+"px;"),b.paddingBottom&&(c+="margin-bottom:"+b.paddingBottom+"px;"),b.paddingRight&&(c+="margin-right:"+b.paddingRight+"px;"),g+=e?'<text x="'+a.width+'" y="'+(a.height-h.paddingBottom)+'" fill="#999999" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+m+"';\">"+l+"</text>":'<div style="position:absolute; width:'+(a.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(f.height-12-h.paddingBottom)+'px; font-size:12px;"><a href="'+m+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+l+"</a></div>",e?'<svg xmlns="'+F+'" version="1.1" width="'+a.width+'" height="'+a.height+'" shape-rendering="crispEdges"'+(c?' style="'+c+'" ':"")+">"+j+i+g+"</svg>":'<scvbarcode:group style="position:relative; width:'+a.width+"px; height:"+a.height+"px; "+c+'" coordsize="'+a.width+","+a.height+'">'+j+i+g+"</scvbarcode:group>"},barcode:function(l){for(var m,a,d=this,v=d.options,q=v.style,r=d.options.text,g=r.style,h=l[0],i=l[1]||[],w=r.enabled?g.fontSize+g.paddingTop+g.paddingBottom:0,j=d.width/h.length,o=d.height-w-(i.length>0?5:0),u=o+5,k=[],c=0;c<h.length;c++){var s=h.charAt(c);if("1"==s){for(var t=c*j,p=o,f=0;f<i.length;f++)if(i[f]==c){p=u;break}var n={x1:t,y1:0,x2:t,y2:p,w:j};1==b(m)&&(a=k.pop(),n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.w+j}),k.push(n)}m=s}return H(k,function(a){return e?'<line x1="'+(a.x1+a.w/2)+'" y1="'+a.y1+'" x2="'+(a.x2+a.w/2)+'" y2="'+a.y2+'" style="stroke:'+q.color+"; stroke-width:"+a.w+'" />':'<scvbarcode:line from="'+(a.x1+a.w/2)+","+a.y1+'" to="'+(a.x2+a.w/2)+","+a.y2+'" strokecolor="'+q.color+'" strokeweight="'+a.w+'px;" stroke="true" />'}).join("")},text:function(d){var b=this,c=b.options.text,a=c.style,f=c.enabled?a.fontSize+a.paddingTop+a.paddingBottom:0;return c.enabled?e?'<text x="'+b.width/2+'" y="'+(b.height-a.paddingBottom)+'" fill="'+a.color+'" text-anchor="middle" font-size="'+a.fontSize+'" font-family="'+a.fontFamily+';">'+d+"</text>":'<div style="position:absolute; width:'+b.width+"px; text-align:center; color:"+a.color+"; top:"+(b.options.height-f-a.paddingBottom)+"px; font-size:"+a.fontSize+"px; font-family:"+a.fontFamily+';">'+d+"</div>":""}}),E=[L,M,p,q,r,s,t,u,x,y,z,A,B,C,D,N,v,w],k=0;k<E.length;k++)j.addType(J.extend({type:E[k]}));var da=J.extend({type:"POSTNET",barcode:function(m){for(var a=this,n=a.options,g=n.style,f=a.options.text,c=f.style,d=m[0],l=f.enabled?c.fontSize+c.paddingTop+c.paddingBottom:0,h=a.width/(2*d.length-1),i=a.height-l,j=[],b=0;b<d.length;b++){var k=b*h*2,o="1"==d.charAt(b)?0:i/2;j.push({x1:k,y1:o,x2:k,y2:i,w:h})}return H(j,function(a){return e?'<line x1="'+(a.x1+a.w/2)+'" y1="'+a.y1+'" x2="'+(a.x2+a.w/2)+'" y2="'+a.y2+'" style="stroke:'+g.color+"; stroke-width:"+a.w+'" />':'<scvbarcode:line from="'+(a.x1+a.w/2)+","+a.y1+'" to="'+(a.x2+a.w/2)+","+a.y2+'" strokecolor="'+g.color+'" strokeweight="'+a.w+'px;" stroke="true" />'}).join("")}});j.addType(da);var ca={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},G=m.extend({init:function(){m.fn.init.apply(this,arguments);var d,i,n,k=this,b=k.options,f=b.style,g=b.type,h=b.dieOnError,c=b.value+"",e=a.byType(g),p=o(k.element),q="";return e?e.validate(c)?(d=j.byType(g,b))?(p.css({background:f.background,borderColor:f.borderColor,borderStyle:f.borderStyle,borderWidth:f.borderWidth,width:b.width,height:b.height}),i=e.encode(c,b.checksum),n=d.barcode(i),b.text.enabled&&(q=d.text(c+(b.text.checksum?e.checksum(c):""))),void p.html(d.all(n,q))):void l("Invalid barcode type (2)",h):void l("Invalid barcode value: "+c,h):void l("Invalid barcode type: "+g,h)},destroy:function(){this.element.empty(),m.fn.destroy.call(this)}});G.defaults=ca,d.ui.plugin("Barcode",G)}(jQuery,shield,this);
!function(f,d,B,A){var m=d.ui.Widget,t=d.Constants,p=d.Class,e=document,s=t.SVG_NS,l=!!e.createElementNS&&!!e.createElementNS(s,"svg").createSVGRect,o=f.map,a=d.to["int"],j=d.error,c=function(b){return a(b,10).toString(2)},z=function(b){return a(b,2)},b=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},q=function(a,b){for(a+="";a.length<b;)a+="0";return a},n="byte",g="numeric",h="alphanumeric",i={modes:[],addMode:function(a){this.modes[a.prototype.mode]=a},byMode:function(a){return this.modes[a]?new this.modes[a]:null}},k=p.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8e3,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",10000:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11000:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(a){return this.validateRegex?new RegExp(this.validateRegex).test(a):!0},encode:function(d,c){var e,o,i,n,b=this,f=b._getVersion(d,c),p=4,j=21+4*(f-1),k=j+2*p,l=f+c,g=b._getFormatData(d,c),a=b.encodeValue(d),h=b._getDataLength(d,c),m=h-(g.length+a.length)>4?4:h-(g.length+a.length);return a=q(a,a.length+m),e=b._getBinaryValues(g+a),a=e.join(""),a=b._padEncodedToLength(a,h),e=b._getBinaryValues(a),i=b._getIntegerValues(e),a=b._getEC(l,o,i),n=b._getBinaryMatrix(a,f,j,k,c)},encodeValue:null,_getBinaryMatrix:function(s,j,g,h,r){var l,p,k,m,f,i,b,a,e=this,o=["000","001","010","011","100","101","110","111"],q=[],c=[],d=[],n=e._getPositionAdjustmentsTable();for(f=0;h>f;f++)for(c[f]=[],i=0;h>i;i++)c[f][i]=0;for(f=0;g>f;f++)d.push(new Array(g));if(e._fullFinderPattern(c,4,4),e._fillFinderPatternFilledValues(d,0,0),e._fullFinderPattern(c,4,h-11),e._fillFinderPatternFilledValues(d,0,g-8),e._fullFinderPattern(c,h-11,4),e._fillFinderPatternFilledValues(d,g-8,0),e._fillTimingPattern(c,d,g),c[h-12][12]=1,d[h-16][8]=1,j>1)for(f=0;f<n[j].length;f++)for(i=0;i<n[j].length;i++)b=n[j][f]+4,a=n[j][i]+4,10==b&&10==a||10==b&&a==h-11||b==h-11&&10==a||(c[b-2][a-2]=1,d[b-6][a-6]=1,c[b-2][a-1]=1,d[b-6][a-5]=1,c[b-2][a]=1,d[b-6][a-4]=1,c[b-2][a+1]=1,d[b-6][a-3]=1,c[b-2][a+2]=1,d[b-6][a-2]=1,c[b-1][a-2]=1,d[b-5][a-6]=1,c[b-1][a-1]=0,d[b-5][a-5]=1,c[b-1][a]=0,d[b-5][a-4]=1,c[b-1][a+1]=0,d[b-5][a-3]=1,c[b-1][a+2]=1,d[b-5][a-2]=1,c[b][a-2]=1,d[b-4][a-6]=1,c[b][a-1]=0,d[b-4][a-5]=1,c[b][a]=1,d[b-4][a-4]=1,c[b][a+1]=0,d[b-4][a-3]=1,c[b][a+2]=1,d[b-4][a-2]=1,c[b+1][a-2]=1,d[b-3][a-6]=1,c[b+1][a-1]=0,d[b-3][a-5]=1,c[b+1][a]=0,d[b-3][a-4]=1,c[b+1][a+1]=0,d[b-3][a-3]=1,c[b+1][a+2]=1,d[b-3][a-2]=1,c[b+2][a-2]=1,d[b-2][a-6]=1,c[b+2][a-1]=1,d[b-2][a-5]=1,c[b+2][a]=1,d[b-2][a-4]=1,c[b+2][a+1]=1,d[b-2][a-3]=1,c[b+2][a+2]=1,d[b-2][a-2]=1);for(j>=7&&e._fillHigherVersionData(c,d,j,g,h),m=0;8>m;m++){for(l=0,k=[],f=0;f<c.length;f++)k.push(c[f].slice(0));e._fillFormatData(c,d,g,h,o[m],r),e._fillMatrix(d,k,o[m],g,s),l+=e._calcPenalty1(k,g),l+=e._calcPenalty2(k,g),l+=e._calcPenalty3(k,g),l+=e._calcPenalty4(k,g),q.push(l)}return p=e._getSmallestPenaltyIndex(q),e._fillFormatData(c,d,g,h,o[p],r),e._fillMatrix(d,c,o[p],g,s),c},_fillHigherVersionData:function(a,b,g,c,d){var e=this,h={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]},f=h[g];e._fillUpperVersionInformation(a,b,f,c,d),e._fillLowerVersionInformation(a,b,f,c,d)},_fillUpperVersionInformation:function(c,d,e,h,i){var a,f=i-15,g=h-11,b=0;for(a=4;10>a;a++)c[a][f]=e[b],d[a-4][g]=1,b++,c[a][f+1]=e[b],d[a-4][g+1]=1,b++,c[a][f+2]=e[b],d[a-4][g+2]=1,b++},_fillLowerVersionInformation:function(c,d,e,h,i){var a,f=i-13,g=h-9,b=0;for(a=4;10>a;a++)c[f][a]=e[b],d[g][a-4]=1,b++,c[f-1][a]=e[b],d[g-1][a-4]=1,b++,c[f-2][a]=e[b],d[g-2][a-4]=1,b++},_getSmallestPenaltyIndex:function(b){var a,d=b[0],c=0;for(a=0;a<b.length;a++)b[a]<d&&(c=a);return c},_calcPenalty1:function(e,f){var g,a,b,c,d=0;for(a=0;f>a;a++)for(c=1,b=1;f>b;b++)g=e[a+4][b+4],g===e[a+4][b+3]?(c++,5==c?d+=3:c>5&&d++):c=1;for(b=0;f>b;b++)for(c=1,a=1;f>a;a++)g=e[a+4][b+4],g===e[a+3][b+4]?(c++,5===c?d+=3:c>5&&d++):c=1;return d},_calcPenalty2:function(c,e){var d,a,b,f=0;for(a=0;e-1>a;a++)for(b=0;e-1>b;b++)d=c[a+4][b+4],d==c[a+4][b+5]&&d==c[a+5][b+4]&&d==c[a+5][b+5]&&(f+=3);return f},_calcPenalty3:function(c,d){var a,b,e=0;for(a=0;d>a;a++)for(b=0;d-7>=b;b++)c[a+4][b+4]&&!c[a+4][b+5]&&c[a+4][b+6]&&c[a+4][b+7]&&c[a+4][b+8]&&!c[a+4][b+9]&&c[a+4][b+10]&&(e+=40);for(b=0;d>b;b++)for(a=0;d-7>=a;a++)c[a+4][b+4]&&!c[a+5][b+4]&&c[a+6][b+4]&&c[a+7][b+4]&&c[a+8][b+4]&&!c[a+9][b+4]&&c[a+10][b+4]&&(e+=40);return e},_calcPenalty4:function(g,e){var b,c,h=0,d=0,f=0;for(b=0;e>b;b++)for(c=0;e>c;c++)g[b+4][c+4]?d++:f++;return h=a(2*(d/(d+f)*100-50))},_fillFormatData:function(b,d,e,i,j,l){var h=this,k=h._errorCorrectionToMask[l]+j,c=h._formatInformation[k],g=i-5,f=i-5;b[12][4]=a(c.charAt(0)),b[12][5]=a(c.charAt(1)),b[12][6]=a(c.charAt(2)),b[12][7]=a(c.charAt(3)),b[12][8]=a(c.charAt(4)),b[12][9]=a(c.charAt(5)),b[12][11]=a(c.charAt(6)),b[12][12]=a(c.charAt(7)),b[11][12]=a(c.charAt(8)),b[9][12]=a(c.charAt(9)),b[8][12]=a(c.charAt(10)),b[7][12]=a(c.charAt(11)),b[6][12]=a(c.charAt(12)),b[5][12]=a(c.charAt(13)),b[4][12]=a(c.charAt(14)),b[g][12]=a(c.charAt(0)),b[g-1][12]=a(c.charAt(1)),b[g-2][12]=a(c.charAt(2)),b[g-3][12]=a(c.charAt(3)),b[g-4][12]=a(c.charAt(4)),b[g-5][12]=a(c.charAt(5)),b[g-6][12]=a(c.charAt(6)),b[12][f-7]=a(c.charAt(7)),b[12][f-6]=a(c.charAt(8)),b[12][f-5]=a(c.charAt(9)),b[12][f-4]=a(c.charAt(10)),b[12][f-3]=a(c.charAt(11)),b[12][f-2]=a(c.charAt(12)),b[12][f-1]=a(c.charAt(13)),b[12][f]=a(c.charAt(14)),d[8][0]=1,d[8][1]=1,d[8][2]=1,d[8][3]=1,d[8][4]=1,d[8][5]=1,d[8][7]=1,d[8][8]=1,d[7][8]=1,d[5][8]=1,d[4][8]=1,d[3][8]=1,d[2][8]=1,d[1][8]=1,d[0][8]=1,d[e-1][8]=1,d[e-2][8]=1,d[e-3][8]=1,d[e-4][8]=1,d[e-5][8]=1,d[e-6][8]=1,d[e-7][8]=1,d[8][e-8]=1,d[8][e-7]=1,d[8][e-6]=1,d[8][e-5]=1,d[8][e-4]=1,d[8][e-3]=1,d[8][e-2]=1,d[8][e-1]=1},_fillMatrix:function(e,f,g,j,h){var a,b,i=this,c=0,d=!0;for(a=j-1;a>=0;a-=2)if(6==a&&a--,d){for(b=j-1;b>=0;b--)e[b][a]||(i._fillModule(b,a,c,f,g,h),c++),a-1>=0&&!e[b][a-1]&&(i._fillModule(b,a-1,c,f,g,h),c++);d=!d}else{for(b=0;j>b;b++)e[b][a]||(i._fillModule(b,a,c,f,g,h),c++),a-1>=0&&!e[b][a-1]&&(i._fillModule(b,a-1,c,f,g,h),c++);d=!d}},_fillModule:function(a,b,c,d,e,f){var g=this;c<f.length?g._fillCharacter(a,b,f.charAt(c),d,e):g._fillCharacter(a,b,"0",d,e)},_fillCharacter:function(a,b,d,f,g){var c,e;switch(g){case"000":c=(a+b)%2===0;break;case"001":c=a%2===0;break;case"010":c=b%3===0;break;case"011":c=(a+b)%3===0;break;case"100":c=(a/2+b/3)%2===0;break;case"101":c=a*b%2+a*b%3===0;break;case"110":c=(a*b%2+a*b%3)%2===0;break;case"111":c=((a+b)%2+a*b%3)%2===0;break;default:c=(a+b)%2===0}e=c?"0"==d?1:0:"0"==d?0:1,f[a+4][b+4]=e},_fillTimingPattern:function(d,e,f){for(var a=10,b=12,c=!0;f-4>b;)c&&(d[a][b]=1),e[a-4][b-4]=1,c=!c,b++;for(b=10,a=12,c=!0;f-4>a;)c&&(d[a][b]=1),e[a-4][b-4]=1,c=!c,a++},_fullFinderPattern:function(d,b,c){var a;for(a=0;7>a;a++)d[b+a][c]=1,d[b][c+a]=1,d[b+a][c+6]=1,d[b+6][c+a]=1;for(b+=2,c+=2,a=0;3>a;a++)d[b+a][c]=1,d[b+a][c+1]=1,d[b+a][c+2]=1},_fillFinderPatternFilledValues:function(g,a,b){var c,d,e,f;for(0===a&&0===b?c=d=8:0===a&&b>0?(c=8,d=b+8):(c=a+8,d=8),e=a;c>e;e++)for(f=b;d>f;f++)g[e][f]=1},_getEC:function(E,F,y){for(var u,v,r=this,B=r._getCodewordsLengthTable(),e=B[E],p=0,j=[],h=[],g=[],f=[],k=[],i=[],q=[],o=[],x=e.firstBlockCount,w=e.secondBlockCount,m=[],n=[];x>0;x--){for(m=[],u=0;u<e.firstDataCodeWords;u++)m[m.length]=y[p],p++;j[j.length]=m,k[k.length]=r._getErrorCorrectionForBlock(m,e)}for(;w>0;w--){for(n=[],v=0;v<e.secondBlockCodeWords;v++)n[n.length]=y[p],p++;h[h.length]=n,i[i.length]=r._getErrorCorrectionForBlock(n,e)}var l,z=e.firstDataCodeWords*e.firstBlockCount+e.secondBlockCodeWords*e.secondBlockCount,A=e.codewordsPerBlock*e.firstBlockCount+e.codewordsPerBlock*e.secondBlockCount,a=0,s=j.length+h.length;for(l=0;s>l;l++)0===a?j.length>0?(g[g.length]=j[0],j.splice(0,1)):(g[g.length]=h[0],a++,h.splice(0,1)):1===a&&h.length>0&&(g[g.length]=h[0],h.splice(0,1));for(a=0,s=k.length+i.length,l=0;s>l;l++)0===a?k.length>0?(f[f.length]=k[0],k.splice(0,1)):(f[f.length]=i[0],a++,i.splice(0,1)):1===a&&i.length>0&&(f[f.length]=i[0],i.splice(0,1));var d,C=g.length,D=f.length,t="";for(a=0,d=0;z>d;d++)a===C&&(a=0),g[a].length>0?(q[q.length]=g[a][0],g[a].splice(0,1),a++):(a++,d--);for(a=0,d=0;A>d;d++)a===D&&(a=0),f[a].length>0?(o[o.length]=f[a][0],f[a].splice(0,1),a++):(a++,d--);for(d=0;d<q.length;d++)t+=b(c(q[d]),8);for(d=0;d<o.length;d++)t+=b(c(o[d]),8);return t},_getErrorCorrectionForBlock:function(f,i){var c,a,e,g,h=i.codewordsPerBlock,b=[],d=[],j=0,k={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},l=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],m=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175];for(c=0;c<f.length+h;c++)d[j++]=c<f.length?f[c]:0;for(c=0;c<f.length;c++)if(e=d[0],d.splice(0,1),0!==e){for(b=k[h].slice(0),e=m[e],a=0;a<b.length;a++)g=e+b[a],g>255&&(g%=255),b[a]=g;for(a=0;a<b.length;a++)b[a]=l[b[a]];for(a=0;a<b.length;a++)d[a]=d[a]^b[a]}return d},_getIntegerValues:function(a){return o(a,function(a){return z(a)})},_getBinaryValues:function(b){var a,c=[];for(a=0;a<b.length;a+=8)a+8<=b.length?c.push(b.substr(a,8)):c.push(q(b.substring(a),8));return c},_padEncodedToLength:function(a,b){if(a.length>=b)return a.substr(0,b);for(var c=a,e="11101100",f="00010001",d=!0;c.length<b;)c+=d?e:f,d=!d;return c},_getVersion:function(b,c){var a,d=b.length;for(a=1;39>a&&!(this._verErrLenTable[a+""+c]/8>=d);a++);return a+1},_getDataLength:function(c,a){var b=this;return b._verErrLenTable[b._getVersion(c,a)+""+a]},_getFormatData:function(a,d){return this.codeMode+b(c(a.length),this._getFormatLengthTotal(a,d))},_getFormatLengthTotal:function(d,e){var c=this,a=c.mode,b=c._getVersion(d,e);return b>=1&&9>=b?a==g?10:a==h?9:8:b>=10&&26>=b?a==g?12:a==h?11:a==n?16:10:a==g?14:a==h?13:a==n?16:12},_getCodewordsLengthTable:function(){var b=this;if(b._clt)return b._clt;var d,e,c=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],f=["L","M","Q","H"],a=0;for(b._clt={},d=1;40>=d;d++)for(e=0;e<f.length;e++)b._clt[d+""+f[e]]={codewordsPerBlock:c[a],firstBlockCount:c[a+1],firstDataCodeWords:c[a+2],secondBlockCount:c[a+3],secondBlockCodeWords:c[a+4]},a+=5;return b._clt},_getPositionAdjustmentsTable:function(){var a=[],b=2;return a[b++]=[6,18],a[b++]=[6,22],a[b++]=[6,26],a[b++]=[6,30],a[b++]=[6,34],a[b++]=[6,22,38],a[b++]=[6,24,42],a[b++]=[6,26,46],a[b++]=[6,28,50],a[b++]=[6,30,54],a[b++]=[6,32,58],a[b++]=[6,34,62],a[b++]=[6,26,46,66],a[b++]=[6,26,48,70],a[b++]=[6,26,50,74],a[b++]=[6,30,54,78],a[b++]=[6,30,56,82],a[b++]=[6,30,58,86],a[b++]=[6,34,62,90],a[b++]=[6,28,50,72,94],a[b++]=[6,26,50,74,98],a[b++]=[6,30,54,78,102],a[b++]=[6,28,54,80,106],a[b++]=[6,32,58,84,110],a[b++]=[6,30,58,86,114],a[b++]=[6,34,62,90,118],a[b++]=[6,26,50,74,98,122],a[b++]=[6,30,54,78,102,126],a[b++]=[6,26,52,78,104,130],a[b++]=[6,30,56,82,108,134],a[b++]=[6,34,60,86,112,138],a[b++]=[6,30,58,86,114,142],a[b++]=[6,34,62,90,118,146],a[b++]=[6,30,54,78,102,126,150],a[b++]=[6,24,50,76,102,128,154],a[b++]=[6,28,54,80,106,132,158],a[b++]=[6,32,58,84,110,136,162],a[b++]=[6,26,54,82,110,138,166],a[b++]=[6,30,58,86,114,142,170],a}}),u=k.extend({mode:g,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(d){for(var e=[];d.length>0;)d.length>2?(e.push(b(c(a(d.substr(0,3))),10)),d=d.substr(3)):2===d.length?(e.push(b(c(a(d)),7)),d=""):(e.push(b(c(a(d)),4)),d="");return 0===e.length&&e.push(b(c(0),4)),e.join("")}});i.addMode(u);var v=k.extend({mode:n,codeMode:"0100",validateRegex:"^[0-9A-Za-z'\\\r\\\n\\ \\!\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\\\]\\^\\_\\`\\{\\|\\}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\]+$",encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","":"126","":"161","":"162","":"163","":"164","":"165","":"166","":"167","":"168","":"169","":"170","":"171","":"172","":"173","":"174","":"175","":"176","":"177","":"178","":"179","":"180","":"181","":"182","":"183","":"184","":"185","":"186","":"187","":"188","":"189","":"190","":"191","":"192","":"193","":"194","":"195","":"196","":"197","":"198","":"199","":"200","":"201","":"202","":"203","":"204","":"205","":"206","":"207","":"208","":"209","":"210","":"211","":"212","":"213","":"214","":"215","":"216","":"217","":"218","":"219","":"220","":"221","":"222","":"223"},encodeValue:function(e){var d,g=this,f=[];for(d=0;d<e.length;d++)f.push(b(c(a(g.encodingTable[e.charAt(d)])),8));return f.join("")}});i.addMode(v);var w=k.extend({mode:h,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(h){var l,d,j,m,e,o=this,n=h.length%2!==0,g=[],f=[],k=[],i=0;for(d=0;d<h.length;d++)l=h.charAt(d),g[d]=o.encodingTable[l];for(d=0;d<g.length;d+=2)j=g[d],d+1<=g.length-1?(m=g[d+1],f[i]=a(45*j)+a(m)):f[i]=j,i++;for(d=0;d<f.length;d++)e=c(f[d]),n&&d===f.length-1?(e=b(e,6),k[d]=e):(e=b(e,11),k[d]=e);return k.join("")}});i.addMode(w);var x=p.extend({init:function(a){var b=this,c=a.style;b.options=a,b.size=a.size-2*c.padding,l||e.namespaces.sqrv||(e.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),e.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(i){var g,h,v=this,b=v.size,w=v.options,e=w.style,c=b/i.length,k="",m=[],r=function(a){return f("<div/>").html(a).text()},q="",p=b>200?12:10,t=r(b>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),u=r("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");d.guid();for(e.padding&&(k+="margin:"+e.padding+"px;"),g=0;g<i.length;g++)for(h=0;h<i[g].length;h++)i[g][h]&&m.push({x:h*c,y:g*c});if(q+=l?'<text x="'+b+'" y="'+b+'" fill="#999999" text-anchor="end" font-size="'+p+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+u+"'; margin:0; padding:0;\">"+t+"</text>":'<div style="position:absolute; display:block; width:'+b+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(b-p-2)+"px; left:0px; font-size:"+p+'px;"><a href="'+u+'" style="color:#999999; text-decoration:none;">'+t+"</a></div>",l)return'<svg xmlns="'+s+'" version="1.1" width="'+b+'" height="'+b+'" shape-rendering="crispEdges"'+(k?' style="'+k+'" ':"")+">"+q+'<path d="'+o(m,function(a){return"M"+a.x+" "+a.y+" L"+(a.x+c)+" "+a.y+" L"+(a.x+c)+" "+(a.y+c)+" L"+a.x+" "+(a.y+c)+" z"}).join(" ")+'" fill="'+e.color+'" stroke="'+e.color+'" stroke-width="0" /></svg>';var n=1e4/b,j=a(c*n),x=o(m,function(d){var b=a(d.x*n),c=a(d.y*n);return"m"+b+","+c+" l"+(b+j)+","+c+","+(b+j)+","+(c+j)+","+b+","+(c+j)}).join(" ")+" e";return'<sqrv:shape style="z-index:200; position:absolute; width:'+b+"px; height:"+b+"px; display:block; "+k+'" coordsize="10000,10000" path="'+x+'" filled="t" fillcolor="'+e.color+'" stroked="f" strokecolor="'+e.color+'" strokeweight="0">'+q+"</sqrv:shape>"}}),y={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},r=m.extend({init:function(p,o){m.fn.init.apply(this,arguments);var k,e=this,a=e.options,c=a.style,d=a.value,l=(a.mode+"").toLowerCase(),b=a.errorLevel,h=a.dieOnError,g=i.byMode(l),n=new x(a);return f(e.element).css({background:c.background,borderColor:c.borderColor,borderStyle:c.borderStyle,borderWidth:c.borderWidth,width:a.size,height:a.size}),g?g.validate(d)?"L"!=b&&"M"!=b&&"Q"!=b&&"H"!=b?void j("Invalid errorLevel: "+b,h):(k=g.encode(d,b),void f(e.element).html(n.all(k))):void j("Invalid qrcode value: "+d,h):void j("Invalid qrcode mode: "+l,h)},destroy:function(){this.element.empty(),m.fn.destroy.call(this)}});r.defaults=y,d.ui.plugin("QRcode",r)}(jQuery,shield,this);
!function(a,d,t,b){var V,I,Z,P,$,F,aa,H,h=d.ui.Widget,A=(d.Class,d.DataSource),ba=d.ui.Position,r=d.Constants.KeyCode,ea=document,ca=Math.abs,E=Math.min,S=Math.max,e=a.proxy,ga=a.each,_=a.map,ja=d.to,j=d.format,O=d.error,o=d.is,c=o.defined,W=o.string,D=o.object,ka=o.func,U=o["null"],fa=o.number,la=d.is["boolean"],u="mouseenter",x="mouseleave",s="click",L="focus",M="blur",N="change",z="title",n="center",T="middle",g="left",f="right",p="up",q="down",k="top",m="bottom",i="horizontal",Y="vertical",ia="collapse",ha="expand",w="resize",C="tabindex",l="disabled",y="suiaccitemindex",Q="suiaccitemdata",da="suiaccitemloaded",K="suiaccelparent",G="suiaccelprev",v={top:m,bottom:k,left:f,right:g,center:n},B="sui-tooltip-title",X="sui-tooltip-sto",R="sui-tooltip-hto",J="sui-tooltip-target-hover";V={cls:b,enabled:!0,visible:b,width:b,height:b,delay:100,filter:b,content:function(b){return a(b).data(B)},position:k,trigger:u,autoHide:!0,callout:!0,events:{}},I=h.extend({init:function(){h.fn.init.apply(this,arguments);var i,r,q,j,l,b=this,d=b.options,p=d.content,f=d.position,E=d.cls,t=d.filter,o=d.trigger,y=d.autoHide,z=d.visible,A=d.width,B=d.height,C=d.callout,w=a(b.element);return!D(p)||p.remote&&p.remote.url?(b._eventNS=".shieldTooltip"+b.getInstanceId(),b._currentTarget=null,b._tooltip=i=a("<div/>").appendTo(ea.body),i.addClass("sui-tooltip"+(E?" "+E:"")),l={position:"absolute"},c(A)&&(l.width=A),c(B)&&(l.height=B),i.css(l),b._content=a('<div class="sui-tooltip-content"></div>').appendTo(i),y||i.addClass("sui-tooltip-with-button").append('<div class="sui-tooltip-button">&times;</div>').click(e(b._hide,b,!0)),D(f)?b._pos=f:(q=v[f]?v[f]:m,j=v[f]?f:k,C&&f!=n&&(j+=j==g||j==k?"-5":"+5"),b._pos={source:q,target:j,overflow:"flipfit"}),C&&(b._pos.callback=e(b._posSet,b)),b._targets=r=t?w.find(t):w,b._showEvent=o,b._hideEvent=null,y&&(o==u||o==s?b._hideEvent=x:o==L&&(b._hideEvent=M)),r.each(function(d){var c=a(this);c.on(u+b._eventNS,e(b._targetMouseEnter,b,c)).on(x+b._eventNS,e(b._targetMouseLeave,b,c)).on(b._showEvent+b._eventNS,e(b._onShow,b,c,!0)),b._hideEvent&&c.on(b._hideEvent+b._eventNS,e(b._onHide,b,c,!0))}),b._destroyed=!1,b.enabled(!!d.enabled),void(c(z)&&b.visible(z))):void O("shieldTooltip: Invalid content options",d.dieOnError)},_targetMouseEnter:function(a){a.addClass(J),a.attr(z)&&a.data(B,a.attr(z)).removeAttr(z)},_targetMouseLeave:function(a){a.removeClass(J),a.data(B)&&a.attr(z,a.data(B))},_onShow:function(c,d){var b=this;if(b._enabled){var f=(b._tooltip,setTimeout(e(b._show,b,c,d),b.options.delay));c.one(x,function(){var c=a(this),b=c.data(X);b&&clearTimeout(b)}).data(X,f)}},_onHide:function(d,c){var b=this,f=b._tooltip,g=setTimeout(e(b._hide,b,c),50);f.one(u,function(){var b=a(this),c=b.data(R);c&&(clearTimeout(c),b.data(R,null))}).one(x,function(){setTimeout(function(){d.hasClass(J)||b._hide(b,c)},50)}).data(R,g)},_show:function(d,k){var c,g,e,a=this,f=a.options,b=f.content,h=f.height,i=a._tooltip,j=a._content;a._destroyed||a._currentTarget!=d&&(k&&(e=a.trigger("show",{target:d}),e.isDefaultPrevented())||(W(b)?c=b:D(b)?b.remote.iframe?c='<iframe class="sui-tooltip-iframe" src="'+b.remote.url+'" style="border:none; border-width:0px; width:100%; height:'+(h?h+"px":"100%")+';"></iframe>':(g=!0,c=" "):ka(b)&&(c=b(d)),c&&(i.show(),a._currentTarget=d,g?j.load(b.remote.url):j.html(c),a._visible=!0,ba.Set(i,d,a._pos))))},_hide:function(d){var c,b=this;b._currentTarget&&(d&&(c=b.trigger("hide"),c.isDefaultPrevented())||(a(b._tooltip).hide().find(".sui-tooltip-callout-container").remove(),b._currentTarget=null,b._visible=!1))},_posSet:function(p){var z,c,h,u,i,s,r,b,A=this,B=A.options,y=A._tooltip,o=p.horizontal,q=p.vertical,e=(p.important,p.element),j=p.target,w=e.width,x=e.height,l=6;if(B.callout){if(o==n&&q==T)return;if(o==n||q==T)c=o==n?q:o,u=v[c],h={source:u,target:c+(u==m||u==f?"+1":"-1")};else if(i=d.ui.Util.GetWithinInfo(t),o==g&&e.left-i.scrollLeft>3&&(c=g,h={source:f,target:g+"+1"}),o==f&&i.scrollLeft+i.width-e.left-e.width>3&&(c=f,h={source:g,target:f+"-1"}),c&&(s=e.top+x/2,r=j.top+j.height-(j.top+j.height-i.scrollTop)/2,b=s-r,ca(b)>x/2-l&&(b=b>0?x/2-l:l-x/2),0!==b&&(h.target+=" "+n+(b>0?"-"+b:"+"+b))),c||(q==k&&e.top-i.scrollTop>3&&(c=k,h={source:m,target:k+"+1"}),q==m&&i.scrollTop+i.height-e.top-e.height>3&&(c=m,h={source:k,target:m+"-1"}),c&&(s=e.left+w/2,r=j.left+j.width-(j.left+j.width-i.scrollLeft)/2,b=s-r,ca(b)>w/2-l&&(b=b>0?w/2-l:l-w/2),0!==b&&(h.target=n+(b>0?"-"+b:"+"+b)+" "+h.target))),!c)return;z=a('<div class="sui-tooltip-callout-container"><div class="sui-tooltip-callout sui-tooltip-callout-'+c+'"></div>').appendTo(y),ba.Set(z,y,h)}},visible:function(){var b,a=this,c=[].slice.call(arguments);if(!a._destroyed)return c.length>0?(b=!!c[0],b?a._show(c[1]):a._hide(),a._visible=b,void 0):a._visible},enabled:function(){var a,b=this,c=[].slice.call(arguments);return c.length>0?(a=!!c[0],a||b.visible(!1),b._enabled=a,void 0):b._enabled},destroy:function(){var b=this,c=b._targets;b._destroyed=!0,c&&(c.each(function(d){var c=a(this);c.off(b._eventNS)}),b._targets=null),a(b._tooltip).remove(),h.fn.destroy.call(b)}}),I.defaults=V,d.ui.plugin("Tooltip",I),Z={cls:b,barSize:5,orientation:i,panes:b,events:{}},P=h.extend({init:function(){h.fn.init.apply(this,arguments);var f,c=this,g=c.options,j=g.cls,d=(g.orientation==i,a(c.element));d.addClass("sui-splitter-container"+(j?" "+j:"")),"absolute"!==d.css("position")&&"relative"!==d.css("position")&&d.css({position:"relative"}),d.css("width")===b&&d.css({width:"100%"}),c._height=d.css("height")?d.css("height"):d.parent().innerHeight(),d.css({height:c._height}),c._children=f=d.children(),c._offset=0,c._barSize=g.barSize,c._bars=[],c._dragBars=[],c._navigators=[],f.each(function(b){var d=a(this);c._addPane(f,d,b)}),a(t).on(w+".shieldSplitter"+c.getInstanceId(),e(c._adjust,c)),c._adjust(),c._adjustDraggables(),c._manageCollapsedPanes()},_adjust:function(){var b=this,c=b.element,d=b._children.last(),e=b.options.orientation==i,f=(e?c.innerWidth():c.innerHeight())-b._offset+"px";c.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar-horizontal, .sui-splitter-bar-horizontal").each(function(){a(this).outerHeight(a(this).parent().innerHeight())}),e?d.outerWidth(f):d.outerHeight(f)},_adjustHeights:function(b,c){var d=this,e=d.options.orientation==i;e?(b.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var b=a(this);b.css({top:b.prev().innerWidth()/2})}),c.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var b=a(this);b.css({top:b.prev().innerWidth()/2})})):(b.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){a(this).outerHeight(a(this).parent().innerHeight())}),c.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){a(this).outerHeight(a(this).parent().innerHeight())}),b.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var b=a(this);b.css({top:b.prev().innerHeight()/2})}),c.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var b=a(this);b.css({top:b.prev().innerHeight()/2})}))},_adjustDraggables:function(){var g,c,q,k,d,l,j,f,r,m,n,o,p,e=this,h=e.options.orientation==i;for(c=0;c<e._dragBars.length;c++)e._dragBars[c]&&(q=e._dragBars[c],k=a(e._children[c]),d=a(e._children[c+1]),l=q.initialOptions,j=h?k.position().left:k.position().top,m=e._getPaneMin(c),m!==b&&(j+=m),n=e._getPaneMax(c+1),n!==b&&(g=h?d.position().left:d.position().top,r=h?d.innerWidth():d.innerHeight(),j=S(j,g-(n-r))),f=h?d.position().left+d.innerWidth():d.position().top+d.innerHeight(),o=e._getPaneMax(c),o!==b&&(g=h?k.position().left:k.position().top,f=E(f,g+o)),p=e._getPaneMin(c+1),p!==b&&(g=h?d.position().left:d.position().top,f=E(f,g+p)),l.min=j,l.max=f,q.refresh(l))},_createCollapseNavigator:function(d,c){var n,k,r,l,t,e=this,u=a(e.element),o=e.options,h=o.orientation,j=o.panes,m=h==i;l=j&&c<j.length&&j[c].collapsible,t=j&&c<j.length-1&&j[c+1].collapsible,(l||t)&&(n=m?l?g:f:l?p:q,k=a('<div class="sui-splitter-collapsible sui-splitter-collapsible-'+h+"-"+n+'"></div>'),k.insertAfter(d),r={left:m?d.position().left+1:d.position().left+u.innerWidth()/2,top:m?d.position().top+d.innerHeight()/2:d.position().top+1},k.css(r),k.on(s,function(){var o=a(e._children[c]),n=a(e._children[c+1]),l=e._dragBars[c]?a(e._dragBars[c].element):b,k=e._navigators[c],m=k.navigator,r=k.direction,j=k.collapsed,i=k.delta;switch(l&&j&&l.show(),r){case g:j?o.show():(i=0===c?o.outerWidth():o.innerWidth(),o.hide()),n.css({left:n.position().left+(j?i:-i)}),d.css({left:d.position().left+(j?i:-i)}),l&&l.css({left:l.position().left+(j?i:-i)}),m.css({left:m.position().left+(j?i:-i)}),n.outerWidth(n.outerWidth()+(j?-i:i)),m.removeClass("sui-splitter-collapsible-"+h+"-"+(j?f:g)),m.addClass("sui-splitter-collapsible-"+h+"-"+(j?g:f)),k.collapsed=!j,k.delta=k.collapsed?i:0;break;case f:j?n.show():(i=n.innerWidth(),n.hide()),d.css({left:d.position().left+(j?-i:i)}),l&&l.css({left:l.position().left+(j?-i:i)}),m.css({left:m.position().left+(j?-i:i)}),o.outerWidth(o.outerWidth()+(j?-i:i)),m.removeClass("sui-splitter-collapsible-"+h+"-"+(j?g:f)),m.addClass("sui-splitter-collapsible-"+h+"-"+(j?f:g)),k.collapsed=!j,k.delta=k.collapsed?i:0;break;case p:j?o.show():(i=0===c?o.outerHeight():o.innerHeight(),o.hide()),n.css({top:n.position().top+(j?i:-i)}),d.css({top:d.position().top+(j?i:-i)}),l&&l.css({top:l.position().top+(j?i:-i)}),m.css({top:m.position().top+(j?i:-i)}),n.outerHeight(n.outerHeight()+(j?-i:i)),m.removeClass("sui-splitter-collapsible-"+h+"-"+(j?q:p)),m.addClass("sui-splitter-collapsible-"+h+"-"+(j?p:q)),k.collapsed=!j,k.delta=k.collapsed?i:0;break;case q:j?n.show():(i=n.innerHeight(),n.hide()),d.css({top:d.position().top+(j?-i:i)}),l&&l.css({top:l.position().top+(j?-i:i)}),m.css({top:m.position().top+(j?-i:i)}),o.outerHeight(o.outerHeight()+(j?-i:i)),m.removeClass("sui-splitter-collapsible-"+h+"-"+(j?p:q)),m.addClass("sui-splitter-collapsible-"+h+"-"+(j?q:p)),k.collapsed=!j,k.delta=k.collapsed?i:0}l&&k.collapsed&&l.hide(),k.collapsed?e.trigger(ia,{paneIndex:c}):e.trigger(ha,{paneIndex:c}),e._adjustHeights(o,n)}),e._navigators[c]={navigator:k,delta:0,direction:n,collapsed:!1,index:l?c:c+1})},_manageCollapsedPanes:function(){var c,d,f,a,b=this,e=b.options.panes;if(b._navigators)for(a=0;a<b._navigators.length;a++)c=b._navigators[a],d=c.index,f=c.navigator,e&&d<e.length&&e[d].collapsed&&f.trigger(s)},_getPaneSize:function(d){var f,e,b=this,h=b.options,c=b.options.panes,j=h.orientation==i,g=a(b.element);return c&&d<c.length&&(c[d].size||c[d].min)&&(e=c[d].size||c[d].min),e?b._getSize(e,"Invalid pane size")+"px":(f=j?g.innerWidth():g.innerHeight(),(f-(b._children.length-1)*b._barSize)/b._children.length)},_getPaneMin:function(c){var d,e=this,a=e.options.panes;return a&&c<a.length&&a[c].min&&(d=a[c].min),d?e._getSize(d,"Invalid min pane size!"):b},_getPaneMax:function(c){var d,e=this,a=e.options.panes;return a&&c<a.length&&a[c].max&&(d=a[c].max),d?e._getSize(d,"Invalid max pane size!"):b},_getSize:function(b,g){var e,d,c=this,h=c.options,j=h.orientation==i,f=a(c.element);if(e=j?f.innerWidth():f.innerHeight(),W(b)&&"%"==b.charAt(b.length-1)){if(d=parseInt(b.substring(0,b.length-1),10),d>=100)throw g;b=(e-(c._children.length-1)*c._barSize)*d/100}else b=parseInt(b,10);return b},_addPane:function(q,f,e){var n,r,p,m,h,j,o,u,t,c=this,s=c.options,g=s.orientation,k=g==i,l=s.panes,v=l&&e<l.length&&l[e].resizable===!1,x=l&&e<l.length&&l[e].scrollable===!0;a(c.element);if(f.addClass("sui-splitter-pane sui-splitter-pane-"+g),x&&f.css({overflow:"auto"}),n=c._getPaneSize(e),r=c._getPaneMin(e),r!==b&&r>n)throw"Size less that min pane size!";if(p=c._getPaneMax(e),p!==b&&n>p)throw"Size bigger that max pane size!";m={left:(k?c._offset:0)+"px",top:(k?0:c._offset)+"px"},k?(m.width=n,m.height=c._height):m.height=n,f.css(m),e!=q.length-1&&(c._offset+=k?f.outerWidth():f.outerHeight(),h=a("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-bar sui-splitter-bar-"+g),j={left:g==i?c._offset:0,top:g==Y?c._offset:0},k?(j.width=c._barSize,j.height=c._height):j.height=c._barSize,h.css(j),h.insertAfter(f),v||(o=a("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-dragbar sui-splitter-dragbar-"+g),o.css(j),o.insertAfter(h),u={iframeFix:!0,direction:k?i:Y,stack:!1,events:{start:function(d){var b=f,c=a(q[e+1]);b.addClass("sui-unselectable"),c.addClass("sui-unselectable")},stop:function(j){var d,k=f,h=a(q[e+1]),m=c._bars[e],n=c._navigators[e],l=n?n.navigator:b;k.removeClass("sui-unselectable"),h.removeClass("sui-unselectable"),g==i?(d=j.left-m.position().left,k.width(k.width()+d),h.css({left:j.left+m.outerWidth()}),h.width(h.width()-d),l&&l.css({left:l.position().left+d})):(d=j.top-m.position().top,k.height(k.height()+d),h.css({top:j.top+m.outerHeight()}),h.height(h.height()-d),l&&l.css({top:l.position().top+d})),m.css({left:j.left,top:j.top}),c._adjustHeights(k,h),c._adjustDraggables(),c.trigger(w,{paneIndex:e})}}},t=new d.ui.Draggable(o,u),c._dragBars[e]=t),c._bars.push(h),c._createCollapseNavigator(h,e),c._offset+=c._barSize)},destroy:function(){var c,b=this,e=b.element;for(e.removeClass("sui-splitter-container"),a(t).off(w+".shieldSplitter"+b.getInstanceId()),c=0;c<b._children.length;c++){var d=b._navigators[c];if(d){var f=d.navigator;f.off(s)}}b._children=b._bars=b._dragBars=b._navigators=null,b._offset=b._height=b._barSize=0,h.fn.destroy.call(b)}}),P.defaults=Z,d.ui.plugin("Splitter",P),$={cls:b,enabled:!0,animation:{enabled:!0,duration:200},mode:"single",expanded:b,dataSource:b,titleTemplate:"{title}",contentTemplate:"{content}",width:b,height:b,maxHeight:b,events:{}},F=h.extend({init:function(){h.fn.init.apply(this,arguments);var f,i,k,j,b=this,d=b.options,l=d.cls,n=d.dieOnError,m=d.dataSource,g=(d.expanded,a(b.element));if(b._original=f=a(b.element),b._tagname=k=f.prop("tagName").toLowerCase(),f.wrap("<span/>"),f.hide(),b.element=g=a('<ul class="sui-accordion'+(l?" "+l:"")+'"/>').on(L,function(){b.trigger(L)}).on(M,function(){b.trigger(M)}),f.after(g),i=f.attr(C),g.attr(C,c(i)?i:"0"),c(d.width)&&g.css("width",d.width),c(d.height)&&g.css("height",d.height),c(d.maxHeight)&&g.css("max-height",d.maxHeight),m)b.dataSource=A.create(m);else{if("ul"!==k)return b.destroy(),void O("shieldAccordion: No dataSource or underlying UL element found.",n);j=function(c){var b=[];return a(c).children("li").each(function(d,e){var c={title:a(this).children("h1, h2, h3, h4, h5, h6").first().html(),content:a(this).children("div, p").first()};a(this).children("ul").length>0&&(c.items=j(a(this).children("ul")[0])),b.push(c)}),b},b.dataSource=A.create({data:f,schema:{parse:j}}),b.options.contentTemplate=function(a,d,c){b._moveElement(a.content,c)},b._fromUL=!0}b.dataSource.on(N+".shieldAccordion"+b.getInstanceId(),e(b._dsChange,b)),b.dataSource.read()},refresh:function(a){this.refreshWithElement(this._original,a)},_dsChange:function(){var a=this,b=a.options;a._render(),a._dsLoadedOnce||(a._dsLoadedOnce=!0,c(b.expanded)?a.expanded(b.expanded):a.dataSource.view&&a.dataSource.view.length>0&&a.expanded(0),a.enabled(b.enabled))},_moveElement:function(b,c){a(b).data(K,a(b).parent()).data(G,a(b).prev()).addClass("sui-accordion-elm").appendTo(c)},_restoreElement:function(b){var c=a(b).data(G),d=a(b).data(K);a(c).length>0?a(b).insertAfter(c):a(b).prependTo(d),a(b).removeData(K).removeData(G).removeClass("sui-accordion-elm")},_restoreAll:function(){var b=this;a(b.element).find(".sui-accordion-elm").each(function(){b._restoreElement(a(this))})},_render:function(){var d=this,b=d.options,e=d.dataSource.view,f=a(d.element),g=e.length;f.empty(),e&&ga(e,function(i,e){var h,k,l,n,m=a('<li class="sui-accordion-item '+(i+1>=g?"sui-accordion-item-last ":"")+'sui-accordion-item-collapsed"/>').data(y,i).data(Q,e).appendTo(f);k=a('<div class="sui-accordion-item-title"/>').click(function(b){d._enabled&&d._itemClick(a(m))}).appendTo(m),h=j.call(d,b.titleTemplate,e,i,k),c(h)&&!U(h)&&k.html(h),l=a('<div class="sui-accordion-item-body"/>').appendTo(m).hide(),n=a('<div class="sui-accordion-item-body-content"/>').appendTo(l),o.array(e.items)&&e.items.length>0&&a("<div/>").appendTo(l).shieldAccordion({cls:"sui-accordion-item-body-items "+(b.cls?" "+b.cls:""),enabled:b.enabled,animation:b.animation,mode:b.mode,dataSource:{data:e.items},titleTemplate:b.titleTemplate,contentTemplate:b.contentTemplate,events:b.events})})},_itemClick:function(a){var b=this,d=b.options,c=a.hasClass("sui-accordion-item-collapsed");"single"==d.mode?c&&(b._collapse(a.siblings(".sui-accordion-item").not(".sui-accordion-item-collapsed").first(),!1,!0),b._expand(a,!1,!1)):c?b._expand(a,!1,!1):b._collapse(a,!1,!1)},_expand:function(b,m,n){var d,g,h,f=this,e=f.options,o=e.animation.enabled&&!m,p=e.animation.duration,i=a(b).children(".sui-accordion-item-body").first(),k=b.data(y),l=b.data(Q);(n||(h=f.trigger("expand",{item:l,index:k,element:b}),!h.isDefaultPrevented()))&&(1!==b.data(da)&&(b.data(da,1),g=b.children(".sui-accordion-item-body").first().children(".sui-accordion-item-body-content").first(),d=j.call(f,e.contentTemplate,l,k,g),c(d)&&!U(d)&&g.html(d)),b.removeClass("sui-accordion-item-collapsed").addClass("sui-accordion-item-expanded"),o?i.slideDown(p):i.show())},_collapse:function(b,g,j){var e,f=this,c=f.options,h=c.animation.enabled&&!g,i=c.animation.duration,d=a(b).children(".sui-accordion-item-body").first(),k=b.data(y),l=b.data(Q);(j||(e=f.trigger("collapse",{item:l,index:k,element:b}),!e.isDefaultPrevented()))&&(b.removeClass("sui-accordion-item-expanded").addClass("sui-accordion-item-collapsed"),h?d.slideUp(i):d.hide())},expanded:function(){var g,h,e,f,d=this,i=a(d.element),b=(d._original,[].slice.call(arguments));return b.length>0?(g=ja.array(b[0]),h=c(b[1])?!!b[1]:!0,e=c(b[2])?!!b[2]:!0,f=i.children(),_(g,function(b){b>=0&&(h?d._expand(a(f[b]),e,!0):d._collapse(a(f[b]),e,!0))}),void 0):_(i.children(".sui-accordion-item").not(".sui-accordion-item-collapsed"),function(a){return a.data(y)})},enabled:function(){var c,b=this,d=a(b.element),e=b._original,f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?(d.removeAttr(l).removeClass("sui-accordion-disabled"),e.removeAttr(l)):(d.attr(l,l).addClass("sui-accordion-disabled"),e.attr(l,l)),b._enabled=c,void 0):b._enabled},destroy:function(){var c=this;c.dataSource&&c.dataSource.off(".shieldAccordion"+c.getInstanceId()),c._restoreAll(),a(c.element).remove(),c._original&&c._original.unwrap().show(),c._original=c._dsLoadedOnce=c._fromUL=b,h.fn.destroy.call(c)}}),F.defaults=$,d.ui.plugin("Accordion",F),aa={cls:b,active:b,collapsible:!1,animation:{enabled:!0,activateDuration:160,deactivateDuration:60},titleTemplate:"{title}",titleClsTemplate:"{titleCls}",itemClsTemplate:"{itemCls}",hrefTemplate:"{href}",contentTemplate:"{content}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",position:k,dataSource:b,readDataSource:!0,trigger:s,events:{}},H=h.extend({init:function(){h.fn.init.apply(this,arguments);var g,b=this,i=a(b.element),d=a(i).children("ul, ol").first(),f=b.options,m=f.dieOnError,j=f.dataSource,k=f.cls;if(g=b._eventNS=".shieldTabs"+b.getInstanceId(),d.length<=0?(d=null,b._noTabList=!0):b._noTabList=!1,b._tabList=d,i.addClass("sui-tabs sui-tabs-"+f.position+(k?" "+k:"")),i.on("keydown"+g,e(b._keydown,b)),j)b.dataSource=A.create(j);else{if(!d)return b.destroy(),void O("shieldTabs: No dataSource or tabs UL element found.",m);b.dataSource=A.create({data:d,schema:{parse:function(d){var b=[];return a(d).children("li").each(function(){var d=a(this),e={title:d.html(),titleCls:d.attr("data-title-class"),itemCls:d.attr("data-item-class"),href:d.attr("data-href"),disabled:d.attr("data-disabled")?!!d.attr("data-disabled"):c(d.attr(l))&&null!==d.attr(l),iconUrl:d.attr("data-icon-url"),iconCls:d.attr("data-icon-cls")};b.push(e)}),b}}})}a(t).on(w+g,e(b._adjustTabListHeight,b)),a(i).children("div").hide(),b.dataSource.on(N+g,e(b._dsChange,b)),(!j||f.readDataSource)&&b.dataSource.read()},_dsChange:function(){this._render()},_getItemIcon:function(e){var c,f=this.options,d=j(f.iconUrlTemplate,e);return d&&"undefined"!==d?a('<span class="sui-tabs-tab-icon"/>').append('<img src="'+d+'"/>'):(c=j(f.iconClsTemplate,e),c&&"undefined"!==c?a('<span class="sui-tabs-tab-icon"/>').addClass(c):b)},_render:function(){var n,d,p,r,l,f=this,i=a(f.element),k=f.options,h=k.active,g=f._tabList,s=f.dataSource.view||[],t=s.length,q=[];if(f._initialized&&(a(g).remove(),a(i).children("div").remove(),f._tabList=g=f._divs=n=b),!g)for(f._tabList=g=a("<ul/>").prependTo(i),d=0;t>d;d++)l=s[d],g.append(a("<li/>").append(f._getItemIcon(l),'<span class="sui-tabs-tab-text">'+j(k.titleTemplate,l)+"</span>"));if(k.position==m&&g.appendTo(i),g.addClass("sui-tabs-tablist"+(k.collapsible?" sui-tabs-tablist-collapsible":"")),f._initialized||c(i.attr(C))||i.attr(C,"0"),f._tabListHeight=g.outerHeight(),a(i).children("div").length<=0)for(d=0;t>d;d++)a(i).append('<div class="sui-tabs-cust"/>');for(f._divs=n=a(i).children("div"),a(n).addClass("sui-tabs-item"),a(n).hide(),d=0;t>d;d++){l=s[d],p=g.children("li:eq("+d+")"),r=a(n[d]);var u=j(k.titleClsTemplate,l),v=j(k.itemClsTemplate,l),o=j(k.disabledTemplate,l);u&&"undefined"!==u&&p.addClass(u),v&&"undefined"!==v&&r.addClass(v),(la(o)&&o||"true"===o||"1"===o||1===o)&&q.push(d),p.on(k.trigger+f._eventNS,e(f._select,f,d,p,r))}if(f._initialized=!0,h!==!1&&(h=fa(h)?h:0,h=S(0,E(h,n.length-1)),f._selectedIndex=h,f._activate(h,!0,!1)),q.length>0)for(d=0;d<q.length;d++)f.enabled(q[d],!1)},_select:function(c,d,e){var f,g,h,b=this,i=b.options,j=i.collapsible,k=b.dataSource.view||[];b.enabled(c)&&(c!==b._selectedIndex||j)&&(d=d||a(b._tabList).children("li:eq("+c+")"),e=e||a(b._divs[c]),f=a(d).hasClass("sui-tabs-tab-active"),g=!(f&&j&&i.trigger!==u),h=b.trigger("select",{tab:d,content:e,active:f,activate:g,index:c,item:k[c]}),h.isDefaultPrevented()||(b._selectedIndex=c,b._activate(c,g,!0,d,e)))},_activate:function(e,k,s,g,f){var h,r,l,i,m,n,d=this,o=d.options,p=o.animation,q=p.enabled,t=d.dataSource.view||[];d.enabled(e)&&(k||e===d._activeIndex)&&(g=g||a(d._tabList).children("li:eq("+e+")"),f=f||a(d._divs[e]),h=t[e],a(d._divs).stop(!0,!0),a(d._tabList).children("li").removeClass("sui-tabs-tab-active"),m=function(){n=function(){s&&(r=d.trigger("activate",{tab:g,content:f,active:k,index:e,item:h})),d._adjustTabListHeight()},k?(d._activeIndex=e,a(g).addClass("sui-tabs-tab-active"),l=j(o.hrefTemplate,h),l&&"undefined"!==l?a(f).load(l,b,function(a,b,c){d.trigger("load",{responseText:a,textStatus:b,jqXHR:c,tab:g,content:f,active:k,index:e,item:h}),d._adjustTabListHeight()}):(i=j(o.contentTemplate,h),i&&"undefined"!==i&&a(f).html(i)),a(f).fadeIn(q?p.activateDuration:0,n)):(d._activeIndex=b,n())},c(d._activeIndex)?a(d._divs).each(function(b){b!==d._activeIndex?a(this).hide():a(this).fadeOut(q?p.deactivateDuration:0,m)}):m())},_adjustTabListHeight:function(){var c,d,e,b=this,h=b.options.position;(h==g||h==f&&b._divs&&b._divs[b._activeIndex])&&(c=a(b._tabList),d=a(b._divs[b._activeIndex]).innerHeight(),c.css("min-height",d),e=a(c.children("li").last()),b._tabListHeight>=d?e.addClass("sui-tabs-tab-last-bottom"):e.removeClass("sui-tabs-tab-last-bottom"))},_keydown:function(b){var d,c=this;if(a(c.element)[0]===a(b.target)[0]){switch(b.keyCode){case r.UP:case r.LEFT:c._selectPrevNext(b,!0),d=!0;break;case r.DOWN:case r.RIGHT:c._selectPrevNext(b,!1),d=!0;break;case r.SPACE:c.options.collapsible&&c._toggleCurrent(b),d=!0}d&&b.preventDefault()}},_toggleCurrent:function(d){var a=this,b=a._selectedIndex;c(b)&&a._activate(b,b!==a._activeIndex,!0)},_selectPrevNext:function(f,e){var a=this,d=a._selectedIndex,b=c(d)?e?a._getPrevSelectableIndex():a._getNextSelectableIndex():a._getFirstSelectableIndex();c(b)&&b!==d&&a._select(b)},_getFirstSelectableIndex:function(){var b,c=this;return a(c._tabList).children("li").each(function(a){return c.enabled(a)?(b=a,!1):void 0}),b},_getNextSelectableIndex:function(){var c,d=this,e=d._selectedIndex,g=a(d._tabList).children("li"),f=g.length;if(f-1>e)for(c=e+1;f>c;c++)if(d.enabled(c))return c;if(e>0)for(c=0;e>c;c++)if(d.enabled(c))return c;return b},_getPrevSelectableIndex:function(){var c,d=this,e=d._selectedIndex,g=a(d._tabList).children("li"),f=g.length;if(e>0)for(c=e-1;c>=0;c--)if(d.enabled(c))return c;if(f-1>e)for(c=f-1;c>e;c--)if(d.enabled(c))return c;return b},enabled:function(){var b,d=this,c=[].slice.call(arguments),e=c[0];if(b=a(d._tabList).children("li:eq("+e+")"),b.length>0){if(!(c.length>1))return!a(b).hasClass("sui-tabs-tab-disabled");c[1]?a(b).removeClass("sui-tabs-tab-disabled"):a(b).addClass("sui-tabs-tab-disabled")}},enabledIndices:function(){var c=this,b=[];return a(c._tabList).children("li").each(function(c,d){a(this).hasClass("sui-tabs-tab-disabled")||b.push(c)}),b},active:function(){var b=this,a=[].slice.call(arguments);return a.length>0?void b._activate(a[0],a[1],!1):b._activeIndex},content:function(b){return a(this._divs)[b]},destroy:function(){var c=this,d=a(c.element),g=c.options,i=g.cls,e=c._tabList,f=c._eventNS;c.dataSource&&c.dataSource.off(N+f),a(t).off(f),a(d).removeClass("sui-tabs sui-tabs-"+g.position+(i?" "+i:"")),a(d).children("div").removeClass("sui-tabs-item"),a(d).children(".sui-tabs-cust").remove(),c._divs=null,a(e).children("li").removeClass("sui-unselectable").off(f),a(e).removeClass("sui-tabs-tablist"),c._noTabList&&a(e).remove(),c._tabList=c._noTabList=c._activeIndex=c._selectedIndex=c._initialized=c._tabListHeight=b,h.fn.destroy.call(c)}}),H.defaults=aa,d.ui.plugin("Tabs",H)}(jQuery,shield,this);
!function(a,e,i,m){var g,f,c=e.ui.Widget,d=document,b=Math.ceil,j=navigator.userAgent,k=i.opera,l=/msie/i.test(j)&&!k,h=l&&7===d.documentMode;a.extend;g={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1},f=c.extend({init:function(b,d){var a=this;c.fn.init.apply(a,arguments),a.refresh(),a.options.show?a.show():a.hide()},destroy:function(){var b=this;a(b.mainElement).remove(),b.options.showImage&&(a(b.loadingImage).remove(),b.loadingImage=null),b.loadingText&&(a(b.loadingText).remove(),b.loadingText=null),a(b.backgroundElement).remove(),b.mainElement=b.backgroundElement=null,c.fn.destroy.call(b)},_render:function(){var f,c=this,g=c.options,e=g.template;if(c.mainElement=f=a("<div/>").appendTo(d.body),f.addClass("sui-loading-panel"),h&&f.addClass("sui-loading-panel-ie7"),e){e=a(e.replace(/^\s+/,"").replace(/\s+$/,"")),e.appendTo(d.body);var k=b((c.element.height()-e.height())/2),l=b((c.element.width()-e.width())/2);e.css({"z-index":"inherit",position:"relative",dispaly:"block",top:k+"px",left:l+"px"}).appendTo(f),c.template=e}else{if(g.showImage){var i=a("<span/>").appendTo(f);c.loadingImage=i,g.useSmallImage?i.addClass("sui-loading-image-small"):i.addClass("sui-loading-image")}g.text&&c._generateTextElement()}var j=a("<span/>").appendTo(f);c.backgroundElement=j,j.addClass("sui-loading-back"),c._setPosition()},_generateTextElement:function(){var b=this,c=a("<span/>").appendTo(b.mainElement);c.get(0).innerHTML=b.options.text,c.addClass("sui-loading-text"),b.loadingText=c},refresh:function(){var a=this,b=(a.options,a.mainElement&&"none"!=a.mainElement.css("display")?!1:!0);a.destroy(),a._render(),b?a.hide():a.show()},_setPosition:function(){var a=this,f=(a.options,a.element),d=f.offset(),c=e.ui.Util.GetMaxZIndex("div")+1;a.mainElement.css({left:b(d.left)+"px",top:b(d.top)+"px","z-index":c}),h&&(a.loadingText&&a.loadingText.css({"z-index":c+1}),a.loadingImage&&a.loadingImage.css({"z-index":c+1}),a.template&&a.template.css("z-index",c+1))},_setElementsPosition:function(){var a=this,f=a.element.height(),c=a.loadingImage,d=a.loadingText,g=c?c.height():0,h=d?d.height():0,e=b((f-g-h)/2);c&&a.loadingImage.css("top",e+"px"),d&&a.loadingText.css("top",e+"px")},show:function(){var a=this,c=a.options,b=a.element;a.mainElement.width(b.get(0).offsetWidth),a.mainElement.height(b.get(0).offsetHeight),a._setPosition(),a.mainElement.css("display",""),c.template||a._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(a){this.options.text=a,this.refresh()}}),f.defaults=g,e.ui.plugin("LoadingPanel",f)}(jQuery,shield,this);
!function(a,b,l,v){var j=b.ui.Widget,u=(b.Class,b.Constants),e=document,n=u.SVG_NS,o=!!e.createElementNS&&!!e.createElementNS(n,"svg").createSVGRect,t=(a.map,a.each,a.proxy),i=b.to["int"],s=(b.is.func,b.error,Math.min),y=Math.max,h="disabled",d="px",p="float",f="left",g="right",k="horizontal",q="vertical",c="circular",m=function(c,d,a,e){var b=(e-90)*Math.PI/180;return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}},w=function(b,c,a,d,e){var f=m(b,c,a,e),g=m(b,c,a,d),h=180>=e-d?"0":"1";return["M",f.x,f.y,"A",a,a,0,h,0,g.x,g.y].join(" ")},x={cls:v,enabled:!0,min:0,max:100,value:0,layout:k,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},r=j.extend({init:function(){j.fn.init.apply(this,arguments);var d,b=this,h=a(b.element),i=b.options,m=i.layout,n=i.cls;b._eventNS=".shieldProgressbar"+b.getInstanceId(),h.addClass("sui-progressbar"),m===q?h.addClass("sui-progressbar-vertical"):m===c&&h.addClass("sui-progressbar-circular"),m!==c&&(b.inner=a("<div/>").addClass("sui-progressbar-value").appendTo(h)),n&&h.addClass(n),m===k?(d=b.inner.css(p)||f,d=i.reversed?d===f?g:f:d===g?g:f,b.inner.css(p,d)):m==c&&(o||e.namespaces.scvprogressbar||e.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),a(l).on("resize"+b._eventNS,t(b._winResize,b)),b._value=i.value,b._render(),b.enabled(i.enabled)},_winResize:function(){this._render()},_render:function(){var B,G,N,f=this,r=f.options,y=r.layout,L=r.reversed,D=r.min,A=r.max,x=f._value,F=r.text,t=a(f.element),m=t.width(),j=t.height(),J=f.inner,I=A-D,P=i(100*(x-D)/I);if(y===q)B=i(P*j/100),J.css({width:"100%",height:B+d,"margin-top":(L?"0":j-B)+d});else if(y===k)J.css({width:P+"%",height:j+d});else{if(y!==c)return;var e="",s=r.layoutOptions[y],z=s.width,E=s.borderWidth,v=f._enabled?s.color:s.colorDisabled,K=s.borderColor,H=s.backgroundColor,g=m/2,h=j/2,u=(m>j?h:g)-z/2-1,l=2*u,M=i(360*(x-D)/I),C=L?360-M:0,O=C+M,p=z-2*E;o?(e='<svg xmlns="'+n+'" version="1.1" width="'+m+'" height="'+j+'">',E>0&&(e+='<circle cx="'+g+'" cy="'+h+'" r="'+u+'" stroke="'+K+'" stroke-width="'+z+'" fill="none" />'),x>=A?e+='<circle cx="'+g+'" cy="'+h+'" r="'+u+'" stroke="'+v+'" stroke-width="'+p+'" fill="none" />':(e+='<circle cx="'+g+'" cy="'+h+'" r="'+u+'" stroke="'+H+'" stroke-width="'+p+'" fill="none" />',e+='<path d="'+w(g,h,u,C,O)+'" stroke="'+v+'" stroke-width="'+p+'" fill="none" />'),e+="</svg>"):(e+='<scvprogressbar:group style="width:'+m+"px; height:"+j+'px;" coordsize="'+m+","+j+'">',E>0&&(e+='<scvprogressbar:oval style="width:'+l+"px; height:"+l+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+z+'px" strokecolor="'+K+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),x>=A?e+='<scvprogressbar:oval style="width:'+l+"px; height:"+l+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+p+'px" strokecolor="'+v+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':(e+='<scvprogressbar:oval style="width:'+l+"px; height:"+l+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+p+'px" strokecolor="'+H+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>',e+='<scvprogressbar:arc style="width:'+l+"px; height:"+l+"px; position:relative; top:"+h+"px; left:"+g+'px;" fill="false" strokeweight="'+p+'px" strokecolor="'+v+'" startangle="'+C+'" endangle="'+O+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>'),e+="</scvprogressbar:group>"),t.html(e)}F.enabled&&(t.find(".sui-progressbar-text").remove(),f.text=a('<div class="sui-progressbar-text" />').appendTo(t).html(b.format.call(f,F.template,f._value)),G=f.text.width(),N=f.text.height(),f.text.css({top:(j-N)/2+d,left:(m-G)/2+d}))},value:function(){var b,a=this,c=a.options,d=[].slice.call(arguments);if(!(d.length>0))return a._value;if(a._enabled){b=y(s(d[0],c.max),c.min);var e=a.trigger("change",{value:b});e.isDefaultPrevented()||(a._value=b,a._render(),b>=c.max&&a.trigger("complete"))}},enabled:function(){var d,b=this,e=a(b.element),f=[].slice.call(arguments);return f.length>0?(d=!!f[0],d?e.removeAttr(h).removeClass("sui-progressbar-disabled"):e.attr(h,h).addClass("sui-progressbar-disabled"),b._enabled=d,b.options.layout==c&&b._render(),void 0):b._enabled},destroy:function(){var b=this,c=b.options.cls;a(l).off(b._eventNS),a(b.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular"+(c?" "+c:"")).empty(),j.fn.destroy.call(b)}});r.defaults=x,b.ui.plugin("ProgressBar",r)}(jQuery,shield,this);
!function(a,c,R,d){var w,t,I,u,n,r,h=c.ui.Widget,H=(c.Class,c.DataSource),G=c.ui.Position,l=c.Constants.KeyCode,q=document,e=a.proxy,L=a.each,E=a.grep,y=a.extend,O=c.error,K=c.format,b=c.is.defined,v=c.is["boolean"],P=c.is.integer,J=c.is.func,i="horizontal",o="vertical",N="click",x="focus",D="blur",A="change",M="keydown",B="tabindex",C="disabled",z="sui-menu-item-level",j="sui-menu-item-expanded",s="sui-menu-item-disabled",g="sui-menu-item-selected",F="sui-menu-item-index",m="sui-menu-item-hover",f="sui-menu-item-data-item",p="sui-menu-item-parent",k="sui-menu-item-cc",Q="sui-menu-item-cc-parent";w={cls:d,width:d,height:d,dataSource:d,readDataSource:!0,orientation:i,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},t=h.extend({init:function(){h.fn.init.apply(this,arguments);var i,l,m,k,j,d=this,g=a(d.element),f=d.options,r=f.dieOnError,n=f.dataSource,o=f.cls,p=f.renderToINTERNAL,q=f.wrapOriginalINTERNAL,s=b(q)?q:!0;if(d._original=i=a(d.element),d._tagname=m=i.prop("tagName").toLowerCase(),d._isContext=f.isContextINTERNAL,j=d._eventNS=".shieldMenu"+d.getInstanceId(),s?(d.wrapper=i.wrap("<div/>").parent(),d._isWrapped=!0):d._isWrapped=!1,i.hide(),d.element=g=a('<ul class="sui-menu sui-menu-top sui-menu-'+f.orientation+(o?" "+o:"")+'"/>').on(x+j,e(d._focus,d)).on(D+j,e(d._blur,d)).on(M+j,e(d._keydown,d)),a(p).length>0?a(p).append(g):i.after(g),b(f.width)&&g.css("width",f.width),b(f.minWidth)&&g.css("minWidth",f.minWidth),b(f.height)&&g.css("height",f.height),l=i.attr(B),g.attr(B,b(l)?l:"0"),d._isRtl=c.support.isRtl(g),n)d.dataSource=H.create(n);else{if("ul"!==m)return d.destroy(),void O("shieldMenu: No dataSource or underlying UL element found.",r);k=function(d){var c=[];return a(d).children("li").each(function(){var d=a(this),e=d.children("ul").length>0,f={cls:d.attr("data-class"),content:e?d.children().not("ul").first().html():d.html(),href:d.attr("data-href")?d.attr("data-href"):d.children().not("ul").first().attr("href"),disabled:d.attr("data-disabled")?d.attr("data-disabled"):b(d.attr(C))&&null!==d.attr(C),separator:"separator"===d.attr("data-role"),iconUrl:d.attr("data-icon-url"),iconCls:d.attr("data-icon-cls")};e&&(f.items=k(d.children("ul")[0])),c.push(f)}),c},d.dataSource=H.create({data:i,schema:{parse:k}})}d.dataSource.on(A+j,e(d._dsChange,d)),f.readDataSource&&d.dataSource.read()},refresh:function(a){this.refreshWithElement(this._original,a)},_isFocused:function(){return a(this.element).hasClass("sui-menu-focus")},_focus:function(c){var b=this;b._blurTimeout&&(clearTimeout(b._blurTimeout),b._blurTimeout=null),b._isFocused()||(a(b.element).addClass("sui-menu-focus"),a(b.element).focus(),b.trigger(x))},_blur:function(c){var b=this;b._isFocused()&&(b._blurTimeout&&clearTimeout(b._blurTimeout),b._blurTimeout=setTimeout(function(){a(b.element).removeClass("sui-menu-focus"),b._collapseAll(),b._deselectAll(),b.trigger(D)},100))},_dsChange:function(){var a=this;a._renderItems(a.dataSource.view,a.element,0,null)},_getItemIcon:function(b){var c=a('<span class="sui-menu-item-icon"/>');return b.iconUrl?c.append('<img src="'+b.iconUrl+'"/>'):b.iconCls&&c.addClass(b.iconCls),c},_renderItems:function(r,B,m,C){var h,b,u,w,n,i,g,j,v,t,l,y,d=this,A=d.options,D=(r||[]).length,G=E(r||[],function(a){return a.iconUrl||a.iconCls}).length>0;for(h=0;D>h;h++)b=r[h],u=!!b.disabled,n=b.href,i=b.separator,t=!i&&b.items&&b.items.length>0,v=b.iconUrl||b.iconCls,w=i?"&nbsp;":K.call(d,A.contentTemplate,b),j=a('<a class="sui-menu-item-link" '+(n?'href="'+n+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(t?" sui-menu-item-text-hc":"")+'">'+w+"</span>"),g=a('<li class="sui-menu-item sui-unselectable'+(u?" sui-menu-item-disabled":"")+(i?" sui-menu-item-separator":"")+(b.cls?" "+b.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(B).data(f,b).data(p,C).data(z,m).data(s,u).data(F,h).append(j),j.click(e(d._itemClicked,d,g)).on(x,e(d.focus,d)),!i&&G&&(m>0||v||A.orientation===o)&&j.prepend(d._getItemIcon(b)),t&&(j.append('<span class="sui-menu-item-children-caret"/>'),l=a('<div class="sui-menu-submenu"/>').hide().data(Q,g).appendTo(g),l.css("z-index",c.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",q.body)+1),y=a('<ul class="sui-menu sui-menu-vertical"/>').appendTo(l),d._renderItems(b.items,y,m+1,g),g.data(k,l).hover(e(d._itemMouseEnter,d,g,!0),e(d._itemMouseLeave,d,g,!0)))},_itemMouseEnter:function(a,c){var b=this;a.addClass(m),setTimeout(function(){a.hasClass(m)&&b._itemExpand(a,c)},b.options.delay)},_itemMouseLeave:function(a,b){var c=this;a.removeClass(m),c._itemCollapse(a,!0,b)},_itemExpand:function(a,m,o){var l,c=this,d=c.options,g=d.animation,n=a.data(z),b=a.data(k),h=0===n&&d.orientation===i,q=a.data(f),e=a.data(p);c._isExpandable(a)&&c._canHaveFocus(a)&&b&&(b.stop(!0,!0),e&&!c._isExpanded(e)&&c._itemExpand(e,!1,!0,!0),m&&(l=c.trigger("expand",{element:a,item:q})),h&&b.css("min-width",a.outerWidth()),b.show(),G.Set(b,a,{source:"left top",target:h?"left bottom":"right top",overflow:d.overflow}),!o&&g&&g.enabled?b.hide().slideDown(g.openDelay,function(){a.data(j,!0)}):a.data(j,!0))},_itemCollapse:function(d,c,l,n){var o,e=this,i=e.options.animation,h=d.data(k),q=d.data(f),g=d.data(p);h&&(h.stop(!0,!0),l&&(o=e.trigger("collapse",{element:d,item:q})),c=b(c)?!!c:!0,a(h).find("ul").first().children().each(function(){var b=a(this);e._isExpanded(b)&&e._itemCollapse(b,c,!1,!0)}),!n&&i&&i.enabled?h.slideUp(i.closeDelay,function(){d.data(j,!1),c&&g&&!g.hasClass(m)&&e._itemCollapse(g,!0,!1,!0)}):(h.hide(),d.data(j,!1),c&&c&&g&&!g.hasClass(m)&&e._itemCollapse(g,!0,!1,!0)))},_collapseAll:function(){var b=this;a(b.element).children("li").each(function(){var c=a(this);b._isExpanded(c)&&b._itemCollapse(c,!1,!1,!0)})},_isExpandable:function(a){return!!a.data(k)},_isExpanded:function(a){return a.data(j)===!0},_hasExpanded:function(b){var c=this,d=b.data(k);return b.data(j)!==!0?!1:E(a(d).find("ul").first().children(),function(b){return c._isExpanded(a(b))||c._hasExpanded(a(b))}).length>0},_canHaveFocus:function(a){return!a.data(s)&&!a.data(f).separator},_keydown:function(c){var d,a=this,e=!0;switch(c.keyCode){case l.UP:a._move("up",c);break;case l.DOWN:a._move("down",c);break;case l.LEFT:a._move("left",c);break;case l.RIGHT:a._move("right",c);break;case l.SPACE:case l.ENTER:d=a._getSelected(),b(d)&&(a._isExpanded(d)||a._itemExpand(d,!0),a._itemClicked(d));break;default:e=!1}e&&c.preventDefault()},_getFirstSelectableItem:function(c){var b,d=this;return a(c).children("li").each(function(){var c=a(this);return d._canHaveFocus(c)?(b=c,!1):void 0}),b},_getNextSelectableItem:function(e){var c,b,g=this,i=e.parent(),d=e.index(),f=i.children("li"),h=f.length;if(h-1>d)for(b=d+1;h>b;b++)if(c=a(f[b]),g._canHaveFocus(c))return c;if(d>0)for(b=0;d>b;b++)if(c=a(f[b]),g._canHaveFocus(c))return c;return e},_getPrevSelectableItem:function(e){var c,b,g=this,i=e.parent(),d=e.index(),f=i.children("li"),h=f.length;if(d>0)for(b=d-1;b>=0;b--)if(c=a(f[b]),g._canHaveFocus(c))return c;if(h-1>d)for(b=h-1;b>d;b--)if(c=a(f[b]),g._canHaveFocus(c))return c;return e},_move:function(g,l){var k,h,j,a,e=this,c=e._getSelected();e._isRtl;if(b(c))if(k=c.parent().hasClass("sui-menu-vertical")?o:i,h=c.data(p),j=h?h.parent().hasClass("sui-menu-vertical")?o:i:d,k===i){if("up"===g)return void e._itemCollapse(c,!1,!0);if("down"===g){if(!e._isExpandable(c))return;e._itemExpand(c,!0),a=e._getFirstSelectableItem(c.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===g){if(a=e._getPrevSelectableItem(c),a===c)return}else{if("right"!==g)return;if(a=e._getNextSelectableItem(c),a===c)return}}else if("up"===g){if(0===c.index()){if(h&&j===i)a=h,e._itemCollapse(a,!1,!0);else if(a=e._getPrevSelectableItem(c),a===c)return}else if(a=e._getPrevSelectableItem(c),a===c)return}else if("down"===g){if(a=e._getNextSelectableItem(c),a===c)return}else if("left"===g){if(!h||j!==o)return;a=h,e._itemCollapse(a,!1,!0)}else{if("right"!==g)return;if(!e._isExpandable(c))return;e._itemExpand(c,!0),a=e._getFirstSelectableItem(c.find(".sui-menu-submenu > .sui-menu").first())}else a=e._getFirstSelectableItem(e.element);b(a)&&(e._setSelected(a,!0),e.trigger("select",{element:a,item:a.data(f)}))},_deselectAll:function(){var b=this;a(b.element).find("."+g).each(function(){a(this).removeClass(g)})},_setSelected:function(b,d){var c=this;c._canHaveFocus(b)&&(d?(c._deselectAll(),a(b).addClass(g)):a(b).removeClass(g))},_getSelected:function(){var c=this,b=a(c.element).find("."+g).first();return a(b).length>0?b:d},_isSelected:function(b){return a(b).hasClass(g)},_itemClicked:function(d,a){var e,c,b=this,g=d.data(f);a&&a.isPropagationStopped()||(b._focus(),b._canHaveFocus(d)&&(c={item:g},b._isContext&&(c.element=r),e=b.trigger(N,c),a&&(a.stopPropagation(),e.isDefaultPrevented()&&a.preventDefault())))},_getItemByIndex:function(){var c,b,g=this,f=[].slice.call(arguments),e=d;if(f.length>0)for(b=0;b<f.length;b++){if(c=f[b],!P(c))return d;if(e=0===b?a(g.element).children("li:eq("+c+")"):a(a(e).data(k)).children("ul").first().children("li:eq("+c+")"),a(e).length<=0)return d}return e},_getItemIndex:function(a){var b=[];do b.unshift(a.data(F)),a=a.data(p);while(a);return b},enabled:function(){var c,g=this,e=[].slice.call(arguments),f=v(e[0])?e.shift():d;if(c=g._getItemByIndex.apply(this,e),b(c)){if(!b(f))return!c.data(s);c.data(s,!f),a(c)[f?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var c,a=this,e=[].slice.call(arguments),f=v(e[0])?e.shift():d;if(c=a._getItemByIndex.apply(this,e),b(c)){if(!b(f))return a._isExpanded(c);f?(a._collapseAll(),a._itemExpand(c,!1)):a._itemCollapse(c,!1,!1)}b(f)&&f===!1&&0===e.length&&a._collapseAll()},selected:function(){var a,c=this,e=[].slice.call(arguments),f=v(e[0])?e.shift():d;if(a=c._getItemByIndex.apply(this,e),b(a)){if(!b(f))return c._isSelected(a);c._setSelected(a,f)}b(f)&&f===!1&&0===e.length&&c._deselectAll()},selectedIndex:function(){var a=this,c=a._getSelected();return b(c)?a._getItemIndex(c):void 0},selectedData:function(){var d=this,c=d._getSelected();return b(c)?a(c).data(f):void 0},selectedItem:function(){return this._getSelected()},destroy:function(){var b=this,c=b._eventNS;b.dataSource&&b.dataSource.off(A+c),b._blurTimeout&&(clearTimeout(b._blurTimeout),b._blurTimeout=null),a(b.element).off(c).remove(),b._isWrapped&&b._original.unwrap(),b._original.show(),b._original=null,h.fn.destroy.call(b)}}),t.defaults=w,c.ui.plugin("Menu",t),I=y({},w,{orientation:o,target:d,filter:d,focusOnOpen:!0,minWidth:d}),u=h.extend({init:function(){h.fn.init.apply(this,arguments);var f,g,b=this,j=a(b.element),d=b.options,k=d.events,i={};f=b._eventNS=".shieldContextMenu"+b.getInstanceId(),b.menuElement=g=a('<div class="sui-context-menu"/>').hide().appendTo(q.body),d.minWidth&&b.menuElement.css("min-width",d.minWidth),L(["focus","blur","expand","collapse","click","select"],function(d,a){var c=k[a];J(c)&&(i[a]=e(c,b))}),b._menu=new t(j,y({},d,{renderToINTERNAL:g,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:i})),b._mouseTracker=new c.MouseTracker,a(d.target).on("contextmenu"+f,d.filter,function(c){return c.preventDefault(),b._open(b._mouseTracker.getPosition(c),a(c.currentTarget),!0,!1),!1}),a(q).on("mousedown"+f,function(c){a(c.target).closest(".sui-context-menu").length<=0&&b._closeOpen(!0)})},_open:function(g,d,j,k){var h,a=this,b=a.menuElement,e=a.options,f=e.animation,i=e.focusOnOpen;a._closeOpen(!1),j&&(h=a.trigger("open",{element:d}),h.isDefaultPrevented())||(b.stop(!0,!0),b.show(),G.Set(b,new c.Event({pageX:g.x,pageY:g.y}),{source:"left top",target:"left top",overflow:e.overflow}),f&&f.enabled?b.hide().slideDown(f.openDelay,function(){n=a,r=d,a._visible=!0,i&&a.focus()}):(n=a,r=d,a._visible=!0,i&&a.focus()))},_close:function(e){var d,a=this,b=a.menuElement,c=a.options.animation;e&&(d=a.trigger("close"),d.isDefaultPrevented())||(n=r=null,b.stop(!0,!0),c&&c.enabled?b.slideUp(c.closeDelay,function(){a._visible=!1}):(b.hide(),a._visible=!1))},_closeOpen:function(a){n&&n.closeINTERNAL(!0)},closeINTERNAL:function(a){this._close(a)},focus:function(){a(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var c,d,a=this,b=[].slice.call(arguments);return b.length>0?(c=!!b[0],d=b[1]?b[1]:a._mouseTracker.getPosition(),c?a._open(d,b[2],!1,!1):a._close(!1),a._visible=c,void 0):a._visible},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var b=this,c=b._eventNS;a(q).off(c),a(b.options.target).off(c),b._mouseTracker&&(b._mouseTracker.destroy(),b._mouseTracker=null),b._close(),b._menu&&(b._menu.destroy(),b._menu=null),a(b.menuElement).remove(),h.fn.destroy.call(b)}}),u.defaults=I,c.ui.plugin("ContextMenu",u)}(jQuery,shield,this);
!function(b,c,g,j){var a,d,e=c.ui.Widget,h=(b.extend,c.is),f=h.undefined,i="change";a={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},d=e.extend({init:function(b,c){var a=this;e.fn.init.apply(a,arguments),a._enabled=a.options.enabled,a._renderRating(b,c,!1)},_setSelection:function(b){var a=this;return a._enabled?(a._value=b,a._markPreset&&(a._markPreset=!1),a._range.find(".sui-rating-hover").hide(),a._range.find(".sui-rating-selected").width(b*a._symbolWidth-a._min*a._symbolWidth).show(),a.trigger(i),!0):void 0},_calcRawScore:function(e,d){var c=this,f=d.changedTouches?d.changedTouches[0].pageX:d.pageX,a=f-b(e).offset().left;return c._ltr||(a=c._range.width()-a),a>c._range.width()&&(a=c._range.width()),0>a&&(a=0),Math.ceil(a/c._symbolWidth*(1/c._step))},_setHover:function(d){var b,c,a=this;a._enabled&&(b=d*a._symbolWidth*a._step,c=a._range.find(".sui-rating-hover"),c.width()!=b&&(a._range.find(".sui-rating-selected").hide(),c.width(b).show()))},_touchHandler:function(b){var e=b.originalEvent.changedTouches,a=e[0],c="";switch(b.type){case"touchmove":c="mousemove";break;case"touchend":c="mouseup";break;default:return}var d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,g,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d),b.preventDefault()},_renderRating:function(e,c,g){var b=this,h=1;if(b._item=b.element,b._item.hasClass("sui-rating")||b._item.addClass("sui-rating"),b._ltr=!b.element.parent().hasClass("sui-rtl"),g){var d=null;f(b._value)?(d=isNaN(c.value)?a.value:c.value,b._value=d):d=b._value,b._enabled&&(b._wired=!1)}if(!b._initialized){b._min=isNaN(c.min)?a.min:c.min,b._max=isNaN(c.max)?a.max:c.max,b._step=isNaN(c.step)?a.step:c.step,b._symbolWidth=isNaN(c.symbolWidth)?a.symbolWidth:c.symbolWidth,b._symbolHeight=isNaN(c.symbolHeight)?a.symbolHeight:c.symbolHeight,b._value=isNaN(c.value)?a.value:c.value,b._markPreset=isNaN(c.markPreset)?a.markPreset:c.markPreset,e="DIV"==b._item[0].nodeName?"div":"span",h++;var j='<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+b._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+b._symbolHeight+'px"></{{element}}></{{element}}>',k=j.replace(/{{index}}/gi,h).replace(/{{element}}/gi,e);this.element.append(k),b._initialized=!0}b._item.find(".sui-rating-selected, .sui-rating-hover").height(b._symbolHeight),b._range=b._item.find(".sui-rating-range"),b._range.width(b._symbolWidth*(b._max-b._min)).height(b._symbolHeight);var i="sui-rating-preset"+(b._ltr?"":"-rtl");if(b._markPreset?b._item.find(".sui-rating-selected").addClass(i):b._item.find(".sui-rating-selected").removeClass(i),null!=b._value){var l=(b._value-b._min)*b._symbolWidth;b._item.find(".sui-rating-selected").width(l)}b._wired||(b._enabled&&(g||(b._range.on("touchmove touchend",b._touchHandler),b._range.mousemove(function(a){var c=b._calcRawScore(this,a);b._setHover(c)}),b._range.mouseleave(function(a){b._range.find(".sui-rating-hover").hide().width(0),b._item.trigger("hover",[null]).trigger("over",[null]),b._range.find(".sui-rating-selected").show()}),b._range.mouseup(function(a){var c=b._calcRawScore(this,a),d=c*b._step+b._min;b._setSelection(d),b._range.blur()}),b._range.keyup(function(a){(38==a.which||a.which==(b._ltr?39:37))&&b._setSelection(Math.min(b._value+b._step,b._max)),(40==a.which||a.which==(b._ltr?37:39))&&b._setSelection(Math.max(b._value-b._step,b._min))}))),b._wired=!0)},value:function(){var a=this,c=a.options,d=[].slice.call(arguments);if(!(d.length>0))return f(a._value)?f(c.value)?a._value:c.value:a._value;var b=d[0];b<a._min||b>a._max||(a.options.value=b,a._value=b,a._renderRating(a,c,!0))},enabled:function(){var a=this,d=a.options,b=a.element,c=[].slice.call(arguments);return c.length>0?(a._enabled=c[0],a._renderRating(a,d,!0),a._enabled?b.removeClass("sui-rating-disabled"):b.addClass("sui-rating-disabled"),void 0):a._enabled},destroy:function(){var a=this;b(a.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),a._range.off("touchmove touchend",a._touchHandler),a._markPreset=a._enabled=a._min=a._max=a._value=a._ltr=a._item=a._symbolWidth=a._symbolHeight=a._step=a._wired=a._initialized=a._range=null,e.fn.destroy.call(a)}}),d.defaults=a,c.ui.plugin("Rating",d)}(jQuery,shield,this);
!function(b,a,q,v){var e=a.ui.Widget,o=(a.Class,a.DataSource),s=document,n=a.is,j=(a.get,a.format),c=a.to["int"],k=(Math.abs,b.each,b.proxy),u=(b.extend,b.map,q.opera),r=navigator.userAgent,f=/msie/i.test(r)&&!u,d=f&&7===s.documentMode,i="width",p="sui-selected",h="sui-disabled",m="click",l="px",t={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{pageLabelTemplate:"{0}",infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},g=e.extend({init:function(d,g){e.fn.init.apply(this,arguments);var c,a=this,b=a.options;a.currentPage=b.currentPage,a._createWrappers(),a._createPagerElements(),f&&a.element.on("selectstart",a._selectStart=function(){return!1}),a.element.on(m,"a",a._click=k(a._clickHandler,a)),b.dataSource?(c=a.dataSource=o.create(b.dataSource),c.on("change.shieldPager"+a.getInstanceId(),k(a._dataChange,a)),a._updateDataSource()):a.refresh(!0)},destroy:function(){var a=this;a.dataSource&&a.dataSource.off("change.shieldPager"+a.getInstanceId()),a.pagination=null,a.infoBox=null,a.element.off("selectstart",a._selectStart),a._selectStart=null,a.element.off(m,"a",a._click),a._click=null,a.startLinkIndex=null,a.endLinkIndex=null,a.element.remove(),e.fn.destroy.call(a)},_clickHandler:function(d){var e=b(d.currentTarget),a=this;a.options;if(d.preventDefault(),!e.parent().hasClass(h)){var f=c(e.attr("data-page"));a.currentPage=f,a.refresh()}},_createWrappers:function(){var a=this,c=a.element;c.addClass("sui-pager sui-pager-core");var e=b("<ul />").appendTo(c);d?e.addClass("sui-pagination sui-pagination-ie7"):e.addClass("sui-pagination");var g=b("<div />").appendTo(c);f&&!d?g.addClass("sui-pager-info-box-ie"):g.addClass("sui-pager-info-box"),a.pagination=e,a.infoBox=g},_updateInfoBox:function(){var b=this,a=b.options,e=a.messages,c=a.pageSize*(b.currentPage-1)+1,d=c-1+a.pageSize,f=Math.ceil(a.totalItems/a.pageSize);d>a.totalItems&&(d=a.totalItems),0===a.totalItems&&(c=0);var g=j.call(b,e.infoBarTemplate,c,d,a.totalItems,b.currentPage,f);b.infoBox.empty(),b.infoBox.html(g)},_createPagerElements:function(){var k=this,g=k.options,a=g.messages,m=k.currentPage,q=k.pagination,n=Math.ceil(g.totalItems/g.pageSize),C=Math.min(g.pageLinksCount,n),e="",o="",u="",w="",t="",y=c((m-1)/g.pageLinksCount),v=y*g.pageLinksCount+1;1==m&&(u=" "+h),m!=n&&g.totalItems||(w=" "+h),g.imageLinks&&(a.previousText="&nbsp;",a.nextText="&nbsp;",a.firstText="&nbsp;",a.lastText="&nbsp;",o="sui-navigation-links ");var x=Math.min(v+C,n+1);k.startLinkIndex=v,k.endLinkIndex=x-1,y>0&&(e+="<li class='sui-pager-element'><a data-page='"+(k.startLinkIndex-1)+"'>...</a></li>");for(var f=v;x>f;f++){var B=j.call(k,a.pageLabelTemplate,f);f==m&&(t=" "+p),e+="<li class='sui-pager-element'><a data-page='"+f+"' class='sui-pager-number"+t+"'>"+B+"</a></li>",t=""}k.endLinkIndex<n&&(e+="<li class='sui-pager-element'><a data-page='"+(k.endLinkIndex+1)+"'>...</a></li>"),g.directionLinks&&(e="<li class='sui-pager-element"+u+"'><a title='"+a.previousTooltip+"' data-page='"+(m-1)+"' class='"+o+"sui-prev'>"+a.previousText+"</a></li>"+e,e=e+"<li class='sui-pager-element"+w+"'><a title='"+a.nextTooltip+"' data-page='"+(m+1)+"' class='"+o+"sui-next'>"+a.nextText+"</a></li>"),g.boundaryLinks&&(e="<li class='sui-pager-element"+u+"'><a title='"+a.firstTooltip+"' data-page='1' class='"+o+"'>"+a.firstText+"</a></li>"+e,e=e+"<li class='sui-pager-element"+w+"'><a title='"+a.lastTooltip+"' data-page='"+n+"' class='"+o+"'>"+a.lastText+"</a></li>"),q.html(e);var r=q.find("a");if(r.length>0&&(b(r[0]).addClass("sui-first"),b(r[r.length-1]).addClass("sui-last")),d){var s=q.find("li");if(s.length>0){var z=0;for(f=0;f<s.length;f++){var A=s[f].clientWidth;z+=A,b(s[f]).css(i,A+l)}q.css(i,z+l)}}},_dataChange:function(){var a=this,c=a.options,b=a.dataSource,d=b.take,e=Math.ceil(b.skip/d)+1;a.currentPage=e,c.pageSize=d,c.totalItems=b.total,a.refresh(!0)},refresh:function(c){var a=this,b=a.options;Math.ceil(b.totalItems/b.pageSize),a.currentPage,a.dataSource;a.pagination.empty(),a._createPagerElements(),a._updateInfoBox(),c||(a._updateDataSource(),a.trigger("change",{currentPage:a.currentPage,pageSize:b.pageSize}))},_updateDataSource:function(){var b=this,a=b.dataSource,c=b.options;a&&(a.skip=(b.currentPage-1)*c.pageSize,a.take=c.pageSize,a.read())},page:function(b){var a=this;if(!b)return a.currentPage;var d=c(b);a._isValidPage(d)&&(a.currentPage=d,a.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage=c,a.refresh()},next:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage!=c&&(a.currentPage=a.currentPage+1,a.refresh())},prev:function(){var a=this;a.options;1!=a.currentPage&&(a.currentPage=a.currentPage-1,a.refresh())},pageSize:function(b){var a=this,d=a.options;if(!b)return d.pageSize;var e=c(b);a._isValidPageSize(e)&&(a.currentPage=1,d.pageSize=e,a.refresh())},_isValidPage:function(c){var b=this.options,d=Math.ceil(b.totalItems/b.pageSize);return n.integer(c)?c>d||1>c?(a.error("Invalid page number. The page number must be greater than 0 and less than "+d+".",b.dieOnError),!1):!0:(a.error("Invalid page number. The page number must integer.",b.dieOnError),!1)},_isValidPageSize:function(b){var c=this.options;return n.integer(b)?1>b?(a.error("Invalid page number. The page number must be greater than 0 (zero).",c.dieOnError),!1):!0:(a.error("Invalid page size number. The page size number must be integer.",c.dieOnError),!1)}});g.defaults=t,a.ui.plugin("Pager",g),a.ui.Pager=g}(jQuery,shield,this);
!function(a,h,z,c){var fa,A,pa,F,ga,V,ia,W,na,$,R,E,ya,ba,aa,p,va,_,sa,Z,qa,Y,oa,U,g=h.ui.Widget,ea=(h.Class,h.DataSource),f=h.Constants.KeyCode,s=h.error,T=h.is.func,ta=h.is.array,e=h.is.defined,ra=(h.is.number,h.to.array),Ia=h.to["int"],S=h.to.number,B=h.support.browser,t=h.format,v=document,Ja=Math.min,La=Math.max,Ga=Math.pow,X=a.extend,Ka=(a.map,a.each),b=a.proxy,Q=a.inArray,ja="alt",ka="title",d="disabled",l="checked",H="selected",ua="itemclick",i="tabindex",xa="mousedown",Aa="mouseup",da="mouseout",k="click",r="keydown",Ba="keypress",Fa="keyup",Ea="cut",Da="paste",ca="dragstart",la="dragenter",ma="dragover",ha="drop",j="change",o="focus",n="blur",I="resize",x="select",Ca="input",u="value",P="placeholder",N="selectstart",M="unselectable",L="on",za="width",J="height",G="suilbitemdata",y="suilbitemindex",w="suilbitemvalue",K="suilbitemtext",q="uts",m="uti",Ha="uto",C=function(c){var b=a(c).prop("tagName").toLowerCase();return b==x?q:b==Ca?m:Ha},D=function(d){var c,b=a(d);b.focus(),b.get(0).setSelectionRange?(c=2*b.val().length,b.get(0).setSelectionRange(c,c)):b.val(b.val())},wa=function(a){a+="";var b=a.lastIndexOf(".");return b>-1?a.length-b-1:0},O=function(a,b){if(a&&!T(a))if(ta(a))for(var c=0;c<a.length;c++)O(a[c],b);else if(a.or||a.and)for(var d in a)a.hasOwnProperty(d)&&O(a[d],b);else a.value=b};fa={enabled:!0,cls:c,dataSource:c,readDataSource:!0,valueTemplate:c,textTemplate:c,multiple:c,selected:c,values:c,width:c,height:c,maxHeight:c,events:{}},A=g.extend({init:function(){g.fn.init.apply(this,arguments);var h,t,f,k,c=this,d=c.options,v=d.dieOnError,u=d.dataSource,p=d.selected,l=d.values,w=d.renderToINTERNAL,y=d.wrapOriginalINTERNAL,z=d.tabindexINTERNAL,A=d.filterINTERNAL,B=e(A)?{filter:A}:{},D=e(y)?y:!0;if(c._original=h=a(c.element),c._utype=k=C(h),k==m&&d.multiple)return c.destroy(),void s("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",v);if(c._eventNS=".shieldListBox"+c.getInstanceId(),e(l)||e(p)||k!=q&&k!=m||(l=h.val()),D?(c.wrapper=h.wrap("<span/>").parent(),c._isWrapped=!0):c._isWrapped=!1,h.hide(),c.element=f=a("<ul/>").on(o+c._eventNS,b(c._focus,c)).on(n+c._eventNS,b(c._blur,c)),e(d.width)&&f.css(za,d.width),e(d.height)&&f.css(J,d.height),e(d.maxHeight)&&f.css("max-height",d.maxHeight),a(w).length>0?a(w).append(f):h.after(f),u)c.dataSource=ea.create(u,B),d.valueTemplate||(d.valueTemplate="{0}"),d.textTemplate||(d.textTemplate="{0}");else{if(k!=q)return c.destroy(),void s("shieldListBox: No dataSource or underlying SELECT element found.",v);c.dataSource=ea.create(X({},{data:h,schema:{type:x}},B)),d.valueTemplate||(d.valueTemplate="{value}"),d.textTemplate||(d.textTemplate="{text}"),e(d.multiple)||(d.multiple=h.not("[multiple]").length<=0)}f.addClass("sui-listbox"),d.cls&&f.addClass(d.cls),t=e(z)?z:h.attr(i),f.attr(i,e(t)?t:"0"),f.on(r+c._eventNS,b(c._keydown,c)),c.dataSource.on(j+c._eventNS,b(c._dsChange,c)),e(l)?c._initValues=l:e(p)&&(c._initSelected=p),d.readDataSource&&c.dataSource.read(),c.enabled(d.enabled)},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(b){var a=this;a._oldSelection=a.selected(),a.trigger(o)},_blur:function(e){var b=this,d=b._oldSelection,c=b.selected();(0!==a(d).not(c).length||0!==a(c).not(d).length)&&b.trigger(j),b._oldSelection=c,b.trigger(n)},_dsChange:function(b){var a=this;a._render(),a._dsLoadedOnce||(a._dsLoadedOnce=!0,e(a._initValues)?a.values(a._initValues):e(a._initSelected)&&a.selected(a._initSelected))},_keydown:function(a){var b=this,c=!0;switch(a.keyCode){case f.UP:b._move("up",a);break;case f.DOWN:b._move("down",a);break;case f.SPACE:b._toggleActive(a);break;case f.ENTER:b._toggleActive(a);break;default:c=!1}c&&a.preventDefault()},_render:function(){var b=this,f=b.options,g=b.dataSource.view,h=a(b.element),d=b._utype,e=b._original;d==m?b._original.val():c;h.empty(),d==q?e.empty():d==m&&e.removeAttr(u),g&&Ka(g,function(i,c){var j=t.call(b,f.valueTemplate,c),g=t.call(b,f.textTemplate,c),k=a("<li>"+g+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(d){b._enabled&&(b._setActive(a(this)),b._toggleActive(d)),b.trigger(ua,{index:i,item:c})}).on(N,function(){return!1}).data(G,c).data(y,i).data(w,j).data(K,g);h.append(k),d==q&&e.append(a("<option/>").attr(u,j).text(g))})},_move:function(e,g){var c=this,f=a(c.element),d=f.find(".sui-listbox-item-active").first(),b=f.find(":first");c._enabled&&("up"==e?d.prev().length>0&&(b=d.prev()):"down"==e&&(d.next().length>0?b=d.next():d.length>0&&(b=d)),b.length<=0||(c.options.multiple?(c._setActive(b),c._ensureInScrollableArea(b)):c._select(b)))},_ensureInScrollableArea:function(d){var h=this,b=a(h.element),e=b.height(),f=b.scrollTop(),i=d.outerHeight(),c=d.position().top,g=c+i;0>c?b.scrollTop(f+c):g>e&&b.scrollTop(f+(g-e))},ensureActiveViewableINTERNAL:function(){var a=this,b=a._getActive();b.length>0&&a._ensureInScrollableArea(b)},_getActive:function(){return a(this.element).find(".sui-listbox-item-active").first()},_setActive:function(a){a.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active")},_setSelected:function(a){a.addClass("sui-listbox-item-selected")},_unsetSelected:function(a){a.removeClass("sui-listbox-item-selected")},_toggleActive:function(a){this._toggle(a,this._getActive())},_toggle:function(c,a){var b=this;b._enabled&&(!a||a.length<=0||(b.options.multiple&&a.hasClass("sui-listbox-item-selected")?b._deselect(a):b._select(a)))},_select:function(a,e){var b=this,c=b._original,d=b._utype;b.options.multiple||b.clearSelection(),b._setActive(a),b._ensureInScrollableArea(a),b._setSelected(a),d==q?c.find("option:eq("+a.data(y)+")").attr(H,H):d==m&&c.attr(u,a.data(w)),e||b.trigger(x,{index:a.data(y),item:a.data(G),value:a.data(w),text:a.data(K),selected:!0})},_deselect:function(a,e){var b=this,c=b._original,d=b._utype;b._setActive(a),b._unsetSelected(a),d==q?c.find("option:eq("+a.data(y)+")").removeAttr(H):d==m&&c.removeAttr(u),e||b.trigger(x,{index:a.data(y),item:a.data(G),value:a.data(w),text:a.data(K),selected:!1})},enabled:function(){var c,b=this,e=a(b.element),f=b._original,g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?(e.removeAttr(d).removeClass("sui-listbox-disabled"),f.removeAttr(d)):(e.attr(d,d).addClass("sui-listbox-disabled"),f.attr(d,d)),b._enabled=c,void 0):b._enabled},selected:function(){var d,f,c=this,g=a(c.element),b=[].slice.call(arguments);if(!(b.length>0)){var h=[];return g.find(".sui-listbox-item-selected").each(function(){h.push(a(this).data(y))}),h}d=ra(b[0]),f=e(b[1])?!!b[1]:!0,g.find(".sui-listbox-item").each(function(b){Q(b,d)>-1&&(f?c._select(a(this),!0):c._deselect(a(this),!0))})},selectedItems:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(G))}),b},values:function(){var c,b=this,d=a(b.element),e=[].slice.call(arguments);if(!(e.length>0)){var f=[];return d.find(".sui-listbox-item-selected").each(function(){f.push(a(this).data(w))}),f}c=ra(e[0]),d.find(".sui-listbox-item").each(function(){return Q(a(this).data(w),c)>-1?(b._select(a(this),!0),b.options.multiple?!0:!1):void 0})},texts:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(K))}),b},clearSelection:function(){var b=this,c=b._original,d=b._utype;d==q?c.find("option").removeAttr(H):d==m&&c.removeAttr(u),a(b.element).find(".sui-listbox-item-selected").removeClass("sui-listbox-item-selected sui-listbox-item-active")},destroy:function(){var b=this,c=b._eventNS;b._dsLoadedOnce=!1,a(b.element).off(c).remove(),b.dataSource&&b.dataSource.off(j+c),b._isWrapped&&b._original.unwrap(),b._original.show(),g.fn.destroy.call(b)}}),A.defaults=fa,h.ui.plugin("ListBox",A),ga={enabled:!0,cls:c,autoComplete:c,value:c,events:{}},V=g.extend({init:function(){g.fn.init.apply(this,arguments);var c=this,d=c.options,h=d.autoComplete,i=d.cls,j=d.value,f=a(c.element);c._eventNS=".shieldTextBox"+c.getInstanceId(),f.addClass("sui-input"),h&&(c.autoComplete=new F(f,h)),i&&f.addClass(i),f.on(o+c._eventNS,b(c._focus,c)).on(n+c._eventNS,b(c._blur,c)),c.enabled(d.enabled),e(j)&&c.value(j)},focus:function(){a(this.element).focus(),D(a(this.element))},_focus:function(c){var a=this;a.oldValue=a._value(),a.interval=setInterval(b(a._detectChanges,a),1),a.trigger(o)},_blur:function(a){clearInterval(this.interval),this.trigger(n)},_detectChanges:function(){var b,a=this;a._enabled&&a.oldValue!==a._value()&&(b=a.trigger(j,{value:a._value(),old:a.oldValue}),b.isDefaultPrevented()?a._value(a.oldValue):a.oldValue=a._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var b,c=this,e=a(c.element),f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?e.removeAttr(d).removeClass("sui-input-disabled"):e.attr(d,d).addClass("sui-input-disabled"),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.autoComplete,c=a.options.cls;clearInterval(a.interval),a.element.off(a._eventNS).removeClass("sui-input"+(c?" "+c:"")),b&&b.destroy(),g.fn.destroy.call(a)}}),V.defaults=ga,h.ui.plugin("TextBox",V),pa={dataSource:c,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:c,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},F=g.extend({init:function(){g.fn.init.apply(this,arguments);var c=this,e=a(c.element),d=c.options,f=d.dataSource,h=d.dieOnError;return c.pending=0,c.oldValue=e.val(),f?(f.filter||(f.filter={and:[{path:"",filter:"contains",value:""}]}),c._eventNS=".shieldAutoComplete"+c.getInstanceId(),e.addClass("sui-input"),c.listElement=a("<span/>").appendTo(v.body),c.listBox=new A(c.listElement,{cls:"sui-autocomplete",dataSource:f,readDataSource:!1,textTemplate:d.textTemplate,multiple:!1,width:d.dropDownWidth||e.innerWidth(),events:{select:function(a){c._value(t.call(c,d.valueTemplate,a.item))},itemclick:function(a){e.focus(),c._inputBlur(a,0)},blur:function(a){c._inputBlur(a,0)}}}),c.listBox.element.hide(),c.dataSource=c.listBox.dataSource,e.on(r+c._eventNS,b(c._inputKeydown,c)).on(n+c._eventNS,b(c._inputBlur,c,100)),c.listBox.dataSource.on(j+c._eventNS,b(c._dsChange,c)),a(z).on(I+c._eventNS,b(c._position,c)),c._open=!1,void(d.open&&c._searchTimeout())):(c.destroy(),void s("shieldAutoComplete: No dataSource set",h))},_checkValueUpdated:function(){var a=this,c=a.element,b=c.val();a.oldValue!==b&&(a.trigger(j,{value:a._value()}),a.oldValue=b)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(b){var a=this;switch(b.keyCode){case f.TAB:break;case f.UP:case f.DOWN:a._inputUpDown(b);break;case f.ENTER:b.preventDefault(),a.cancelSearch=!0,a._hideItemList(),a._checkValueUpdated();break;case f.ESC:b.preventDefault(),a.cancelSearch=!0,a._hideItemList(),a._restoreOldValue();break;default:a._searchTimeout(b)}},_inputUpDown:function(c){var b=this;b._open?b._hasData()&&a(b.listBox.element).trigger(c):b._hasData()&&b._showItemList()},_inputBlur:function(d,c){var b=this;setTimeout(function(){a(b.listBox.element).is(":focus")||(b._hideItemList(),b._checkValueUpdated())},c)},_searchTimeout:function(b){var a=this;clearTimeout(a.searchTimeout),a.searchTimeout=setTimeout(function(){a.term!==a._value()&&a._search()},a.options.delay)},_search:function(){var b=this;return b.term=b._value(),b.term.length<b.options.minLength?void b._hideItemList():(b.cancelSearch=!1,b.pending++,a(b.element).addClass("sui-autocomplete-loading"),O(b.listBox.dataSource.filter,b.term),void b.listBox.dataSource.read())},_dsChange:function(){var b=this;b.pending--,b.pending||a(b.element).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showItemList():b._hideItemList()},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_position:function(){var b=this,c=a(b.element),e=a(b.listBox.element),d=c.offset(),f=c.outerHeight();e.css({top:d.top+f,left:d.left,width:b.options.dropDownWidth||c.innerWidth()})},_showItemList:function(){var c=this,d=c.listBox,f=a(d.element),e=c.options.animation;c._position(),e&&e.enabled?f.slideDown(e.openDelay,b(d.ensureActiveViewableINTERNAL,d)):(f.show(),d.ensureActiveViewableINTERNAL()),c._open=!0},_hideItemList:function(){var b=this,d=a(b.listBox.element),c=b.options.animation;c&&c.enabled?d.slideUp(c.closeDelay):d.hide(),b._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){a(this.listBox.element).hide()},show:function(){a(this.listBox.element).show()},isVisible:function(){return a(this.listBox.element).is(":visible")},destroy:function(){var b=this;b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(j+b._eventNS),b.listBox.destroy(),b.listBox=null),b.element.off(b._eventNS).removeClass("sui-input"),a(z).off(I+b._eventNS),b.listElement&&b.listElement.remove(),g.fn.destroy.call(b)}}),F.defaults=pa,h.ui.plugin("AutoComplete",F),ia={enabled:!0,cls:"",min:0,max:100,value:c,step:c,editable:!0,spinners:!0,valueTemplate:c,textTemplate:c,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},W=g.extend({init:function(){g.fn.init.apply(this,arguments);var k,t,l,h,v,w,p,q,c=this,d=c.options,u=d.cls,j=d.value,f=d.step,D=d.editable,x=d.spinners,y=d.labels,z=y.increase,A=y.decrease,B=d.dieOnError;return c._original=k=a(c.element),C(k)!=m?void s("shieldNumericTextBox: Underlying element is not INPUT",B):(e(f)?d.step=f=S(f):(p=wa(e(j)?j:c._value()),p>0?d.step=f=1/Ga(10,p):d.step=f=1),f?(c._eventNS=".shieldNumericTextBox"+c.getInstanceId(),c.element=l=k.wrap("<span/>").parent(),k.hide(),e(j)||(j=c._value()),D?(h=a('<input type="text" class="sui-input" />'),t=k.attr(P),e(t)&&h.attr(P,t)):h=a('<span class="sui-input">&nbsp;</span>').attr(i,"0"),c.textElement=h,h.appendTo(l),h.on(o+c._eventNS,b(c._focus,c)).on(n+c._eventNS,b(c._blur,c)),x&&(c._onSpinUpMDProxy=b(c._spinUpMD,c),c._onSpinDownMDProxy=b(c._spinDownMD,c),c._onSpinnerMUProxy=b(c._spinnerMU,c),c.spinUp=v=a('<span class="sui-spinner sui-spinner-up sui-unselectable" />').html('<span class="sui-caret-up sui-unselectable" unselectable="on" />').attr(M,L).attr(ja,z).attr(ka,z).on(xa+c._eventNS,c._onSpinUpMDProxy).on(Aa+c._eventNS,c._onSpinnerMUProxy).on(da+c._eventNS,c._onSpinnerMUProxy).on(N+c._eventNS,function(){return!1}),c.spinDown=w=a('<span class="sui-spinner sui-spinner-down sui-unselectable" />').html('<span class="sui-caret-down sui-unselectable" unselectable="on" />').attr(M,L).attr(ja,A).attr(ka,A).on(xa+c._eventNS,c._onSpinDownMDProxy).on(Aa+c._eventNS,c._onSpinnerMUProxy).on(da+c._eventNS,c._onSpinnerMUProxy).on(N+c._eventNS,function(){return!1}),l.append(a('<span class="sui-spinners" />').append(v,w))),h.on(r+c._eventNS,b(c._keydown,c)),l.addClass("sui-numeric-textbox"+(x?"":" sui-numeric-textbox-nosp")+(u?" "+u:"")),q=wa(f),e(d.textTemplate)||(d.textTemplate="{0:n"+q+"}"),e(d.valueTemplate)||(d.valueTemplate="{0:n"+q+"}"),c.enabled(d.enabled),e(j)&&c.value(j),void(c._destroyed=!1)):void s("shieldNumericTextBox: Invalid step",B))},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(c){var b=this;b._hasFocus||(b._hasFocus=!0,a(b.element).addClass("sui-numeric-textbox-focus"),b.value(b.value()),b.trigger(o))},_blur:function(g){var b=this,d=a(b.element),e=a(b.textElement);if(b.options.editable){var c,f=b.value();b._updateIfDirty(),c=b.value(),c!==f&&b.trigger(j,{value:c})}setTimeout(function(){if(!(d.is(":focus")||e.is(":focus")||b._destroyed)){if(b._hasFocus=!1,d.removeClass("sui-numeric-textbox-focus"),b.options.editable){var a,c=b.value();b.value(e.val()),a=b.value(),a!==c&&b.trigger(j,{value:a})}else b.value(b.value());b.trigger(n)}},100)},_keydown:function(c){var b=this,a=c.keyCode,d=b._enabled;switch(a){case f.TAB:case f.LEFT:case f.RIGHT:case f.END:case f.HOME:break;case f.ESC:d&&b.value(b.value()),c.preventDefault();break;case f.UP:b._updateValue(!0,!1),c.preventDefault();break;case f.DOWN:b._updateValue(!1,!1),c.preventDefault();break;default:b.options.editable&&d&&(a>=48&&57>=a||a>=96&&105>=a||190==a||110==a||173==a||109==a||189==a||a==f.DEL||a==f.BACK||a==f.ENTER||c.ctrlKey&&(118==a||86==a))?b._dirty=!0:c.preventDefault()}},_spinUpMD:function(c){var a=this;c.preventDefault(),a._updateValue(!0,!1),a._spinUpCancel=!1,setTimeout(function(){a._spinUpInt||a._spinUpCancel||(a._spinUpInt=setInterval(b(a._updateValue,a,!0,!1),20))},100)},_spinDownMD:function(c){var a=this;c.preventDefault(),a._updateValue(!1,!1),a._spinDownCancel=!1,setTimeout(function(){a._spinDownInt||a._spinDownCancel||(a._spinDownInt=setInterval(b(a._updateValue,a,!1,!1),20))},100)},_spinnerMU:function(b){var a=this;a._spinUpCancel=a._spinDownCancel=!0,clearInterval(a._spinUpInt),clearInterval(a._spinDownInt),a._spinUpInt=a._spinDownInt=null},_updateIfDirty:function(){var b=this,c=a(b.textElement);b._dirty&&(b.value(c.val()),b._dirty=!1)},_updateValue:function(n,g,f){var c,b=this,d=b.options,l=d.min,m=d.max,i=d.step,k=a(b.textElement),h=!1;b._enabled&&(b._updateIfDirty(),c=b.value(),e(c)||(c=0),g=e(g)?!!g:!0,f=e(f)?!!f:!0,n?m>c&&(b.value(c+i),h=!0):c>l&&(b.value(c-i),h=!0),f&&(k.focus(),d.editable&&D(k)),h&&!g&&b.trigger(j,{value:b.value()}))},increment:function(){this._updateValue(!0,!0,!1)},decrement:function(){this._updateValue(!1,!0,!1)},value:function(){var b,g,c=this,d=c.options,f=[].slice.call(arguments),h=a(c.textElement);return f.length>0?(e(f[0])&&null!==f[0]&&""!==f[0]?(b=La(Ja(f[0],d.max),d.min),b=t.call(c,d.valueTemplate,b),b=S(b),g=t.call(c,d.textTemplate,b)+""):(b=null,g=""),d.editable?c._hasFocus&&c._enabled?h.val(b):h.val(g):h.html(g),c._value(b),void 0):S(c._value())},_value:function(){return this._original.attr.apply(this._original,[u].concat([].slice.call(arguments)))},enabled:function(){var b,c=this,e=a(c.element),f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?e.removeAttr(d).removeClass("sui-numeric-textbox-disabled"):e.attr(d,d).addClass("sui-numeric-textbox-disabled"),c._enabled=b,void 0):c._enabled},focus:function(){a(this.textElement).focus(),D(a(this.textElement))},destroy:function(){var b=this;b._destroyed=!0,b.options.spinners&&(a(b.spinUp).off(b._eventNS).remove(),a(b.spinDown).off(b._eventNS).remove(),b.spinUp=b.spinDown=null),a(b.textElement).off(b._eventNS).remove(),b.textElement=null,b._original.unwrap().show(),b._original=null,g.fn.destroy.call(b)}}),W.defaults=ia,h.ui.plugin("NumericTextBox",W),na={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(a){return/^[0-9]$/.test(a)},9:function(a){return/^[0-9 ]$/.test(a)},"#":function(a){return/^[0-9 \+\-]$/.test(a)},L:function(a){return/^[a-zA-Z]$/.test(a)},"?":function(a){return/^[a-zA-Z ]$/.test(a)},"&":function(a){return/^[\S]$/.test(a)},C:function(a){return/^[.]$/.test(a)},A:function(a){return/^[0-9a-zA-Z]$/.test(a)},a:function(a){return/^[0-9a-zA-Z ]$/.test(a)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:c,events:{}},$=g.extend({init:function(){g.fn.init.apply(this,arguments);var c=this,d=c.options,h=d.dieOnError,i=d.value,f=a(c.element);return C(f)!=m?void s("shieldMaskedTextBox: Underlying element is not INPUT",h):c._verifyMask()?(c._eventNS=".shieldMaskedTextBox"+c.getInstanceId(),f.addClass("sui-input"),d.cls&&f.addClass(d.cls),e(i)&&c.value(i),f.on(o+c._eventNS,b(c._focus,c)).on(n+c._eventNS,b(c._blur,c)).on(r+c._eventNS,b(c._keydown,c)).on(Ba+c._eventNS,b(c._keypress,c)).on(Ea+c._eventNS,b(c._cut,c)).on(Da+c._eventNS,b(c._paste,c)).on(ca+c._eventNS,b(c._dragstart,c)).on(la+c._eventNS,b(c._dragenter,c)).on(ma+c._eventNS,b(c._dragover,c)).on(ha+c._eventNS,b(c._drop,c)),void c.enabled(d.enabled)):void s("shieldMaskedTextBox: Invalid mask",h)},_getMask:function(){var a,b,c=this,d=c.options.mask,e="";for(b=0;b<d.length;b++)a=d.charAt(b),e+=c._isCultureSpecific(a)?c._getCultureSpecific(a):a;return e},_isCultureSpecific:function(a){return-1!==Q(a,this.options.cultureSpecific)},_getCultureSpecific:function(a){var b=h.getCurrencyInfo();return"$"==a?b.symbol:b[a]},_skipSymbol:function(a){var b=this,c=b.options.separators;return-1!==Q(a,c)||b._isCultureSpecific(a)},_insertAt:function(a,c,b){return a.substr(0,b)+c+a.substr(b)},_removeAt:function(a,b){return a.substr(0,b)+a.substr(b+1)},_caret:function(c,d){var e,f=this,b=a(f.element);if(0!==b.length&&!b.is(":hidden"))return"number"==typeof c?(d="number"==typeof d?d:c,b.each(function(){b.setSelectionRange?b.setSelectionRange(c,d):b.createTextRange&&(e=b.createTextRange(),e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select())})):(b[0].setSelectionRange?(c=b[0].selectionStart,d=b[0].selectionEnd):v.selection&&v.selection.createRange&&(e=v.selection.createRange(),c=0-e.duplicate().moveStart("character",-1e5),d=c+e.text.length),{begin:c,end:d})},_caretTo:function(e){var f=this,b=a(f.element);if(b.prop("selectionStart")!==c)b.prop("selectionStart",e),b.prop("selectionEnd",e);else if(v.selection){b.focus();var d=v.selection.createRange();d.moveStart("character",-f.value().length),d.moveEnd("character",-f.value().length),d.moveStart("character",e),d.select()}},_isValid:function(f,c){var a,b=this,d=b._getMask(),e=b.options.rules;return c>=d.length?!1:(a=d.charAt(c),T(e[a])&&e[a].call(b,f))},_removeRegion:function(i){var f,d,a=this,j=a.options,e=a._getMask(),b=a._value(),g=a._caret(),h=j.promptChar,c=g.begin;if(c==g.end)i?(f=e.charAt(--c),a._skipSymbol(f)||(c>=0?(b=a._removeAt(b,c),b=a._insertAt(b,h,c),a._value(b)):c=0)):c<b.length&&(f=e.charAt(c),a._skipSymbol(f)?c++:(b=a._shiftLeft(b,c),a._value(b)));else{for(d=c;d<g.end;d++)a._skipSymbol(e.charAt(d))||(b=a._removeAt(b,d),b=a._insertAt(b,h,d));for(;a._skipSymbol(e.charAt(c));)++c;for(d=c;d<g.end;d++)a._skipSymbol(e.charAt(d))||(b=a._shiftLeft(b,c));a._value(b)}a._caretTo(c)},_shiftLeft:function(a,h){for(var e,f,d,b=this,i=b.options,j=b._getMask(),g=i.promptChar,c=h;c<a.length-1;){for(d=c+1;b._skipSymbol(j.charAt(d));)d++;if(d>a.length-1)break;e=a.charAt(d),a=b._removeAt(a,c),f=b._isValid(e,c),a=b._insertAt(a,f?e:g,c),c=d}return a=b._removeAt(a,c),a=b._insertAt(a,g,c)},_shiftRightKey:function(a,f){var e,d,j,c=this,m=c.options,k=c._getMask(),l=a.charAt(f),g=m.promptChar;if(l!=g&&f<a.length-1){for(var h=f+1,i=a.charAt(h);i!=g&&h<=a.length;)i=a.charAt(++h);if(i==g)for(var b=h;b>f;){if(!c._skipSymbol(k.charAt(b))){for(d=b-1,e=a.charAt(d);c._skipSymbol(k.charAt(d));)e=a.charAt(--d);a=c._removeAt(a,b),j=c._isValid(e,b),a=c._insertAt(a,j?e:g,b)}b--}}return a},_shiftRightPaste:function(a,h){var f,d,b,g,c=this,i=c.options,j=c._getMask(),k=i.promptChar,e=h;for(d=a.charAt(e);e<a.length-1;){for(b=e+1;c._skipSymbol(j.charAt(b));)b++;if(b>a.length-1)break;f=a.charAt(b),a=c._removeAt(a,b),g=c._isValid(d,b),a=c._insertAt(a,g?d:k,b),d=f,e=b}return a},_commit:function(e){for(var c,a=this,f=a._getMask(),d=a._caret(),b=d.begin;a._skipSymbol(f.charAt(b));)++b;if(a._isValid(e,b)){for(d.end>d.begin&&a._removeRegion(!1),c=a._value(),c=a._shiftRightKey(c,b),c=a._removeAt(c,b),c=a._insertAt(c,e,b),a._value(c),b++;a._skipSymbol(f.charAt(b));)b++;a._caretTo(b)}},_verifyValue:function(c){var d=this,b=d._getMask();if(c.length!=b.length)return!1;for(var a=0;a<b.length;a++)if(d._skipSymbol(b.charAt(a))){if(b.charAt(a)!==c.charAt(a))return!1}else if(!d._isValid(c.charAt(a),a))return!1;return!0},_verifyMask:function(){for(var d,b=this,c=b._getMask(),e=b.options.rules,a=0;a<c.length;a++)if(!b._skipSymbol(c.charAt(a))&&(d=c.charAt(a),!T(e[d])))return!1;return!0},_applyMask:function(){for(var a=this,e=a.options,c=a._getMask(),f=e.promptChar,d="",b=0;b<c.length;b++)d+=a._skipSymbol(c.charAt(b))?c.charAt(b):f;a._value(d)},_isEmptyMask:function(){for(var a=this,d=a._value(),e=a.options,c=a._getMask(),f=e.promptChar,b=0;b<c.length;b++)if(!a._skipSymbol(c.charAt(b))&&d.charAt(b)!==f)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(d){var c,b=this;a(b.element).addClass("sui-input-focus"),c=b._value(),c&&""!==c||b._applyMask(),b.trigger(o)},_blur:function(a){this._clearMaskOnBlur(),this.trigger(n)},_preventDrag:function(a){if(a.type==ca||a.type==la||a.type==ma||a.type==ha){var b=a.originalEvent.dataTransfer;return a.type==ca?b.effectAllowed="none":b.dropEffect="none",a.stopPropagation&&(a.preventDefault(),a.stopPropagation()),!1}},_triggerChange:function(b){var d,a=this;b!==a._value()&&(d=a.trigger(j,{value:a._value(),old:b}),d.isDefaultPrevented()&&a._value(a.oldValue)),clearInterval(a.changeInterval),a.changeInterval=c},_dragstart:function(a){return this._preventDrag(a)},_dragenter:function(a){return this._preventDrag(a)},_dragover:function(a){return this._preventDrag(a)},_drop:function(a){return this._preventDrag(a)},_keydown:function(e){var a=this,d=e.keyCode,h=a._enabled,g=a._value();switch(h||e.preventDefault(),d){case f.BACK:case f.DEL:a._removeRegion(d==f.BACK),a.changeInterval===c&&(a.changeInterval=setInterval(b(a._triggerChange,a,g),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(d){case 118:case 86:case 122:case 90:case 121:case 89:118==d||86==d?a._paste(e):(122==d||90==d)&&(a._undo(),a.changeInterval===c&&(a.changeInterval=setInterval(b(a._triggerChange,a,g),20))),e.preventDefault()}}},_keypress:function(d){var e,a=this,h=d.keyCode,i=d.which,g=(a._enabled,a._value());if(!d.ctrlKey){switch(h){case f.HOME:case f.END:case f.LEFT:case f.RIGHT:case f.TAB:if(!B.ie)return;break;default:e=String.fromCharCode(i),a._commit(e)}d.preventDefault(),a.changeInterval===c&&g!=a._value()&&(a.changeInterval=setInterval(b(a._triggerChange,a,g),20))}},_cut:function(e){var a=this,d=a._caret();a.cutInterval===c&&(a.cutInterval=setInterval(b(a._aftercut,a,d),20))},_aftercut:function(g){var e,a=this,f=a._getMask(),b=a.value(),i=b,j=a.options.promptChar,d=g.begin;for(e=d;e<g.end;e++)b=a._insertAt(b,a._skipSymbol(f.charAt(e))?f.charAt(e):j,e);for(a._value(b),a._caretTo(d);a._skipSymbol(f.charAt(d));)++d;for(var h=d;h<g.end;h++)a._skipSymbol(f.charAt(h))||(b=a._shiftLeft(b,d));a._value(b),a._caretTo(d),clearInterval(a.cutInterval),a.cutInterval=c,a._triggerChange(i)},_paste:function(i){var g,j,h,f,a=this,m=a._getMask(),d=a._value(),o=d,l=a._caret(),e=l.begin,k=a.options.promptChar,n=i.originalEvent||i;if(e==d.length)return void i.preventDefault();if(n.clipboardData?g=n.clipboardData.getData("text/plain"):z.clipboardData&&(g=z.clipboardData.getData("Text")),null==g)return void i.preventDefault();if(e==l.end){for(;a._skipSymbol(m.charAt(e));)e++;for(f=g.length-1;f>=0;f--)d=a._shiftRightPaste(d,e),d=a._removeAt(d,e),j=a._isValid(g.charAt(f),e),d=a._insertAt(d,j?g.charAt(f):k,e);e+=g.length}else{for(h=e;h<l.end;h++)a._skipSymbol(m.charAt(h))||(d=a._removeAt(d,h),d=a._insertAt(d,k,h));for(f=0;f<g.length;f++){for(;a._skipSymbol(m.charAt(e));)e++;d=a._removeAt(d,e),j=a._isValid(g.charAt(f),e),d=a._insertAt(d,j?g.charAt(f):k,e),e++}}a._value(d),a._caretTo(e),i.preventDefault(),a.changeInterval===c&&(a.changeInterval=setInterval(b(a._triggerChange,a,o),20))},_undo:function(){var a=this;a._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(arguments.length>0){var a=[].slice.call(arguments);if(!this._verifyValue(a[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var b,c=this,e=a(c.element),f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?e.removeAttr(d).removeClass("sui-input-disabled"):e.attr(d,d).addClass("sui-input-disabled"),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.options.cls;a.element.off(a._eventNS).removeClass("sui-input"+(b?" "+b:"")),g.fn.destroy.call(a)}}),$.defaults=na,h.ui.plugin("MaskedTextBox",$),R={editable:!0,enabled:!0,open:!1,cls:c,dataSource:c,autoComplete:{enabled:!1,delay:200,minLength:0,filter:c},valueTemplate:c,textTemplate:c,inputTemplate:c,selected:c,value:c,width:c,height:c,dropDownWidth:c,dropDownHeight:200,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},E=g.extend({init:function(){g.fn.init.apply(this,arguments);var m,t,y,h,l,E,d=this,f=d.options,p=f.editable,G=f.dieOnError,u=f.dataSource,D=f.autoComplete,w=f.selected,H=f.value,F=c;return d._original=m=a(d.element),d._utype=C(m),u||d._utype==q?(d._eventNS=".shieldComboBox"+d.getInstanceId(),d.pending=0,d.element=h=m.wrap("<span/>").parent(),m.hide(),d._onDDHandler=b(d._onDD,d),p?(l=a('<input type="text" class="sui-input" />').focus(function(){a(this).parent().addClass("sui-combobox-focus")}).blur(function(){a(this).parent().removeClass("sui-combobox-focus"),d._blur()}),y=m.attr(P),e(y)&&l.attr(P,y)):l=a('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(M,L).on(k+d._eventNS,d._onDDHandler).on(N+d._eventNS,function(){return!1}),d.textElement=l,l.appendTo(h),d.ddElement=E=a('<span class="sui-caret-container sui-unselectable" />').html('<span class="sui-caret sui-unselectable" unselectable="on" />').attr(M,L).on(k+d._eventNS,d._onDDHandler).appendTo(h),h.addClass(p?"sui-combobox":"sui-dropdown"),f.cls&&h.addClass(f.cls),t=m.attr(i),p?l.attr(i,e(t)?t:"0"):h.attr(i,e(t)?t:"0"),e(f.width)&&h.css(za,f.width),e(f.height)&&(h.css(J,f.height),l.css(J,f.height),E.css(J,f.height)),h.on(r+d._eventNS,b(d._keydown,d)).on(Fa+d._eventNS,b(d._keyup,d)),d._focusHandler=b(d._focus,d),p?l.on(o+d._eventNS,d._focusHandler):h.on(o+d._eventNS,d._focusHandler),h.on(n+d._eventNS,b(d._blur,d)),d.listElement=a("<span/>").appendTo(v.body),D&&(F=e(D.filter)?D.filter:u&&u.filter?u.filter:d._utype==q?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),d.listBox=new A(m,{cls:"sui-autocomplete",dataSource:u,readDataSource:!1,valueTemplate:f.valueTemplate,textTemplate:f.textTemplate,multiple:!1,selected:e(w)&&ta(w)?w[0]:w,values:H,width:f.dropDownWidth||h.innerWidth(),maxHeight:f.dropDownHeight,renderToINTERNAL:d.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:B.ie&&B.version<=8?0:-1,filterINTERNAL:F,events:{select:function(a){d._onLBSelChanged(),d.trigger(x,{index:a.index,item:a.item,text:a.text,value:a.value})},itemclick:function(a){p?l.focus():h.focus(),d._hideDD(),d.trigger(ua,{index:a.index,item:a.item,text:a.text,value:a.value})},blur:function(a){setTimeout(b(d._blur,d),20)}}}),d.listBox.element.hide(),d.dataSource=d.listBox.dataSource,d.listBox.dataSource.on(j+d._eventNS,b(d._dsChange,d)),f.textTemplate=d.listBox.options.textTemplate,f.valueTemplate=d.listBox.options.valueTemplate,d.listBox.dataSource.read(),a(z).on(I+d._eventNS,b(d._position,d)),d.enabled(f.enabled),d._open=!1,f.enabled&&f.open&&d._showDD(),void(d._destroyed=!1)):(d.destroy(),void s((p?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",G))},refresh:function(a){this.refreshWithElement(this._original,a)},focus:function(){this.options.editable?(a(this.textElement).focus(),D(a(this.textElement))):a(this.element).focus()},_focus:function(b){var a=this;a._hasFocus||(a._hasFocus=!0,a._oldValue=a.value(),a.trigger(o))},_blur:function(c){var b=this;setTimeout(function(){b._destroyed||null==b.listBox||a(b.listBox.element).is(":focus")||a(b.element).is(":focus")||a(b.textElement).is(":focus")||(b._hideDD(),b._oldValue!==b.value()&&b.trigger(j),b.trigger(n),b._hasFocus=!1)},100)},_keydown:function(a){var b=this;switch(a.keyCode){case f.TAB:break;case f.UP:case f.DOWN:b._keydownUpDown(a),a.preventDefault();break;case f.ESC:case f.ENTER:a.preventDefault(),b.cancelSearch=!0,b._hideDD();break;default:b._keydownDefault(a)}},_keyup:function(d){var b=this,c=d.keyCode;b.options.editable&&b._utype==m&&c!=f.UP&&c!=f.DOWN&&c!=f.ENTER&&a(b._original).attr(u,a(b.textElement).val())},_keydownUpDown:function(b){this._enabled&&a(this.listBox.element).trigger(b)},_keydownDefault:function(b){var a=this;a.listBox.clearSelection(),a._searchTimeout(b)},_searchTimeout:function(d){var b=this,c=b.options.autoComplete;c&&c.enabled&&(clearTimeout(b.searchTimeout),b.searchTimeout=setTimeout(function(){b.term!==a(b.textElement).val()&&b._search()},c.delay))},_search:function(){var b=this;b.listBox.dataSource;return b.term=a(b.textElement).val(),
b.term.length<b.options.autoComplete.minLength?void b._hideDD():(b.cancelSearch=!1,b.pending++,a(b.textElement).addClass("sui-autocomplete-loading"),O(b.listBox.dataSource.filter,b.term),void b.listBox.dataSource.read())},_dsChange:function(){var b=this,d=b._original,e=b._utype,c=b.textElement.val();return b._dsLoaded?(b.pending--,b.pending||a(b.textElement).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showDD():b._hideDD(),e==q?d.val(c):e==m&&d.attr(u,c),void b.trigger(x,{index:-1,item:c})):(b._dsLoaded=!0,!b.options.editable&&b.listBox.selected().length<=0&&b.listBox.selected(0),void b._onLBSelChanged())},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_onLBSelChanged:function(){var h,f,d,a=this,b=a.options,g=b.editable,i=a.listBox,c=i.selectedItems();c&&c.length>0?(h=t.call(a,b.valueTemplate,c[0]),f=t.call(a,b.textTemplate,c[0]),d=e(b.inputTemplate)?t.call(a,b.inputTemplate,c[0]):f,g?a.textElement.val(d):a.textElement.html(d)):g?a.textElement.val(""):a.textElement.html("&nbsp;")},_onDD:function(c){var a=this,b=a.textElement;a.options.editable?(b.focus(),D(b)):a.element.focus(),a._open?a._hideDD():a._hasData()&&a._showDD()},_position:function(){var b=this,c=a(b.element),e=a(b.listBox.element),d=c.offset(),f=c.outerHeight();e.css({top:d.top+f,left:d.left,width:b.options.dropDownWidth||c.innerWidth()})},_showDD:function(){var c=this,d=c.listBox,f=a(d.element),e=c.options.animation;c._enabled&&(c._position(),e&&e.enabled?f.slideDown(e.openDelay,b(d.ensureActiveViewableINTERNAL,d)):(f.show(),d.ensureActiveViewableINTERNAL()),c._open=!0)},_hideDD:function(){var b=this,d=a(b.listBox.element),c=b.options.animation;c&&c.enabled?d.slideUp(c.closeDelay):d.hide(),b._open=!1},enabled:function(){var c,b=this,e=b.options.editable,f=a(b.element),g=b.textElement,h=b.ddElement,i=b._original,j=[].slice.call(arguments);return j.length>0?(c=!!j[0],c?(f.removeAttr(d).removeClass(e?"sui-combobox-disabled":"sui-dropdown-disabled"),g.removeAttr(d),h.removeAttr(d),i.removeAttr(d)):(b._open&&b._hideDD(),f.attr(d,d).addClass(e?"sui-combobox-disabled":"sui-dropdown-disabled"),g.attr(d,d),h.attr(d,d),i.attr(d,d)),b._enabled=c,void 0):b._enabled},selected:function(){var a,c=this,b=c.listBox,d=[].slice.call(arguments);return d.length>0?(a=d[0],b.clearSelection(),e(a)&&(a=Ia(a),a>-1?b.selected(a):c.options.editable||b.selected(0)),c._onLBSelChanged(),void 0):(a=b.selected(),a&&a.length>0?a[0]:-1)},selectedItem:function(){var b=this,a=b.listBox.selectedItems();return a&&a.length>0?a[0]:null},value:function(){var b,c=this,d=c.listBox,e=[].slice.call(arguments);return e.length>0?(d.clearSelection(),d.values(e[0]),c._onLBSelChanged(),void 0):(b=d.values(),b&&b.length>0?b[0]:c.options.editable?a(c.textElement).val():null)},text:function(){var b=this,c=b.listBox.texts();return c&&c.length>0?c[0]:b.options.editable?a(b.textElement).val():null},destroy:function(){var b=this,e=a(b.element),c=a(b.textElement),d=a(b.ddElement);b._destroyed||(b._destroyed=!0,b._dsLoaded=!1,c.off(b._eventNS),d.off(b._eventNS),b._onDDHandler=null,a(z).off(I+b._eventNS),e.off(b._eventNS),b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(j+b._eventNS),b.listBox.destroy(),b.listBox=null),a(b.listElement).remove(),c.remove(),d.remove(),b._original.unwrap().show(),b._original=null,g.fn.destroy.call(b))}}),E.defaults=R,h.ui.plugin("ComboBox",E),ya=X({},R,{editable:!1,autoComplete:c}),ba=E.extend({init:function(b,a){a&&(a.editable=!1,a.autoComplete=c),E.prototype.init.call(this,b,a)}}),ba.defaults=ya,h.ui.plugin("DropDown",ba),aa={enabled:!0,cls:c,toggle:!1,checked:!1,events:{}},p=g.extend({init:function(){g.fn.init.apply(this,arguments);var c=this,d=a(c.element),e=c.options,f=e.cls;c._eventNS=".shieldButton"+c.getInstanceId(),d.addClass("sui-button"),f&&d.addClass(f),d.on(k+c._eventNS,b(c._click,c)),c.enabled(e.enabled),e.toggle&&(c._checked=!!e.checked,c._checked?d.addClass("sui-button-checked"):d.removeClass("sui-button-checked"))},_click:function(d){var b=this,c=a(b.element);b._enabled&&(b.options.toggle&&(b._checked=!b._checked,b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked")),b.trigger(k,d))},checked:function(){var b=this,c=a(b.element),d=[].slice.call(arguments);return d.length>0?void(b.options.toggle&&(b._checked=!!d[0],b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked"))):b._checked},enabled:function(){var b,c=this,e=a(c.element),f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?e.removeAttr(d).removeClass("sui-button-disabled"):e.attr(d,d).addClass("sui-button-disabled"),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.options.cls;a.element.off(k+a._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(b?" "+b:"")),g.fn.destroy.call(a)}}),p.defaults=aa,h.ui.plugin("Button",p),va=X({},aa,{menu:c,dataSource:c,events:{}}),_=p.extend({init:function(){if(p.fn.init.apply(this,arguments),h.ui.ContextMenu){var c=this,d=a(c.element),f=c.options,g=f.menu,i=f.cls;c._handle=a('<button type="button"><span class="sui-caret-down"/></button>'),d.after(c._handle),c._handleButton=new p(c._handle,{cls:"sui-button-split-handle"+(i?" "+i:""),events:{click:function(e){if(c.menu.visible())c.menu.visible(!1);else{var b=a(d).offset();c.menu.visible(!0,{x:b.left,y:b.top+a(d).outerHeight()})}}}}),e(g)?c._menuElement=a(g):(c._menuElement=a("<ul/>"),c._customMenuElement=!0,c._handle.after(c._menuElement)),c.menu=new h.ui.ContextMenu(c._menuElement,{cls:"sui-button-split-menu",dataSource:f.dataSource,minWidth:d.outerWidth()+c._handle.outerWidth()-2,events:{click:b(c.trigger,c,"menuClick")}})}},enabled:function(){var a=this;return arguments&&arguments.length>0?(p.fn.enabled.apply(a,arguments),a._handleButton&&a._handleButton.enabled.apply(a._handleButton,arguments),a.menu&&!arguments[0]&&a.menu.visible(!1),void 0):p.fn.enabled.apply(a,arguments)},visible:function(){var a=this;return arguments&&arguments.length>0?(p.fn.visible.apply(a,arguments),a._handleButton&&a._handleButton.visible.apply(a._handleButton,arguments),a.menu&&!arguments[0]&&a.menu.visible(!1),void 0):p.fn.visible.apply(a,arguments)},destroy:function(){var b=this;b.menu&&(b.menu.destroy(),b.menu=c),b._menuElement&&(b._customMenuElement&&(a(b._menuElement).remove(),b._customMenuElement=c),b._menuElement=c),b._handleButton&&(b._handleButton.destroy(),b._handleButton=c),b._handle&&(a(b._handle).remove(),b._handle=c),p.fn.destroy.call(b)}}),_.defaults=va,h.ui.plugin("SplitButton",_),sa={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},Z=g.extend({init:function(){var e,d,m,h,c=this;g.fn.init.apply(this,arguments),c._eventNS=".shieldCheckBox"+c.getInstanceId(),e=c.options;var f=a(c.element).addClass("sui-checkbox-input");m=f.attr(i),f.attr(i,"0"),h=c.wrapper=f.wrap("<span class='sui-checkbox'/>").parent().attr(i,m);var j=a("<span class='sui-checkbox-element sui-checkbox-unchecked' />");j.appendTo(h),c.checkBoxElement=j,a("<span class='sui-checkmark' />").appendTo(j),e.label?(d=a("<label class='sui-checkbox-label' />"),d.appendTo(h),d.attr("for",f.id),d.get(0).innerHTML=e.label,e.enableLabelClick&&d.addClass("sui-checkbox-label-hover")):(d=f.parent().parent(),d&&!d.is("label")&&(d=a('label[for="'+f.get(0).id+'"]')),d&&e.enableLabelClick&&d.addClass("sui-checkbox-label-hover")),f.attr(l)&&(e.checked=!0),c.enabled(e.enabled),c.checked(e.checked),j.on(k+c._eventNS,b(c._click,c)).on(r+c._eventNS,b(c._keydown,c)),d&&e.enableLabelClick&&d.on(k+c._eventNS,b(c._click,c)).on(r+c._eventNS,b(c._keydown,c)),h.onselectstart=function(){return!1},h.onmousedown=function(){return!1}},_click:function(c){var b=this;a(b.element);b._enabled&&(b._checked?b.options.enableThreeStates?b._checked=null:b._checked=!1:b._checked===!1?b._checked=!0:null===b._checked&&(b._checked=!1),b.checked(b._checked),b.trigger(k,c),c.preventDefault(),c.stopPropagation())},_keydown:function(a){a.keyCode==f.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var d,c=this,g=[].slice.call(arguments),b=a(c.element),e=c.wrapper,f=e.find(".sui-checkmark");return g.length>0?(c._checked=d=g[0],void(d?(e.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),b.attr(l,l),b.data("1"),B.ie&&B.version<=8&&f.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):d===!1?(e.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),b.removeAttr(l),b.data("0"),f.css("filter","")):null===d&&c.options.enableThreeStates&&(e.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),b.removeAttr(l),b.data("2"),f.css("filter","")))):c._checked},enabled:function(){var b=this,c=[].slice.call(arguments),e=a(b.element);if(!(c.length>0))return b._enabled;var f=!!c[0];f?(b.wrapper.removeAttr(d).removeClass("sui-checkbox-disabled"),e.removeAttr(d)):(b.wrapper.attr(d,d).addClass("sui-checkbox-disabled"),e.attr(d,d)),b._enabled=f},destroy:function(){var a=this;a.element.removeClass("sui-checkbox-input").removeAttr(i),a.checkBoxElement&&a.checkBoxElement.off(a._eventNS),a.wrapper&&(a.wrapper.find(".sui-checkbox-label").off(a._eventNS).end().removeAttr(d).removeClass("sui-checkbox-disabled").replaceWith(a.element),a.wrapper=null),g.fn.destroy.call(a)}}),Z.defaults=sa,h.ui.plugin("CheckBox",Z),qa={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},Y=g.extend({init:function(){g.fn.init.apply(this,arguments);var d,m,h,c=this,f=a(c.element),e=c.options;c._eventNS=".shieldRadioButton"+c.getInstanceId(),f.addClass("sui-radiobutton-input"),m=f.attr(i),f.attr(i,"0"),h=c.wrapper=f.wrap('<span class="sui-radiobutton"/>').parent(),h.attr(i,m);var j=a('<span class="sui-radiobutton-element"/>');j.appendTo(h),c.radioButtonElement=j,a('<span class="sui-checkmark"/>').appendTo(j),e.label?(d=a('<label class="sui-radiobutton-label"/>'),d.appendTo(h),d.attr("for",c.element.id),d.get(0).innerHTML=e.label,e.enableLabelClick&&d.addClass("sui-radiobutton-label-hover")):(d=f.parent().parent(),d&&!d.is("label")&&(d=a('label[for="'+f.get(0).id+'"]')),d&&e.enableLabelClick&&d.addClass("sui-radiobutton-label-hover")),f.attr(l)&&(e.checked=!0),c.enabled(e.enabled),e.checked?c.checked(e.checked):c._checked=!1,e.enabled&&(j.on(k+c._eventNS,b(c._click,c)).on(r+c._eventNS,b(c._keydown,c)),d&&e.enableLabelClick&&d.on(k+c._eventNS,b(c._click,c)).on(r+c._eventNS,b(c._keydown,c))),h.onselectstart=function(){return!1},h.onmousedown=function(){return!1}},_click:function(a){var b=this;b.checked(!0),b.trigger(k,a),a.preventDefault(),a.stopPropagation()},_keydown:function(a){a.keyCode==f.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var a=this,b=[].slice.call(arguments);return b.length>0?(a._uncheckAllFromSameGroup(),void a._checkInternal(b[0])):a._checked},_checkInternal:function(c){var b=this,d=a(b.element);b._checked=c,c?(b.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),d.attr(l,l)):(b.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),d.removeAttr(l))},_uncheckAllFromSameGroup:function(){var c=this,b=a(c.element);a('input[type="radio"][name="'+b.attr("name")+'"]').not(b).each(function(){var b=a(this).swidget();b&&(b._checkInternal(!1),b.trigger(j))})},enabled:function(){var b=this,c=[].slice.call(arguments),e=a(b.element);if(!(c.length>0))return b._enabled;var f=!!c[0];f?(b.wrapper.removeAttr(d).removeClass("sui-radiobutton-disabled"),e.removeAttr(d)):(b.wrapper.attr(d,d).addClass("sui-radiobutton-disabled"),e.attr(d,d)),b._enabled=f},destroy:function(){var a=this;a.element.removeClass("sui-radiobutton-input").removeAttr(i),a.radioButtonElement&&(a.radioButtonElement.off(a._eventNS),a.radioButtonElement=null),a.wrapper&&(a.label&&(a.label.off(a._eventNS),a.label=null),a.wrapper.removeAttr(d).removeClass("sui-radiobutton-disabled"),a.wrapper.replaceWith(a.element),a.wrapper=null),g.fn.destroy.call(a)}}),Y.defaults=qa,h.ui.plugin("RadioButton",Y),oa={cls:c,enabled:!0,checked:c,onText:c,offText:c,events:{}},U=g.extend({init:function(){g.fn.init.apply(this,arguments);var d,n,f,o,p,c=this,h=c.options,t=h.dieOnError,q=h.cls,j=h.checked;return c._original=d=a(c.element),C(d)!==m||"checkbox"!==d.attr("type")?void s("shieldSwitch: Underlying element must ne an input of type checkbox.",t):(c._eventNS=".shieldSwitch"+c.getInstanceId(),c.element=f=d.wrap('<div class="sui-switch sui-unselectable'+(q?" "+q:"")+'" />').parent(),p=a('<div class="sui-switch-inner sui-unselectable" />').appendTo(f),c._text=a('<span class="sui-switch-text sui-unselectable" />').appendTo(p),c._handle=o=a('<div class="sui-switch-handle sui-unselectable" />').appendTo(f),o.height(f.height()),d.hide(),n=d.attr(i),f.attr(i,e(n)?n:"0"),f.on(k+c._eventNS,b(c._click,c)).on(r+c._eventNS,b(c._keydown,c)),j=e(j)?!!j:!!d.attr(l),c.checked(j,!1),void c.enabled(h.enabled))},refresh:function(a){this.refreshWithElement(this._original,a)},_keydown:function(a){var b=this;a.keyCode===f.SPACE&&(b._click(a),a.preventDefault())},_click:function(b){var a=this;a._enabled&&(a.checked(!a._checked),a.trigger(k,b),b.preventDefault(),b.stopPropagation())},checked:function(){var f,j,b=this,o=b.options,k=o.onText,i=o.offText,d=a(b.element),g=a(b._handle),m=a(b._text),n=b._original,c=[].slice.call(arguments),h=100;return c.length>0?(f=!!c[0],j=e(c[1])?!!c[1]:!0,j||(h=0),f?(n.attr(l,l),g.animate({left:d.width()-g.width()-2},h,function(){d.addClass("sui-switch-checked"),e(k)&&m.html(k)})):(n.removeAttr(l),g.animate({left:-2},h,function(){d.removeClass("sui-switch-checked"),e(i)&&m.html(i)})),b._checked=f,void 0):b._checked},enabled:function(){var c,b=this,e=a(b.element),f=b._original,g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?(e.removeAttr(d).removeClass("sui-switch-disabled"),f.removeAttr(d)):(e.attr(d,d).addClass("sui-switch-disabled"),f.attr(d,d)),b._enabled=c,void 0):b._enabled},destroy:function(){var b=this;a(b.element).off(b._eventNS),a(b._inner).remove(),a(b._handle).remove(),b._original.unwrap().show(),b._original=b._inner=b._handle=null,g.fn.destroy.call(b)}}),U.defaults=oa,h.ui.plugin("Switch",U)}(jQuery,shield,this);
!function(a,b,E,V){var K,x,s,i,A,F,B,J,y,D,p=b.ui.Widget,U=b.Class,o=b.format,T=b.parseDate,k=document,m=b.is.func,v=b.is,c=a.proxy,S=navigator.userAgent,R=E.opera,I=/msie/i.test(S)&&!R,P=I&&8===k.documentMode,r=a.extend,M=v.undefined,C=v.string,l="month",h="year",j="decade",n="century",d="click",q="mousedown",O="keypress",t="focus",L="selectstart",N="select",e="change",z="viewChange",u="depthChange",Q="open",H="close",G="blur",f="display",g="none";K={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:V,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:l,start:l},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}};var w=function(a){var b=!1,d="Webkit Moz ms O".split(" "),e=k.createElement("div"),f=null;if(a=a.toLowerCase(),e.style[a]&&(b=!0),b===!1){f=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<d.length;c++)if(void 0!==e.style[d[c]+f]){b=!0;break}}return b},W=U.extend({init:function(d){var h=this,e=d.listbox,i=d.min,j=d.max,l=d.interval,c=d.parent,m=d.textTemplate;if(b.ui.ListBox){if(v.object(e)&&e instanceof b.ui.ListBox)c.listBox=e;else{c._listBoxWrapper=a("<div style='display: none;' />").appendTo(k.body);var n=h._populateDataSource(i,j,l);c.listBox=new b.ui.ListBox(c._listBoxWrapper,r({},e,{dataSource:{data:n},multiple:!1,textTemplate:m,width:c._wrapper.innerWidth(),maxHeight:200})),c._wrapper.parent().hasClass("sui-rtl")?c.listBox.element.parent().addClass("sui-rtl"):c.listBox.element.parent().css(f,g)}c._shouldShowPopup=!0}},_populateDataSource:function(b,a,f){var c,d,e=[];for(b>=a?a=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,a.getHours(),a.getMinutes(),a.getSeconds()):(a=new Date(b.getFullYear(),b.getMonth(),b.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),a.getTime()==b.getTime()&&(a=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,a.getHours(),a.getMinutes(),a.getSeconds()))),c=b.getTime(),d=a.getTime();d>c;)e.push(new Date(c)),c+=60*f*1e3;return e},destroy:function(){var a=this;a.listBox;a.listBox&&(a.listBox.destroy(),a.listBox=null)}});x=p.extend({init:function(){p.fn.init.apply(this,arguments);var b=this,f=a(b.element),e=b.options,h=e.cls,g=e.value;f.addClass("sui-calendar"+(h?" "+h:"")),b._focusedDate=e.focused,b._view=e.view.start,b._enabled=e.enabled,g&&(C(g)&&(g=new Date(g)),b._focusedDate=b._selectedDate=new Date(g.getFullYear(),g.getMonth(),g.getDate())),b._initializeHeader(),b._render(),e.footer.enabled&&b._initializeFooter(),!e.readOnly&&e.enabled?(f.find(".sui-prev").on(d,b._movePrev=c(b._movePrevHandler,b)),f.find(".sui-next").on(d,b._moveNext=c(b._moveNextHandler,b)),f.find(".sui-text").on(d,b._changeViewDepth=c(b._changeViewDepthHandler,b)),f.find(".sui-footer").on(d,b._selectToday=c(b._selectTodayHandler,b))):e.readOnly?f.addClass("sui-read-only"):f.addClass("sui-calendar-disabled"),I&&f.on(L,b._selectStart=function(){return!1})},_calendarSelectionHandler:function(m){var c,g,b=this,f=a(m.target).closest("td"),d=b._focusedDate;b.options.view.depth;if(f.length&&!f.hasClass("sui-out-of-range")&&!f.hasClass("sui-no-hover")&&b._enabled)switch(b._calendarTable.find(".sui-focused").removeClass("sui-focused"),b._view){case l:c=new Date(f.attr("data-value"));var o=b._shouldChangeView(c),i=!1;c.getTime()>b._focusedDate&&(i=!0),b._focusedDate=c,b._selectedDate=c,o&&(b._animationBegins(i),b._renderView(),b._animationEnds(i),b.trigger(z)),b._selectDateCell(c),b.trigger(e);break;case h:var k=parseInt(f.attr("data-value"),10);c=new Date(d.getFullYear(),k,d.getDate()),c.getDate()!=d.getDate()&&(c=new Date(d.getFullYear(),k+1,0)),b._focusedDate=c,b.options.view.depth==h?(b._selectedDate=c,b._selectDateCell(c),b.trigger(e)):(b._view=l,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(u));break;case j:g=parseInt(f.attr("data-value"),10),c=new Date(g,d.getMonth(),d.getDate()),c.getDate()!=d.getDate()&&(c=new Date(g,d.getMonth()+1,0)),b._focusedDate=c,b.options.view.depth==j?(b._selectedDate=c,b._selectDateCell(c),b.trigger(e)):(b._view=h,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(u));break;case n:g=parseInt(f.attr("data-value"),10),c=new Date(g,d.getMonth(),d.getDate()),c.getDate()!=d.getDate()&&(c=new Date(g,d.getMonth()+1,0)),b._focusedDate=c,b.options.view.depth==n?(b._selectedDate=c,b._selectDateCell(c),b.trigger(e)):(b._view=j,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(u))}},_shouldChangeView:function(f){var a,e,g=this,i=g._focusedDate,d=!1,b=i.getFullYear(),c=f.getFullYear();switch(g._view){case l:(c!=b||f.getMonth()!=i.getMonth())&&(d=!0);break;case h:c!=b&&(d=!0);break;case j:a=b-b%10,e=a+10,(a>c||c>e)&&(d=!0);break;case n:a=b-b%100,e=a+100,(a>c||c>e)&&(d=!0)}return d},_selectTodayHandler:function(){var a=this,b=new Date,f=a._shouldChangeView(b),c=!1;if(a._enabled){var d=new Date(b.getFullYear(),b.getMonth(),b.getDate());d.getTime()>a._focusedDate&&(c=!0),a._selectedDate=a._focusedDate=d,a._view!=a.options.view.depth?(a._view=a.options.view.depth,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(u)):f?(a._animationBegins(c),a._renderView(),a._animationEnds(c),a.trigger(z)):a._selectDateCell(a._focusedDate),a.trigger(e)}},_selectDateCell:function(b){var c=this,d=null;switch(c._view){case l:d=c._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var d=a(this).attr("data-value"),c=new Date(d);return c.getDate()==b.getDate()&&c.getMonth()==b.getMonth()&&c.getFullYear()==b.getFullYear()});break;case h:d=c._calendarTable.find(".sui-month").filter(function(){return a(this).attr("data-value")==b.getMonth()});break;case j:d=c._calendarTable.find(".sui-year").filter(function(){return a(this).attr("data-value")==b.getFullYear()});break;case n:d=c._calendarTable.find(".sui-years").filter(function(){var c=parseInt(a(this).attr("data-value"),10);return b.getFullYear()>=c&&b.getFullYear()<c+10})}c._calendarTable.find(".sui-selected").removeClass("sui-selected"),d.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var a=this;if(!w("transition"))return void a._calendarTable.empty();a._enabled=!1;var b=a._calendarTable,c=!1;b.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(d){c=a._removeOldTable(b,a)}),setTimeout(function(){c||a._removeOldTable(b,a)},1e3),b.addClass("sui-fade-in"),a._renderTable()},_removeOldTable:function(a,b){return a.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),a.remove(),b._enabled=!0,!0},_viewDepthAnimationEnds:function(){w("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(d){var a=this,b=[l,h,j,n],c=jQuery.inArray(a._view,b);3>c&&a._enabled&&(a._view=b[c+1],a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds())},_movePrevMonth:function(){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear(),a.getMonth()-1,a.getDate()));c.getDate()!=a.getDate()&&(c=new Date(a.getFullYear(),a.getMonth(),0)),b._focusedDate=c},_moveNextMonth:function(){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear(),a.getMonth()+1,a.getDate()));c.getDate()!=a.getDate()&&(c=new Date(a.getFullYear(),a.getMonth()+2,0)),b._focusedDate=c},_movePrevYears:function(d){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear()-d,a.getMonth(),a.getDate()));c.getMonth()!=a.getMonth()&&(c=new Date(a.getFullYear()-d,a.getMonth()+1,0)),b._focusedDate=c,b._calendarTable.empty()},_moveNextYears:function(d){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear()+d,a.getMonth(),a.getDate()));c.getMonth()!=a.getMonth()&&(c=new Date(a.getFullYear()+d,a.getMonth()+1,0)),b._focusedDate=c,b._calendarTable.empty()},_animationBegins:function(c){var b=this,d="-";if(!w("transition"))return void b._calendarTable.empty();b._calendarTable.removeClass("sui-scaling"),b._tableWrapper=a("<div>").insertAfter(b.element.find(".sui-header")),b._tableWrapper.width(2*b.element.width()),b.element.find(".sui-calendar-view").appendTo(b._tableWrapper),b.element.parent().hasClass("sui-rtl")&&(c=!c,d="+"),b._renderTable(c),c||(b._tableWrapper.css("position","relative"),b._tableWrapper.css("left",d+b.element.width()+"px")),b._tableWrapper.addClass("sui-calendar-animation"),b._enabled=!1;var e=!1;b._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(a){e=b._removeTempTables(b)}),setTimeout(function(){e||b._removeTempTables(b)},1e3)},_removeTempTables:function(a){return a._tempTable.remove(),a._calendarTable.insertAfter(a.element.find(".sui-header")),a._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),a._tableWrapper.remove(),a._tableWrapper=null,a._enabled=!0,!0},_animationEnds:function(c){var b=this;if(w("transition")){var a=b.element.width();c&&(a=-1*a),b._tableWrapper.css("transform","translateX("+a+"px)")}},_moveView:function(b){var a=this;switch(a._animationBegins(b),a._view){case l:b?a._moveNextMonth():a._movePrevMonth(),a._createMonthView();break;case h:b?a._moveNextYears(1):a._movePrevYears(1),a._createYearsView();break;case j:b?a._moveNextYears(10):a._movePrevYears(10),a._createDecadeView();break;case n:b?a._moveNextYears(100):a._movePrevYears(100),a._createcenturyView()}a._animationEnds(b),a.trigger(z)},_disablePrev:function(c){var a=this,b=a.element.find(".sui-prev");c?(a.preventPrevNavigation=!0,b.addClass("sui-calendar-disabled")):(a.preventPrevNavigation=!1,b.removeClass("sui-calendar-disabled"))},_disableNext:function(c){var a=this,b=a.element.find(".sui-next");c?(a.preventNextNavigation=!0,b.addClass("sui-calendar-disabled")):(a.preventNextNavigation=!1,b.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){var a=this;!a.preventPrevNavigation&&a._enabled&&a._moveView(!1)},_moveNextHandler:function(){var a=this;!a.preventNextNavigation&&a._enabled&&a._moveView(!0)},_initializeHeader:function(){var c=this,b=c.options.labels;this._header=a('<div class="sui-header"><span unselectable="on"  title="'+b.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+b.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(g){var b=this,e=b.options,f="sui-calendar-view";e.hover&&e.enabled&&(f+=" sui-hoverable"),b._calendarTable?(b.element.find(".sui-calendar-view").off(d,b._calendarSelection),b._calendarSelection=null,g?(b._tempTable=b.element.find(".sui-calendar-view"),b._calendarTable=a("<table />").width(b.element.width()).addClass(f).insertAfter(b._tempTable)):(b._tempTable=b.element.find(".sui-calendar-view"),b._calendarTable=a("<table />").width(b.element.width()).addClass(f).insertBefore(b._tempTable))):b._calendarTable=a("<table />").width(b.element.width()).addClass(f).insertAfter(b.element.find(".sui-header")),!e.readOnly&&e.enabled&&b.element.find(".sui-calendar-view").on(d,b._calendarSelection=c(b._calendarSelectionHandler,b))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var a=this;switch(a._view){case l:a._createMonthView();break;case h:a._createYearsView();break;case j:a._createDecadeView();break;case n:a._createcenturyView();break;default:a._createMonthView()}},_initializeFooter:function(){var c=this,d=c.options,b=d.footer.footerTemlpate,e=m(b)?b:function(a){return o(b,a)};a('<div class="sui-footer"><span class="sui-footer-text">'+e.call(c,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){var c=this,i=c.options,t=c._focusedDate,H=c._calendarTable,w=b.getCalendarInfo(),s=w.days,l=w.firstDay,Z=w.months,r=s.namesShort,p=[],Y=s.namesAbbr,X=s.names,O=i.min,F=i.max,x=i.dayTemplate,y=i.otherMonthDayTemplate,z=i.dateTooltipTemplate,A=i.outOfRangeDayTemplate,W=m(x)?x:function(a){return o(x,a)},P=m(y)?y:function(a){return o(y,a)},U=m(z)?z:function(a){return o(z,a)},T=m(A)?A:function(a){return o(A,a)},S=a("<thead />").appendTo(H),R=a("<tr />").addClass("sui-week-header").appendTo(S),N="",e=0;for(e=l;e<r.length;e++)p.push(r[e]);for(var v=0;l>v;v++)p.push(r[v]);for(var j=0;j<p.length;j++){p[j];N+="<th scope='col' abbr='"+Y[j]+"' title='"+X[j]+"'>"+p[j]+"</th>"}R.html(N);var V=a('<tbody class="sui-days"/>').appendTo(H),f=t.getFullYear(),g=t.getMonth(),q=new Date(f,g,1).getDay()-l,Q=new Date(f,g+1,0).getDay()-l,L=new Date(f,g+1,0).getDate(),M=7;c._header.find(".sui-text").text(Z.names[g]+" "+f),0>=q&&(q=7-(0===q?0:l),M=0);var C=-1*q+1,k=6-Q+L+M,B=0,G=null,u="";for(k-C>42&&(k-=7),35>k-C&&(k+=7),e=C;k>=e;e++){var d=new Date(f,g,e,0,0,0,0),I="sui-date",D=d.getTime()<O.getTime()||d.getTime()>F.getTime()?" sui-out-of-range":"",h=1>e||e>L?" sui-other-month":"",E=6==d.getDay()||0===d.getDay()?" sui-weekend":"",K=D||t.getDate()!=e||h?"":" sui-focused",J=c._selectedDate&&d.getTime()==c._selectedDate.getTime()&&!h?" sui-selected":"",n=null;D?(n=T.call(c,{date:d,day:d.getDate()}),h="",E="",K="",J="",I=""):h?(n=P.call(c,{date:d,day:d.getDate()}),""===n&&(h+=" sui-no-hover")):n=W.call(c,{date:d,day:d.getDate()}),u+="<td title='"+U.call(c,{date:d,day:d.getDate()})+"' data-value='"+d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+"' class='"+I+h+E+K+J+D+"'>"+n+"</td>",B++,7==B&&(G=a('<tr role="row" />').appendTo(V),G.html(u),B=0,u="")}var $=new Date(f,g,1,0,0,0,0),_=new Date(f,g+1,0);$.getTime()<=O.getTime()?c._disablePrev(!0):c.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&c._disablePrev(!1),_.getTime()>=F.getTime()?c._disableNext(!0):c.element.find(".sui-next").hasClass("sui-calendar-disabled")&&c._disableNext(!1)},_createYearsView:function(){var c=this,m=c.options,v=c._calendarTable,e=c._focusedDate,y=b.getCalendarInfo(),s=y.months,x=s.names,q=s.namesAbbr,w=a('<tbody class="sui-months"/>').appendTo(v),o=null,n="",i=m.min,l=m.max,k="",j=0;c._header.find(".sui-text").text(e.getFullYear());for(var d=0;d<q.length;d++){var f=new Date(e.getFullYear(),d,e.getDate(),0,0,0,0),u=e.getMonth()==d?" sui-focused":"";m.view.depth==h&&(k=c._selectedDate&&f.getTime()==c._selectedDate.getTime()?" sui-selected":"");var g="",t=x[d],r=q[d],p="sui-month";(f.getFullYear()<=i.getFullYear()&&f.getMonth()<i.getMonth()||f.getFullYear()>=l.getFullYear()&&f.getMonth()>l.getMonth())&&(g=" sui-out-of-range"),g&&(u="",k="",t=r="&nbsp;",p=""),n+="<td data-value='"+d+"' class='"+p+u+k+g+"' title='"+t+"'>"+r+"</td>",j++,4==j&&(o=a("<tr />").appendTo(w),o.html(n),j=0,n="")}e.getFullYear()<=i.getFullYear()?c._disablePrev(!0):c.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&c._disablePrev(!1),e.getFullYear()>=l.getFullYear()?c._disableNext(!0):c.element.find(".sui-next").hasClass("sui-calendar-disabled")&&c._disableNext(!1)},_createDecadeView:function(){var b=this,i=b.options,x=b._calendarTable,h=b._focusedDate,d=h.getFullYear(),s=d%10,w=a('<tbody class="sui-decade"/>').appendTo(x),r=null,n="",o=0,q=i.min,v=i.max,f=d-s-1,l="",g=d+(10-s);b._header.find(".sui-text").text(f+1+"-"+(g-1));for(var c=f;g>=c;c++){var k=new Date(c,h.getMonth(),h.getDate(),0,0,0,0),t=c==f||c==g?" sui-other-year":"",u=d==c?" sui-focused":"",m="",e=c,p="sui-year";(k.getFullYear()<q.getFullYear()||k.getFullYear()>v.getFullYear())&&(m=" sui-out-of-range"),i.view.depth==j&&(l=b._selectedDate&&k.getTime()==b._selectedDate.getTime()?" sui-selected":""),m&&(t="",u="",l="",p="",e="&nbsp;"),n+="<td data-value='"+e+"' class='"+p+t+u+l+m+"' title='"+e+"'>"+e+"</td>",o++,4==o&&(r=a("<tr />").appendTo(w),r.html(n),o=0,n="")}f<q.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),g>v.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},_createcenturyView:function(){var A,b=this,p=b.options,z=b._calendarTable,d=b._focusedDate,f=d.getFullYear(),y=f%100,x=a('<tbody class="sui-decade"/>').appendTo(z),s=null,m="",o="",i=p.min,q=p.max,k=0,e=f-y-10,g=e+99+10+2;b._header.find(".sui-text").text(e+10+"-"+(g-2));for(var c=e;g>c;c+=10){var t=c==e||c==g-1?" sui-other-years":"",h=new Date(c,d.getMonth(),d.getDate(),0,0,0,0),w=new Date(c+10,d.getMonth(),d.getDate(),0,0,0,0),j="",r=f>=c&&c+10>f?" sui-focused":"",v="sui-years",l=c+" - "+(c+9),u=c;(h.getFullYear()<i.getFullYear()&&w.getFullYear()<=i.getFullYear()||h.getFullYear()>q.getFullYear())&&(j=" sui-out-of-range"),p.view.depth==n&&(o=b._selectedDate&&b._selectedDate.getFullYear()>=h.getFullYear()&&b._selectedDate.getFullYear()<h.getFullYear()+10?" sui-selected":""),j&&(t="",r="",o="",v="",A=u=l="&nbsp;"),m+="<td data-value='"+u+"' class='"+v+t+r+o+j+"' title='"+l+"'>"+l+"</td>",k++,4==k&&(s=a("<tr />").appendTo(x),s.html(m),k=0,m="")}e<i.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),g>q.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},value:function(){var a=this,c=a.options,e=c.min,f=c.max,d=[].slice.call(arguments);if(!(d.length>0))return a._selectedDate;var b=d[0];if(null==b||""===b||M(b))a._selectedDate=null,a._focusedDate=c.focused;else{if(b.getTime()<e.getTime()||b.getTime()>f.getTime())return;a._focusedDate=a._selectedDate=new Date(b.getFullYear(),b.getMonth(),b.getDate())}a._calendarTable.empty(),a._renderView()},enabled:function(){var a=this,d=a.options,b=[].slice.call(arguments);if(!(b.length>0))return a._enabled;var c=b[0];c?(d.hover&&a._calendarTable.addClass("sui-hoverable"),a.element.removeClass("sui-calendar-disabled")):(a._calendarTable.removeClass("sui-hoverable"),a.element.addClass("sui-calendar-disabled")),a._enabled=c},previous:function(){var a=this;a.preventPrevNavigation||a._moveView(!1)},next:function(){var a=this;a.preventNextNavigation||a._moveView(!0)},view:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._view;var c=b[0];c!=a._view&&(a._view=c,a._calendarTable.empty(),a._renderView())},focused:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._focusedDate;a._focusedDate=b[0];b.length>1&&a._view!=b[1]&&(a._view=b[1]),a._calendarTable.empty(),a._renderView()},visible:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return a.element.hasClass("sui-hidden")||"none"==a.element.css("display")?!1:!0;var c=b[0];c?a.element.removeClass("sui-hidden"):a.element.addClass("sui-hidden")},destroy:function(){var b=this,e=b.options.cls,c=a(b.element);c.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(e?" "+e:"")),b._focusedDate=null,b._header=null,b._calendarTable=null,b._view=null,b._enabled=null,b._selectedDate=null,b._tempTable=null,b._tableWrapper=null,c.find(".sui-prev").off(d,b._movePrev),b._movePrev=null,c.find(".sui-next").off(d,b._moveNext),b._moveNext=null,c.find(".sui-text").off(d,b._changeViewDepth),b._changeViewDepth=null,c.find(".sui-footer").off(d,b._selectToday),b._selectToday=null,c.find(".sui-calendar-view").off(d,b._calendarSelection),b._calendarSelection=null,c.off(L,b._selectStart),b._selectStart=null,c.empty(),p.fn.destroy.call(b)}}),x.defaults=K,b.ui.plugin("Calendar",x),s={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},i=p.extend({init:function(j,m){p.fn.init.apply(this,arguments);var b=this,d=b.options,e=d.value,i=d.showButton?"":" sui-no-button";P&&(i+=" sui-ie8");var h=a(d.isMonthYearPicker?"<span class='sui-monthyearpicker"+i+"' />":d.isTimePicker?"<span class='sui-timepicker"+i+"' />":d.isDateTimePicker?"<span class='sui-datetimepicker"+i+"' />":"<span class='sui-datepicker"+i+"' />");if(b._selectedDate=null,a(j).after(h),b._wrapper=h,b._visibleInput=a("<input class='sui-picker-input' type='text' />").appendTo(h),d.showButton){var k=d.messages.calendarIconTooltip;d.isTimePicker&&(k=d.messages.timeIconTooltip),b._iconWrapper=a("<span class='sui-icon-wrapper' unselectable='on' title='"+k+"' />").appendTo(h);a('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+d.messages.buttonText+"</span>").appendTo(b._iconWrapper);d.isDateTimePicker&&(b._timeIconWrapper=a("<span class='sui-time-icon-wrapper' unselectable='on' title='"+d.messages.timeIconTooltip+"' />").appendTo(h),a('<span class="sui-sprite sui-time-icon" unselectable="on">'+d.messages.buttonText+"</span>").appendTo(b._timeIconWrapper))}if(a(j).css(f,g).appendTo(h),b._enabled=d.enabled,d.enabled||(h.addClass("sui-disabled"),b._visibleInput.on(t,b._visibleInputFocused=c(b._visibleInputFocusedHandler,b))),b._attachEvents(),!e){var l=b._value();l&&(e=l)}e&&(C(e)&&(e=new Date(e)),d.isMonthYearPicker?b._selectedDate=new Date(e.getFullYear(),e.getMonth(),1):b._selectedDate=e,b._changeInputsValues(e))},_changeInputsValues:function(b){var a=this,c=a.options,d=c.format,e=c.textTemplate,f=m(d)?d:function(a){return o(d,a.date)};a._value(f.call(a,{date:b}));var g=m(e)?e:function(a){return o(e,a.date)};a._visibleInput.get(0).value=g.call(a,{date:b}),c.isMonthYearPicker?a._selectedDate=new Date(b.getFullYear(),b.getMonth(),1):a._selectedDate=b},_attachEvents:function(){var b=this,f=b.options;f.showButton&&(f.isTimePicker?b._iconWrapper.on(d,b._toggleListBoxVisibility=c(b._toggleListBoxVisibilityHandler,b)):f.isDateTimePicker?(b._timeIconWrapper.on(d,b._toggleListBoxVisibility=c(b._toggleListBoxVisibilityHandler,b)),b._iconWrapper.on(d,b._toggleCalendarVisibility=c(b._toggleCalendarVisibilityHandler,b))):b._iconWrapper.on(d,b._toggleCalendarVisibility=c(b._toggleCalendarVisibilityHandler,b))),b._visibleInput.on(O,b._visibleInputKeyPress=c(b._visibleInputKeyPressHandler,b)),a(k).on(q+".shieldDatePicker"+b.getInstanceId(),c(b._hidePopupHandler,b)),b._visibleInput.on(t,b._visibleInputFocused=c(b._visibleInputFocusedHandler,b)),b._visibleInput.on(G,b._visibleInputBlured=c(b._visibleInputBluredHandler,b)),b._visibleInput.on(e,b._visibleInputChanged=c(b._visibleInputChangedHandler,b))},_visibleInputChangedHandler:function(){var a=this,b=a.options,d=b.format,c=b.min,f=b.max;if(a._enabled){a._selectedDate=T(a._visibleInput.get(0).value,b.parseFormats),a._selectedDate&&(a._selectedDate.getTime()>f||a._selectedDate.getTime()<c)&&(b.isTimePicker?a._selectedDate=new Date(c.getFullYear(),c.getMonth(),c.getDate(),a._selectedDate.getHours(),a._selectedDate.getMinutes(),a._selectedDate.getSeconds()):a._selectedDate=null),null!=a._selectedDate&&(a._selectedDate&&a.calendar&&a.calendar.value(a._selectedDate),a._selectedDate&&a.listBox&&a._selectValueInListBox(a._selectedDate));var g=m(d)?d:function(a){return o(d,a.date)};a.element.get(0).value=g.call(a,{date:a._selectedDate}),a.trigger(e)}},_visibleInputFocusedHandler:function(c){var a=this,b=a.options;return a._enabled?(b.isMonthYearPicker?a._wrapper.addClass("sui-monthyearpicker-focus"):b.isTimePicker?a._wrapper.addClass("sui-timepicker-focus"):b.isDateTimePicker?a._wrapper.addClass("sui-datetimepicker-focus"):a._wrapper.addClass("sui-datepicker-focus"),void(b.openOnFocus&&(a._shouldShowPopup||!a.calendar)&&(a._toggleCalendarVisibilityHandler(),a._shouldShowPopup=!1))):void c.target.blur()},_visibleInputBluredHandler:function(){var c=this,b=c.options,a=c._wrapper;b.isMonthYearPicker?a.removeClass("sui-monthyearpicker-focus"):b.isTimePicker?a.removeClass("sui-timepicker-focus"):b.isDateTimePicker?a.removeClass("sui-datetimepicker-focus"):a.removeClass("sui-datepicker-focus")},_visibleInputKeyPressHandler:function(a){var b=this,d=b.options;if(b._enabled){if(d.editable===!1)return a.preventDefault(),void a.stopPropagation();var c=a.keyCode||a.charCode;(13==c||9==c||27==c)&&(this._shouldShowPopup=!0,this.calendar.element.css(f)!=g&&(this.calendar.element.css(f,g),b.trigger(H)))}},_hidePopupHandler:function(c){var d,b=this;if(b.listBox){if(b._visibleInput.get(0)==c.target||b._iconWrapper&&b._iconWrapper.get(0)==c.target||b._iconWrapper&&b._iconWrapper.children(0).get(0)==c.target||b._timeIconWrapper&&b._timeIconWrapper.get(0)==c.target||b._timeIconWrapper&&b._timeIconWrapper.children(0).get(0)==c.target)return;b._popupIsOver?(d=b.listBox.element.parent().height(),b.listBox.element.parent().animate({height:0,top:b._visibleInput.offset().top},150,function(){a(this).css(f,g),a(this).css("height",d)})):b.listBox.element.parent().slideUp(150,function(){}),b._shouldShowPopup=!0}if(b.calendar){if(b._visibleInput.get(0)==c.target||b._iconWrapper&&b._iconWrapper.get(0)==c.target||b._iconWrapper&&b._iconWrapper.children(0).get(0)==c.target)return;b._popupIsOver?(d=b.calendar.element.height(),b.calendar.element.animate({height:0,top:b._visibleInput.offset().top},150,function(){a(this).css(f,g),a(this).css("height",d)})):b.calendar.element.slideUp(150,function(){}),b._shouldShowPopup=!0}},_toggleListBoxVisibilityHandler:function(){var a=this,b=a.options,d=b.listBox;if(a._enabled){if(!a.listBox){new W({listbox:d,parent:a,min:b.min,max:b.max,interval:b.interval,textTemplate:b.isDateTimePicker?b.timeFormat:b.textTemplate});a.listBox.on(N,a._listBoxChange=c(a._listBoxChangeHandler,a)),a.listBox.element.on(q,a._popupMouseDown=c(a._popupMouseDownHandler,a)),a._selectedDate&&a._selectValueInListBox(a._selectedDate)}b.isDateTimePicker&&(a.calendar&&a.calendar.element.css(f)!=g&&(a.calendar.element.slideUp(150,function(){}),a._shouldShowPopup=!0),a._toggleTimePopup=!0),a._shouldShowPopup?a._showPopup():a._hidePopup(),a._shouldShowPopup?a._shouldShowPopup=!1:a._shouldShowPopup=!0}},_listBoxChangeHandler:function(j){var c=this;if(c.options.isDateTimePicker){var d=c._selectedDate,f=j.item;d?c._selectedDate=new Date(d.getFullYear(),d.getMonth(),d.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()):(d=new Date,c._selectedDate=new Date(d.getFullYear(),d.getMonth(),d.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()))}else c._selectedDate=j.item;var h=c.options,k=h.isDateTimePicker?b.format(h.timeFormat,c._selectedDate):b.format(h.textTemplate,c._selectedDate),i=c.listBox.element.find(".sui-listbox-item"),g=0;for(g;g<i.length;g++)if(i[g].innerHTML==k){c._selectedElement=a(i[g]);break}c._changeInputsValues(c._selectedDate),c._hidePopup(),c._shouldShowPopup=!0,c.trigger(e)},_toggleCalendarVisibilityHandler:function(){var d=this,h=d.options,i=h.calendar;d._enabled&&(d.calendar||(b.ui.Calendar&&(v.object(i)&&i instanceof b.ui.Calendar?d.calendar=i:(d._wrapper.parent().hasClass("sui-rtl")?(d._calendarWrapper=a("<div style='display: none;' />").appendTo(k.body),d._calendarWrapper.wrap("<span class='sui-rtl'></span>")):d._calendarWrapper=a("<div style='display: none;' />").appendTo(k.body),d.calendar=new b.ui.Calendar(d._calendarWrapper,r({},i,{min:h.min,max:h.max}))),d._shouldShowPopup=!0),d.calendar.on(e,d._calendarChange=c(d._calendarChangeHandler,d)),d.calendar.element.on(q,d._popupMouseDown=c(d._popupMouseDownHandler,d)),d._selectedDate&&d.calendar.value(d._selectedDate)),h.isDateTimePicker&&(d.listBox&&d.listBox.element.parent().css(f)!=g&&(d.listBox.element.parent().slideUp(150,function(){}),d._shouldShowPopup=!0),d._toggleTimePopup=!1),d._shouldShowPopup?d._showPopup():d._hidePopup(),d._shouldShowPopup?d._shouldShowPopup=!1:d._shouldShowPopup=!0)},_calendarChangeHandler:function(){var b,a=this,c=a.options;c.isMonthYearPicker?(b=a.calendar.value(),a._selectedDate=new Date(b.getFullYear(),b.getMonth(),1)):c.isDateTimePicker?(b=a.calendar.value(),a._selectedDate?a._selectedDate=new Date(b.getFullYear(),b.getMonth(),b.getDate(),a._selectedDate.getHours(),a._selectedDate.getMinutes(),a._selectedDate.getSeconds()):a._selectedDate=a.calendar.value()):a._selectedDate=a.calendar.value(),a._changeInputsValues(a._selectedDate),a._hidePopup(),a._shouldShowPopup=!0,a.trigger(e)},_calculateLeftOffsetWhenRtl:function(){var b,a=this,d=a.options,c=(a._wrapper.offset(),0);return d.isTimePicker||d.isDateTimePicker&&a._toggleTimePopup?(b=a._visibleInput.offset().left-(a.listBox.element.parent().width()-a._visibleInput.width()),b>0&&(c=b)):(b=a._visibleInput.offset().left-(a.calendar.element.width()-a._visibleInput.width()),b>0&&(c=b)),c},_showPopup:function(){var d,b=this,g=b.options,e=b._wrapper.offset(),i=e.top-a(k).scrollTop(),h=b._wrapper.height(),j=a(E).height(),c=e.top+h,f=e.left;b._wrapper.parent().hasClass("sui-rtl")&&(f=b._calculateLeftOffsetWhenRtl()),d=g.isTimePicker||g.isDateTimePicker&&b._toggleTimePopup?b.listBox.element.parent().height():b.calendar.element.height(),d+i+h>j?c=e.top-d-1:c++,(0>c||a(k).scrollTop()>c)&&(c=e.top+h+1),b._visibleInput.offset().top>c?b._popupIsOver=!0:b._popupIsOver=!1,g.isTimePicker||g.isDateTimePicker&&b._toggleTimePopup?b._popupIsOver?(b.listBox.element.parent().css({position:"absolute",zIndex:10002,top:c+d,left:f,height:0,display:""}),b.listBox.element.parent().animate({height:d,top:c+2},150)):(b.listBox.element.parent().css({position:"absolute",top:c,left:f,zIndex:10002}),b.listBox.element.parent().slideDown(150,function(){if(b._selectedElement){var a=Math.abs(b._selectedElement.get(0).offsetTop),c=b._selectedElement.parent().scrollTop();a>b._selectedElement.parent().get(0).scrollTopMax&&(a=b._selectedElement.parent().get(0).scrollTopMax),c+b.listBox.element.height()>a&&a>c||b.listBox.element.scrollTop(a)}})):b._popupIsOver?(b.calendar.element.css({position:"absolute",zIndex:10002,top:c+d,left:f,height:0,display:""}),b.calendar.element.animate({height:d,top:c},150)):(b.calendar.element.css({position:"absolute",zIndex:10002,top:c,left:f}),b.calendar.element.slideDown(150,function(){})),b.trigger(Q)},_hidePopup:function(){var c,b=this,d=b.options;d.isTimePicker||d.isDateTimePicker&&b._toggleTimePopup?b.listBox&&b.listBox.element.parent().css(f)!=g&&(b._popupIsOver?(c=b.listBox.element.parent().height(),b.listBox.element.parent().animate({height:0,top:b._visibleInput.offset().top},150,function(){a(this).css(f,g),a(this).css("height",c)})):b.listBox.element.parent().slideUp(150,function(){})):b.calendar&&b.calendar.element.css(f)!=g&&(b._popupIsOver?(c=b.calendar.element.height(),b.calendar.element.animate({height:0,top:b._visibleInput.offset().top},150,function(){a(this).css(f,g),a(this).css("height",c)})):b.calendar.element.slideUp(150,function(){})),b.trigger(H)},_popupMouseDownHandler:function(a){a.preventDefault(),a.stopPropagation()},_selectValueInListBox:function(g){var d=this;if(d.listBox){var c,e=d.options,h=e.isDateTimePicker?b.format(e.timeFormat,g):b.format(e.textTemplate,g),f=d.listBox.element.find(".sui-listbox-item");for(c=0;c<f.length;c++)if(f[c].innerHTML==h){d._selectedElement=a(f[c]);break}d.listBox.selected(c,!0)}},enabled:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return a._enabled;var d=b[0];a._enabled=d,d?(a._visibleInputFocused&&(a._visibleInput.off(t,a._visibleInputFocused),a._visibleInputFocused=null),a._wrapper.removeClass("sui-disabled")):(a._wrapper.addClass("sui-disabled"),a._visibleInput.on(t,a._visibleInputFocused=c(a._visibleInputFocusedHandler,a)))},visible:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return a._wrapper.hasClass("sui-hidden")||"none"==a._wrapper.css("display")?!1:!0;var c=b[0];c?a._wrapper.removeClass("sui-hidden"):a._wrapper.addClass("sui-hidden")},focus:function(){a(this._visibleInput).focus()},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},value:function(){var a=this,c=a.options,e=c.min,f=c.max,d=[].slice.call(arguments);if(!(d.length>0))return a._selectedDate;var b=d[0];return null==b||""===b||M(b)?(a._visibleInput.get(0).value="",a._selectedDate=null,a.calendar&&a.calendar.value(null),void((c.isTimePicker||c.isDateTimePicker)&&a.listBox&&a.listBox.clearSelection())):void((c.isTimePicker||!(b.getTime()<e.getTime()||b.getTime()>f.getTime()))&&(a._changeInputsValues(b),
a.calendar&&a.calendar.value(b),a._selectedDate=b,(c.isTimePicker||c.isDateTimePicker)&&a._selectValueInListBox(b)))},close:function(){var a=this,b=[].slice.call(arguments);a.options.isDateTimePicker?b.length>0&&("calendar"==b[0]&&(a._shouldShowPopup=!1,a._toggleCalendarVisibilityHandler()),"timeview"==b[0]&&(a._shouldShowPopup=!1,a._toggleListBoxVisibilityHandler())):(a._shouldShowPopup=!1,a._toggleCalendarVisibilityHandler())},open:function(){var a=this,b=[].slice.call(arguments);a.options.isDateTimePicker?b.length>0&&("calendar"==b[0]&&(a._shouldShowPopup=!0,a._toggleCalendarVisibilityHandler()),"timeview"==b[0]&&(a._shouldShowPopup=!0,a._toggleListBoxVisibilityHandler())):(a._shouldShowPopup=!0,a._toggleCalendarVisibilityHandler())},destroy:function(){var b=this;b.options.isTimePicker?(b._iconWrapper.off(d,b._toggleListBoxVisibility),b._toggleListBoxVisibility=null):b.options.isDateTimePicker?(b._iconWrapper.off(d,b._toggleListBoxVisibility),b._toggleListBoxVisibility=null,b._timeIconWrapper=null,b._iconWrapper.off(d,b._toggleCalendarVisibility),b._toggleCalendarVisibility=null):(b._iconWrapper.off(d,b._toggleCalendarVisibility),b._toggleCalendarVisibility=null),b._iconWrapper=null,b._popupIsOver=null,a(k).off(q+".shieldDatePicker"+b.getInstanceId()),a(b.element).css(f,"").insertAfter(b._wrapper),b._wrapper.remove(),b._wrapper=null,b._destroyCalendar(),b._destroyListBox(),b._shouldShowPopup=null,b._visibleInput.off(t,b._visibleInputFocused),b._visibleInput.off(e,b._visibleInputChanged),b._visibleInput.off(G,b._visibleInputBlured),b._visibleInputFocused=null,b._visibleInputChanged=null,b._visibleInputBlured=null,b._visibleInput=null,b._selectedDate=null,b._enabled=null,p.fn.destroy.call(b)},_destroyCalendar:function(){var a=this;a.calendar&&(a.calendar.off(e,a._calendarChange),a._calendarChange=null,a.calendar.element.off(q,a._popupMouseDown),a._popupMouseDown=null,a.calendar.destroy(),a.calendar=null,a._calendarWrapper&&a._calendarWrapper.remove())},_destroyListBox:function(){var a=this;a.listBox&&(a._selectedElement=null,a.listBox.off(e,a._listBoxChange),a._listBoxChange=null,a.listBox.destroy(),a.listBox=null,a._listBoxWrapper&&(a._listBoxWrapper.remove(),a._listBoxWrapper=null))}}),i.defaults=s,b.ui.plugin("DatePicker",i),F=r({},s,{isMonthYearPicker:!0,calendar:{view:{depth:h,start:h}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),A=i.extend({init:function(b,a){a&&(a.isMonthYearPicker=!0),i.prototype.init.call(this,b,a)}}),A.defaults=F,b.ui.plugin("MonthYearPicker",A),J=r({},s,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),B=i.extend({init:function(b,a){a&&(a.isTimePicker=!0),i.prototype.init.call(this,b,a)}}),B.defaults=J,b.ui.plugin("TimePicker",B),D=r({},s,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),y=i.extend({init:function(b,a){a&&(a.isDateTimePicker=!0),i.prototype.init.call(this,b,a)}}),y.defaults=D,b.ui.plugin("DateTimePicker",y)}(jQuery,shield,this);
!function(a,c,g,A){var u,m,k,n=c.ui.Widget,q=c.Class,b=document,l=c.is,y=(c.get,c.format,c.to["int"]),d=(Math.abs,a.each,a.proxy),h=(a.extend,a.map,l.undefined),w=g.opera,x=navigator.userAgent,v=/msie/i.test(x)&&!w,p=(v&&7===b.documentMode,"keydown"),r="click",o="mousedown",s="change",e="select",t="cancel",j="display",i="none",z=function(a){return l.string(a)?a.replace(/^\s+/,"").replace(/\s+$/,""):a};u={cls:A,palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:""},m=n.extend({init:function(m,h){n.fn.init.apply(this,arguments);var e,c=this,g=c.options,k=g.cls;if(arguments.length>1&&(h=arguments[1],h.basicPalette&&h.basicPalette.palette&&(g.basicPalette.palette=h.basicPalette.palette)),c.element.css(j,i),c._enabled=!0,c.currentColor=new f({color:g.value}),g.displayInline)c._buildPalette(),k&&c._picker.addClass(k);else{if(c._picker=e=a('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(c.element),k&&c._picker.addClass(k),g.showLetter){var l=e.find(".sui-color-cell");a('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(l),e.find(".sui-selected-color").css("background-color",c.currentColor.color.cssa())}else e.find(".sui-color-cell").css("background-color",c.currentColor.color.cssa());e.on(r,c._pickerClicked=d(c._pickerClickedHandler,c)),a(b).on(o+".shieldColorPicker"+c.getInstanceId(),d(c._hidePopup,c))}c.currentColor.color.cssa?c._oldColor=c.currentColor.color.cssa():c._oldColor=c.currentColor.color.toRGB().cssa()},hidePalette:function(){this._hidePopup({})},hide:function(){var b=this;b.options.displayInline?a(b.wrapperDiv).hide():(a(b._picker).hide(),b._hidePopup({}))},show:function(){var b=this;b.options.displayInline?a(b.wrapperDiv).hide():a(b._picker).show()},isVisible:function(){var b=this;return b.options.displayInline?a(b.wrapperDiv).is(":visible"):a(b._picker).is(":visible")},_buildPalette:function(){var a=this;"basic"==a.options.palette?a._buildBasicPalette():(a._buildAdvancedPalette(),a._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var a=this,b=a.currentColor.color.toHSV();a.wrapperDiv&&(a._hue=b.hue,a._isHsl?(b=a.currentColor.color.toHSL(),a._XY(a,{pointer:a.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:b.hue,y:1-b.saturation}),a._Z(a,1-b.lightness,a.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(a._XY(a,{pointer:a.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:b.saturation,y:1-b.value}),a._Z(a,b.hue,a.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var a=this;a.wrapperDiv||a._buildPalette(),a._showPopup()},_showPopup:function(){var c=this,e=c._picker.offset(),l=e.top-a(b).scrollTop(),h=c._picker.height(),m=a(g).height();if("advanced"===c.options.palette&&(c.currentColor.color.cssa?c._oldColor=c.currentColor.color.cssa():c._oldColor=c.currentColor.color.toRGB().cssa()),!c.wrapperDiv||c.wrapperDiv.css(j)==i){c._popupIsOver=!1;var d=e.top+h+1,k=e.left,f=c.wrapperDiv.height();f+l+h>m?d=e.top-f-1:d++,(0>d||a(b).scrollTop()>d)&&(d=e.top+h+1),e.top>d?c._popupIsOver=!0:c._popupIsOver=!1,c.wrapperDiv||this._buildPalette(),c._popupIsOver?(c.wrapperDiv.css({position:"absolute",zIndex:10002,top:d+f,left:k,height:0,display:""}),c.wrapperDiv.animate({height:f,top:d},150)):(c.wrapperDiv.css({position:"absolute",zIndex:10002,top:d-1,left:k}),c.wrapperDiv.slideDown(150,function(){}))}},_hidePopup:function(k){var e,b=this,c=b.options,g=a(k.target);if(("basic"==c.palette||!(g.hasClass("sui-colorpicker")||g.parents(".sui-colorpicker").length>0))&&b.wrapperDiv&&b.wrapperDiv.css(j)!=i){if("basic"===c.palette){var d=b._picker.find(".sui-tool-letter > .sui-selected-color");0===d.length&&(d=b._picker.find(".sui-color-cell")),d.css("background-color",b.currentColor.color.css())}b._popupIsOver?(e=b.wrapperDiv.height(),b.wrapperDiv.animate({height:0,top:b._picker.offset().top},150,function(){a(this).css(j,i),a(this).css("height",e)})):b.wrapperDiv.slideUp(150,function(){});var h;h=b.currentColor.color.cssa?b.currentColor.color.cssa():b.currentColor.color.toRGB().cssa(),"basic"!=c.palette&&(c.advancedPalette.buttons?h!==b._oldColor&&(b.currentColor=new f({color:b._oldColor}),setTimeout(function(){b._update(),b.trigger(t)},200)):(b._changeSelectedColorCell(),b.trigger(s)))}},_buildBasicPalette:function(){var f,e=this,l=e.options,c=l.basicPalette,h=c.palette,k=c.tileSize,m=0,n=a("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>");f=l.displayInline?n.insertAfter(e.element):n.appendTo(b.body).css(j,i);for(var g=0;g<h.length;g++)a("<div class='sui-palette-tile'/>").css({backgroundColor:h[g],width:k.width,height:k.height,borderWidth:c.tileBorderWidth,margin:"0 "+c.tileBorderWidth+"px "+c.tileBorderWidth+"px 0"}).on(o,e._tileClicked=d(e._tileClickedHandler,e)).appendTo(f).addClass(e.currentColor.color.hex().toUpperCase()==h[g].toUpperCase()?"sui-palette-tile-selected":"");m=c.columns*y(k.width)+c.columns*c.tileBorderWidth,f.css("width",m+"px"),e.wrapperDiv=f},_tileClickedHandler:function(c){var b=this;if(b._enabled){b.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),a(c.target).addClass("sui-palette-tile-selected");var d=a(c.target).css("background-color");b.currentColor=new f({color:d}),b.trigger(e)}},_buildAdvancedPalette:function(){var l,m,f,e=this,h=e.options;f=h.displayInline?a("<div />").insertAfter(e.element).addClass("sui-colorpicker"):a("<div />").appendTo(b.body).addClass("sui-colorpicker").css(j,i),e.wrapperDiv=f,m=a("<div class='sui-hex-wrapper' />").appendTo(f),e.colorDiv=a("<div class='sui-color-div' />").appendTo(m),"hsl"==h.advancedPalette.type?e.colorInput=a("<input class='sui-alpha-input' />").appendTo(m):e.colorInput=a("<input class='sui-hex-input' />").appendTo(m),e.colorInput.on(p,e._colorInputKeyDown=d(e._colorInputKeyDownHandler,e));var n="<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>";a(n).appendTo(f);var o=new k({twod:f.find(".sui-color-palette").get(0),pointer:f.find(".sui-color-palette .pointer").get(0),oned:f.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:e._changeXY,change:e._changeXY,end:e._done}},e);e.xy=o;var q=new k({twod:f.find(".sui-color-palette").get(0),pointer:f.find(".sui-color-scale .pointer").get(0),oned:f.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:e._changeZ,change:e._changeZ,end:e._done}},e);if(e.z=q,"rgb"==h.advancedPalette.type){l="<div class='extras'/>";var g=a(l).appendTo(f);a("<span class='sui-r-text'>R:</span>").appendTo(g),e.rInput=a("<input class='sui-r-input' />").appendTo(g),e._rInputKeyDown=d(e._rInputKeyDownHandler,e),a("<span class='sui-g-text'>G:</span>").appendTo(g),e.gInput=a("<input class='sui-g-input' />").appendTo(g),e._gInputKeyDown=d(e._gInputKeyDownHandler,e),a("<span class='sui-b-text'>B:</span>").appendTo(g),e.bInput=a("<input class='sui-b-input' />").appendTo(g),e._bInputKeyDown=d(e._bInputKeyDownHandler,e),c.ui.NumericTextBox&&(e.rInput=new c.ui.NumericTextBox(e.rInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._rInputKeyDown}}),e.gInput=new c.ui.NumericTextBox(e.gInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._gInputKeyDown}}),e.bInput=new c.ui.NumericTextBox(e.bInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._bInputKeyDown}}))}if("hsl"==h.advancedPalette.type){e._isHsl=!0,l="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",f.addClass("sui-hsl"),a(l).appendTo(f);var r=new k({twod:f.find(".alpha").get(0),pointer:f.find(".alpha .pointer").get(0),oned:f.find(".alpha").get(0),isXYslider:!1,cbs:{begin:e._changeA,change:e._changeA,end:e._done}},e);e.a=r}h.advancedPalette.buttons&&e._buildButtons()},_buildButtons:function(){var b=this,e=this.options.advancedPalette.messages,f=a("<div class='sui-buttons-wrapper' />").appendTo(this.wrapperDiv);if(c.ui.Button){var g=a("<button type='button'>"+e.apply+"</button>").appendTo(f),h=new c.ui.Button(g,{cls:"sui-apply",events:{click:d(b._applyHandler,this)}});b._applyButton=h;var i=a("<button type='button'>"+e.cancel+"</button>").appendTo(f),j=new c.ui.Button(i,{cls:"sui-cancel",events:{click:d(b._cancelHandler,this)}});b._cancelButton=j}},_applyHandler:function(b){var a=this;a.currentColor.color.cssa?a._oldColor=a.currentColor.color.cssa():a._oldColor=a.currentColor.color.toRGB().cssa(),a._changeSelectedColorCell(),a.options.displayInline||a._hidePopup(b),a.trigger(s)},_changeSelectedColorCell:function(){var b,a=this,c=a.options,d=a._picker;b=a.currentColor.color.cssa?a.currentColor.color.cssa():a.currentColor.color.toRGB().cssa(),c.displayInline||(c.showLetter?d.find(".sui-selected-color").css("background-color",b):d.find(".sui-color-cell").css("background-color",b))},_cancelHandler:function(b){var a=this;a.options.displayInline?(a.currentColor=new f({color:a._oldColor}),setTimeout(function(){a._update(),a.trigger(t)},200)):a._hidePopup(b)},_update:function(){var b,a=this,c=a._shouldUpdateMainInput,d=a._shouldUpdateRgbInputs;a._isHsl?(b=a.currentColor.color.toHSL(),a._XY(a,{pointer:a.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:b.hue,y:1-b.saturation}),a._shouldUpdateMainInput=c,a._Z(a,1-b.lightness,a.wrapperDiv.find(".sui-color-scale .pointer").get(0)),a.Y(a.wrapperDiv.find(".alpha .pointer").get(0),(1-b.alpha).toFixed(2))):(b=a.currentColor.color.toHSV(),a._XY(a,{pointer:a.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:b.saturation,y:1-b.value}),a._shouldUpdateMainInput=c,a._shouldUpdateRgbInputs=d,a._Z(a,b.hue,a.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(b){var a=this;setTimeout(function(){var c=b.value;a.currentColor.color.red=parseFloat(c)/255,a._shouldUpdateRgbInputs=!1,a._update(),a.trigger(e)},1)},_gInputKeyDownHandler:function(b){var a=this;setTimeout(function(){var c=b.value;a.currentColor.color.green=parseFloat(c)/255,a._shouldUpdateRgbInputs=!1,a._update(),a.trigger(e)},1)},_bInputKeyDownHandler:function(b){var a=this;setTimeout(function(){var c=b.value;a.currentColor.color.blue=parseFloat(c)/255,a._shouldUpdateRgbInputs=!1,a._update(),a.trigger(e)},1)},_colorInputKeyDownHandler:function(b){var a=this;b.ctrlKey||setTimeout(function(){var c=b.currentTarget,d=c.value,g=a.currentColor;a.currentColor=new f({color:d}),l.object(a.currentColor.color)?(a._shouldUpdateRgbInputs=!0,a._shouldUpdateMainInput=!1,a._update()):a.currentColor=g,a.trigger(e)},1)},_changeA:function(a,b){if(a.colorPicker._enabled){a.colorPicker.colorInput.val("rgba(0,0,0,1)");a.colorPicker._A(a.colorPicker,a.colorPicker.clamp(b.y,0,1),a.colorPicker.a.pointer)}},_changeZ:function(a,b){if(a.colorPicker._enabled){a.colorPicker._isHsl?a.colorPicker.colorInput.val("rgba(0,0,0,1)"):a.colorPicker.colorInput.val("#000000");a.colorPicker._Z(a.colorPicker,a.colorPicker.clamp(b.y,0,1),a.colorPicker.z.pointer);a.colorPicker.trigger(e)}},_changeXY:function(a,b){if(a.colorPicker._enabled){a.colorPicker._isHsl?a.colorPicker.colorInput.val("rgba(0,0,0,1)"):a.colorPicker.colorInput.val("#000000");a.colorPicker._XY(a.colorPicker,{x:a.colorPicker.clamp(b.x,0,1),y:a.colorPicker.clamp(b.y,0,1),pointer:b.pointer},a.colorPicker.xy);a.colorPicker.X(b.pointer,b.x),a.colorPicker.Y(b.pointer,b.y),a.colorPicker.trigger(e)}},_XY:function(a,b){var c,d=this;if(a._enabled){if(a.X(b.pointer,b.x),a.Y(b.pointer,b.y),d._isHsl){c=a.currentColor.color.toHSL?a.currentColor.color.toHSL():a.currentColor.color,c.hue=b.x,c.saturation=1-b.y;var g=c.lightness;c.lightness=.5,d.wrapperDiv.find(".sui-color-scale").css("background-color",c.toRGB().cssa()),c.lightness=g}else c=a.currentColor.color.toHSV(),b.x>1&&(b.x=1),b.x<0&&(b.x=0),b.y<0&&(b.y=0),b.y>1&&(b.y=1),c.saturation=b.x,c.value=1-b.y,0===c.hue&&(c.hue=d._hue);var e=c.toRGB(),f=a.colorInput.val();f!=e.hex()&&(d._shouldUpdateMainInput?(f.length>4||0===f.length)&&(d._isHsl?a.colorInput.val(e.cssa()):a.colorInput.val(e.hex())):d._shouldUpdateMainInput=!0),a.rInput&&(d._shouldUpdateRgbInputs?(a.rInput.value((255*e.red).toFixed(2)),a.gInput.value((255*e.green).toFixed(2)),a.bInput.value((255*e.blue).toFixed(2))):d._shouldUpdateRgbInputs=!0),a.colorDiv.get(0).style.background=e.cssa(),a.currentColor.color=e}},_Z:function(a,f,g){var b,c=this,e=a.colorInput.val();if(c._isHsl)b=a.currentColor.color.toHSL?a.currentColor.color.toHSL():a.currentColor.color,a.Y(g,f),b.lightness=1-f,a.colorDiv.get(0).style.background=b.toRGB().cssa(),a.currentColor.color=b,e!=b.toRGB().hex()&&(c._shouldUpdateMainInput?(e.length>4||0===e.length)&&(c._isHsl?a.colorInput.val(b.toRGB().cssa()):a.colorInput.val(b.toRGB().hex())):c._shouldUpdateMainInput=!0);else{b=a.currentColor.color.toHSV(),a.Y(g,f),a._rgbBg(a,a.wrapperDiv.find(".sui-color-palette").get(0),f),c._hue=b.hue=f;var d=b.toRGB();e!=d.hex()&&(e.length>4||0===e.length)&&(c._isHsl?a.colorInput.val(d.cssa()):a.colorInput.val(d.hex())),a.rInput&&(c._shouldUpdateRgbInputs?(a.rInput.value((255*d.red).toFixed(2)),a.gInput.value((255*d.green).toFixed(2)),a.bInput.value((255*d.blue).toFixed(2))):c._shouldUpdateRgbInputs=!0),a.colorDiv.get(0).style.background=d.cssa(),a.currentColor.color=d}},_A:function(a,f,g){var b,c=this,d=a.colorInput.val();b=a.currentColor.color.toHSL?a.currentColor.color.toHSL():a.currentColor.color,a.Y(g,f),b.alpha=(1-f).toFixed(2),a.colorDiv.get(0).style.background=b.toRGB().cssa(),a.currentColor.color=b,d!=b.toRGB().hex()&&(c._shouldUpdateMainInput?(d.length>4||0===d.length)&&(a.colorInput.val(b.toRGB().cssa()),c.trigger(e)):c._shouldUpdateMainInput=!0)},_rgbBg:function(a,b,c){var d=new f({}).HSV(c,1,1).toRGB().cssa();a.BG(b,d)},clamp:function(a,b,c){return Math.min(Math.max(a,b),c)},X:function(a,b){a.style.left=this.clamp(100*b,0,100)+"%"},Y:function(a,b){a.style.top=this.clamp(100*b,0,100)+"%"},BG:function(a,b){a.style.background=b},_done:function(){},enabled:function(){var b,a=this,c=(a.options,[].slice.call(arguments));return c.length>0?(b=c[0],b?(a._picker&&a._picker.removeClass("sui-colorpicker-disabled"),a.wrapperDiv&&a.wrapperDiv.removeClass("sui-colorpicker-disabled")):(a._picker&&a._picker.addClass("sui-colorpicker-disabled"),a.wrapperDiv&&a.wrapperDiv.addClass("sui-colorpicker-disabled")),a._applyButton&&a._applyButton.enabled(b),a._cancelButton&&a._cancelButton.enabled(b),b?(a.colorInput&&a.colorInput.removeAttr("readonly"),a.rInput&&(a.rInput.enable(!0),a.gInput.enable(!0),a.bInput.enable(!0))):(a.colorInput&&a.colorInput.attr("readonly","readonly"),a.rInput&&(a.rInput.enable(!1),a.gInput.enable(!1),a.bInput.enable(!1))),a._enabled=b,void 0):a._enabled},value:function(){var c,b=this,g=b.options,h=[].slice.call(arguments);if(!(h.length>0))return c=b.currentColor.color,c.css||(c=c.toRGB()),c;if(c=h[0],b.currentColor=new f({color:c}),"basic"==g.palette){var i=b.currentColor.color.css();if(b.wrapperDiv)for(var d=b.wrapperDiv.find(".sui-palette-tile"),e=0;e<d.length;e++)d[e].style.backgroundColor.replace(/\s+/g,"")===i.replace(/\s+/g,"")&&(d.removeClass("sui-palette-tile-selected"),a(d[e]).addClass("sui-palette-tile-selected"))}else b._changeAdvancedPaletteColor();if(!g.displayInline)if(g.showLetter){b._picker.find(".sui-color-cell");b._picker.find(".sui-selected-color").css("background-color",b.currentColor.color.cssa())}else b._picker.find(".sui-color-cell").css("background-color",b.currentColor.color.cssa())},destroy:function(){var c=this;c.element.show(),c.wrapperDiv.remove(),c.colorInput&&c.colorInput.off(p,c._colorInputKeyDown),c.rInput&&(c.rInput.destroy(),c.gInput.destroy(),c.bInput.destroy()),c.options.displayInline&&"basic"==c.options.palette&&(c.wrapperDiv.find(".sui-palette-tile").off(r,c._tileClicked),c.wrapperDiv.remove()),c._applyButton&&c._applyButton.destroy(),c._cancelButton&&c._cancelButton.destroy(),a(b).off(o+".shieldColorPicker"+c.getInstanceId()),c._tileClicked=c._rInputKeyDown=c._gInputKeyDown=c._bInputKeyDown=c._hidePopupDelegate=c._picker=c._applyButton=c._cancelButton=c._isHsl=c.currentColor=c.wrapperDiv=c.colorInput=c.colorDiv=c.rInput=c.gInput=c._enabled=c._popupIsOver=c.bInput=null,n.fn.destroy.call(c)}}),k=q.extend({init:function(b,g){var a=this,h=b.isXYslider,d=b.cbs,e=b.twod,c=b.pointer,f=b.oned;return a.colorPicker=g,h?(a.drag(e,a.attachPointer(a,d,c)),{background:e,pointer:c}):(a.drag(f,a.attachPointer(a,d,c)),{background:f,pointer:c})},drag:function(a,b){return a?void(this.isTouch()?this.dragTemplate(a,b,"touchstart","touchmove","touchend"):this.dragTemplate(a,b,"mousedown","mousemove","mouseup")):void console.warn("drag is missing elem!")},attachPointer:function(f,a,d){function e(a){return function(c,b){b.pointer=d,a(c,b)}}var c={};for(var b in a)a.hasOwnProperty(b)&&(c[b]=e(a[b]));return c},isTouch:function(){return"undefined"!=typeof g.ontouchstart},dragTemplate:function(d,c,h,e,f){var a=this,g=!1;c=a.getCbs(c);var i=c.begin,j=c.change,k=c.end;a.on(d,h,function(c){function h(){g=!1,a.off(b,e,l),a.off(b,f,h),a.callCb(k,d,c)}g=!0;var l=a.partial(a,a.callCb,j,d);a.on(b,e,l),a.on(b,f,h),a.callCb(i,d,c)})},on:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},off:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},getCbs:function(a){if(a)return{begin:a.begin||function(){},change:a.change||function(){},end:a.end||function(){}};var b,c;return{begin:function(a){b={x:a.elem.offsetLeft,y:a.elem.offsetTop},c=a.cursor},change:function(a){a.elem.style.left=b.x+a.cursor.x-c.x+"px",a.elem.style.top=b.y+a.cursor.y-c.y+"px"},end:function(){}}},callCb:function(i,b,c){var e=this;c.preventDefault();var f=a(b).offset(),j=b.clientWidth,k=b.clientHeight,d={x:e.cursorX(b,c),y:e.cursorY(b,c)},g=(d.x-f.left)/j,h=(d.y-f.top)/k;i(this,{x:isNaN(g)?0:g,y:isNaN(h)?0:h,cursor:d,elem:b,e:c})},partial:function(e,b){var a=Array.prototype.slice,c=a.apply(arguments,[2]),d=this;return function(){return b.apply(d,c.concat(a.apply(arguments)))}},cursorX:function(c,a){var d=this;if(d.isFixed(c)){var e=parseInt(d.getStyle(b.body,"marginLeft"),10)-d.calc(c,"scrollLeft")+g.pageXOffset+c.style.marginLeft;return a.clientX-e}return a.pageX?a.pageX:a.clientX?a.clientX+b.body.scrollLeft:void 0},cursorY:function(c,a){var d=this;if(d.isFixed(c)){var e=parseInt(d.getStyle(b.body,"marginTop"),10)-d.calc(c,"scrollTop")+g.pageYOffset+c.style.marginTop;return a.clientY-e}return a.pageY?a.pageY:a.clientY?a.clientY+b.body.scrollTop:void 0},calc:function(a,c){for(var b=0;"HTML"!=a.nodeName;)b+=a[c],a=a.parentNode;return b},isFixed:function(a){for(;"HTML"!=a.nodeName&&"fixed"!=this.usedStyle(a,"position");)a=a.parentNode;return"HTML"==a.nodeName?!1:!0},getStyle:function(a,c){return a.currentStyle?a.currentStyle[c]:b.defaultView&&b.defaultView.getComputedStyle?b.defaultView.getComputedStyle(a,"")[c]:a.style[c]},usedStyle:function(a,c){var b;return b=g.getComputedStyle?g.getComputedStyle(a,null):a.currentStyle,b[c]}});var f=q.extend({init:function(e){var a=this,b=e.color;if(h(b)||null===b||""===z(b))a.color=a.getColor("#000");else if(l.integer(b)){var c=b+0,d=[(16711680&c)>>16,(65280&c)>>8,255&c];a.color=a.getColor("rgb("+d[2]+","+d[1]+","+d[0]+")")}else a.color=a.getColor(b)},getColor:function(b){var g,a,c,f=this,d=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,j=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,o=new RegExp("^(rgb|hsl|hsv)a?\\("+d.source+","+d.source+","+d.source+"(?:,"+j.source+")?\\)$","i");if(g=b.toLowerCase(),"transparent"===g&&(b="rgba(0,0,0,0)"),a=b.match(o)){var i=a[1].toUpperCase(),k=h(a[8])?a[8]:parseFloat(a[8]),e="H"===i[0],m=a[3]?100:e?360:255,n=a[5]||e?100:255,l=a[7]||e?100:255;return f[i](parseFloat(a[2])/m,parseFloat(a[4])/n,parseFloat(a[6])/l,k)}return b.length<6&&(b=b.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3")),c=b.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i),c?f.RGB(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255):b},RGB:function(c,d,e,a){var b=this;return{red:c,green:d,blue:e,alpha:h(a)?1:a,hex:function(){var a=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-a.length)+a},hexa:function(){var a=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-a.length)+a+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var e,f=this.red,c=this.green,d=this.blue,g=Math.max(f,c,d),i=Math.min(f,c,d),h=g-i,j=0===g?0:h/g,k=g;if(0===h)e=0;else switch(g){case f:e=(c-d)/h/6+(d>c?1:0);break;case c:e=(d-f)/h/6+1/3;break;case d:e=(f-c)/h/6+2/3}return b.HSV(e,j,k,a)},toHSL:function(){var a=this.toHSV();return b.HSV(a.hue,a.saturation,a.value,a.alpha).toHSL()},toCMYK:function(){var g=this.red,h=this.green,i=this.blue,d=1-g,e=1-h,f=1-i,c=1;return g||h||i?(c=Math.min(d,Math.min(e,f)),d=(d-c)/(1-c),e=(e-c)/(1-c),f=(f-c)/(1-c)):c=1,b.CMYK(d,e,f,c,a)}}},HSV:function(c,d,e,a){var b=this;return{hue:c,saturation:d,value:e,alpha:h(a)?1:a,toRGB:function(){var d,f,e,k=this.hue,h=this.saturation,c=this.value,l=Math.min(5,Math.floor(6*k)),m=6*k-l,g=c*(1-h),i=c*(1-m*h),j=c*(1-(1-m)*h);switch(l){case 0:d=c,f=j,e=g;break;case 1:d=i,f=c,e=g;break;case 2:d=g,f=c,e=j;break;case 3:d=g,f=i,e=c;break;case 4:d=j,f=g,e=c;break;case 5:d=c,f=g,e=i}return b.RGB(d,f,e,a)},toHSL:function(){var c,a=(2-this.saturation)*this.value,e=this.saturation*this.value,d=1>=a?a:2-a;return c=1e-9>d?0:e/d,b.HSL(this.hue,c,a/2,this.alpha)}}},HSL:function(b,c,d,a){var e=this;return{hue:b,saturation:c,lightness:d,alpha:h(a)?1:a,toHSV:function(){var c,a=2*this.lightness,b=this.saturation*(1>=a?a:2-a);return c=1e-9>a+b?0:2*b/(a+b),e.HSV(this.hue,c,(a+b)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(b,c,d,e,a){var f=this;return{cyan:b,magenta:c,yellow:d,black:e,alpha:h(a)?1:a,toRGB:function(){return f.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});m.defaults=u,c.ui.plugin("ColorPicker",m),c.ui.ColorPicker=m}(jQuery,shield,this);
!function(a,b,C,h){function $(a){var b,c=" ";if(a){if(G(a))return a;for(b in a)a.hasOwnProperty(b)&&(c+=b+'="'+a[b]+'"')}return c}function Na(){var b,d,e,c,f=[].slice.call(arguments),g=f.shift();for(c=0;c<f.length&&(b=a(g.target).closest(".sui-cell",f[c]),!b.length);c++);return b.length?(d=b[0].parentNode,e=b[0],null==d||null==e?null:{row:d,cell:e}):null}function da(b,c){return a(b.target).closest(".sui-cell",c).length>0}var ma,U=b.ui.Widget,o=b.Class,R=b.DataSource,l=b.format,k=b.support,E=b.exp,u=b.get,A=b.iid,t=b.is,y=t.func,G=t.string,L=t.object,oa=t["boolean"],f=t.defined,La=t.number,i=t.undefined,I=t["null"],v=b.to["int"],d=document,z=Math.abs,q=Math.min,m=Math.max,X=a.each,c=a.proxy,g=a.extend,Y=a.map,W=a.grep,K=a.inArray,Q=navigator.userAgent,Ha=C.opera,F=/msie/i.test(Q)&&!Ha,w=F&&7===d.documentMode,Oa=F&&8===d.documentMode,Ca=(F&&10===d.documentMode,8===d.documentMode,/AppleWebKit/.test(Q)),D=(/Firefox/.test(Q),"height"),Ba="sui-selectable",j="sui-selected",ka="change",Aa="start",sa="scroll",e="command",qa="selectionChanged",xa="selectstart",Z="dataBound",s="mousedown",x="mousemove",H="mouseup",wa="resize",n="click",va="dblclick",ea="sort",fa="detailCreated",ga="columnReorder",ha="columnResize",ia="groupsReorder",ja="group",M="ungroup",N="editorCreating",V="filterWidgetCreating",ua="getCustomFilterValue",Da="clearFilter",ta="expandButtonCreate",P="cancel",J="edit",pa="insert",O="save",na="delete",S="error",ba="collapse",ra="expand",ya="editWindowOpen",za="insertWindowOpen",B="display",r="none",_="sui-viewindex",p="sui-fieldname";ma={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}};var Ea=o.extend({init:function(h,d){var b,i,c,f,e,g=this;for(g._grid=d,e=0;e<h.length;e++)b=h[e],i=b.position?b.position:"top",c=a("<div class='sui-toolbar'></div>"),"top"===i?(f=d.element.find(".sui-toolbar"),f.length>0?a(f[0]).after(c):d.element.prepend(c)):(c.addClass("sui-toolbar-bottom"),c.appendTo(d.element)),b.template?g._initializeTemplate(b,c):b.buttons.length>0&&g._buildButtons(c,b)},_buildButtons:function(c,d){var a,e=this,b=d.buttons;for(a=0;a<b.length;a++)e._buildButton(b[a],c)},_buildButton:function(g,i){var h,j,d=this,f=g.commandName,e=g.click;b.ui.Button&&(h=a('<button type="button">'+g.caption+"</button>").appendTo(i),"insert"==f?e=d._insertButtonClicked:"save"==f?e=d._saveButtonClicked:"cancel"==f?e=d._cancelButtonClicked:"excel"==f?e=d._excelButtonClicked:"pdf"==f&&(e=d._pdfButtonClicked),j=new b.ui.Button(h,{cls:g.cls,events:{click:c(e,d._grid)}}))},_excelButtonClicked:function(){this._doExcelExport()},_pdfButtonClicked:function(){this._doPdfExport()},_insertButtonClicked:function(n,j){var d,h,f,i,g,a=this,k=a.options,l=k.editing.insertNewRowAt,b=a.dataSource;a._hasVirtualScrolling();if(j||(i=a.trigger(e,{commandName:pa,cancel:!1}),!i.cancel)){if(b.sort&&b.sort.length>0)return b.sort=[],a._sortingInProgress=!0,a.pager&&(b.skip=0,b.take=a.pager.pageSize(),a.pager.refresh(!0)),void b.read().always(c(a._toolbar._insertButtonClicked,a,n,!0));a._editingInProcess=!0,f="pagebottom"===l?m(0,a.contentTable.find("tbody > tr").length-1):0,d=b.insertView(f,{});for(g in d.fields)d.fields.hasOwnProperty(g)&&(d.data[g]=null);a._editing._insertedItems.push(d),h=a.contentTable.find("tbody > tr").eq(f),"popup"!=a.options.editing.mode?a._editing._putRowInEditMode(h,0):a._initializePopupForm(0,!0),a.trigger(pa)}},_saveButtonClicked:function(f){var b,c,a=this,d=a.contentTable.find(".sui-editable-cell");return d.length>0&&(b=d.get(0).parentNode.rowIndex,a._updateItem(b,null),a._errorDuringEdit)?void(a._errorDuringEdit=!1):(c=a.trigger(e,{commandName:O,cancel:!1}),void(c.cancel||(a.dataSource.save(),a.trigger(O))))},_cancelButtonClicked:function(c){var a=this,b=a.trigger(e,{commandName:P,cancel:!1});b.cancel||(a.dataSource.cancel(),a.trigger(P))},_initializeTemplate:function(d,b){var e=this,c=d.template;if(y(c)){var a=c.call(e._grid,b);f(a)&&!I(a)&&""!==a&&b.html(a)}else b.html(c)},destroy:function(){this._grid=null}}),Fa=o.extend({init:function(b,d){var a=this;a._grid=d,a.options=b,a._eventNS=".shieldGridEditing"+A(),a._editors={},a._insertedItems=[],b.enabled&&a._initEditing(),a._grid.dataSource.on(S+a._eventNS,c(a._dsError,a))},_dsError:function(a){var b=this,c=b._editors[a.path];b._grid.trigger(S,{type:a.type,path:a.path,value:a.value,editor:c,reason:a.reason}),b._errorDuringEdit=!0},_initEditing:function(){var b=this,g=b.options,e=g.event,f=b._eventNS;i(e)||("click"===e?b._grid.element.on(n+f,".sui-cell",c(b._editingTriggered,b)):"doubleclick"===e&&b._grid.element.on(va+f,".sui-cell",c(b._editingTriggered,b)),a(d).on(n+f,c(b._documentClicked,b)))},_editingTriggered:function(p){var k,j,c=this,g=p.target,f=a(p.target).parent(),d=f.get(0).rowIndex,n=c.options,o=n.mode,h=n.type,l=c._grid.dataSource,q=n.batch,r=c._grid.trigger(e,{commandName:J,cancel:!1,row:f,cell:g,index:c._grid._getRowIndex(f)});if(!r.cancel){if(q){if(k=c._grid.contentTable.find(".sui-editable-cell"),k.length>0){if(d=k.get(0).parentNode.rowIndex,"TR"!==f.get(0).nodeName.toUpperCase()||f.get(0).rowIndex==d&&"row"==h)return;var m=c._grid._updateItem(d,g);if(c._errorDuringEdit)return c._errorDuringEdit=!1,void(m=null);j=f.get(0).rowIndex,c._grid._putRowInViewMode(d,null),!c._grid._populateInsertedItem&&m&&m.length>0&&c._grid._renderUpdateMarkers(m,d),c._grid._populateInsertedItem=!1,j===d&&(g=c._grid.contentTable.find("tbody > tr").eq(d).get(0).cells[g.cellIndex]),d=j}i(h)||"cell"===h?c._putCellInEditMode(g,d):"row"===h?c._putRowInEditMode(f,g.cellIndex):b.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}else if(l.tracker&&l.tracker.changes&&l.tracker.changes.added&&l.tracker.changes.added.length>0)"TR"!==f.get(0).nodeName.toUpperCase()||f.get(0).rowIndex==d&&"row"==h||l.cancel();else if(i(o)||"inline"===o){if(k=c._grid.contentTable.find(".sui-editable-cell"),k.length>0){if(d=k.get(0).parentNode.rowIndex,"TR"!==f.get(0).nodeName.toUpperCase()||f.get(0).rowIndex==d&&"row"==h)return;if(c._grid._updateItem(d,g),c._errorDuringEdit)return void(c._errorDuringEdit=!1);j=f.get(0).rowIndex,c._grid._closeAllEditedRows(),j===d&&(g=c._grid.contentTable.find("tbody > tr").eq(d).get(0).cells[g.cellIndex]),d=j}i(h)||"cell"===h?c._putCellInEditMode(g,d):"row"===h?c._putRowInEditMode(f,g.cellIndex):b.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}c._grid.trigger(J,{row:f,cell:g,index:c._grid._getRowIndex(f)})}},_documentClicked:function(g){var e,c,b=this,h=b.options.batch,d=a(g.target);if(b._grid._editingInProcess||b._grid._preventClosingEditors)return void(b._grid._editingInProcess=!1);if(!(d.hasClass("sui-cell")||d.parents().hasClass("sui-cell")||d.parents().hasClass("sui-calendar")||d.parents().hasClass("sui-listbox"))&&(e=this._grid.contentTable.find(".sui-editable-cell"),e.length>0)){c=e.get(0).parentNode.rowIndex;var f=b._grid._updateItem(c,null);if(b._errorDuringEdit)return void(b._errorDuringEdit=!1);b._grid._putRowInViewMode(c,null),h&&!b._grid._populateInsertedItem&&f&&f.length>0&&b._grid._renderUpdateMarkers(f,c),b._grid._populateInsertedItem=!1}},_getColumnIndex:function(b){return b.cellIndex-a(b.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(b,i){var k,j,e,a=this,m=a._getColumnIndex(b),l=a._grid,g=l.dataSource,d=l.columns[m],c=!1;if(d&&d.field&&d.editable!==!1){if(g.group&&g.group.length>0)for(j=a._grid.contentTable.find(".sui-row, .sui-alt-row"),e=0;e<j.length;e++)if(j[e]==b.parentNode){i=e;break}if(k=g.editView(i).data,arguments.length>2?arguments[2]==m&&(c=!0):c=!0,d.editor)a._instantiateCustomEditor(d,b,k,i,c);else{var n=f(g.schema.options.fields)?g.schema.options.fields[d.field].type:String,h=u(k,d.field);switch(n){case Number:a._instantiateNumeric(b,h,c);break;case Date:a._instantiateDatePicker(b,h,c);break;case String:a._instantiateTextBox(b,h,c);break;case Boolean:a._instantiateCheckBox(b,h,c)}}}},_prepareCell:function(b){a(b).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(h,c,i,j,k,e){var f,d,g,b=this;e?d=e:(f=b._getColumnIndex(c),d=b._grid.columns[f].field,b._prepareCell(c)),g=h.editor.call(b._grid,c,i,j,k),a(c).html(g),b._editors[d]="custom"},_instantiateNumeric:function(f,k,l,j){var h,e,i,d,c=this;j?d=j:(i=c._getColumnIndex(f),d=c._grid.columns[i].field,c._prepareCell(f)),e=a("<input name='"+d+"' />"),e.appendTo(f);var m=c._grid.trigger(N,{field:d,options:{}}),n=g({},m.options,{value:k});b.ui.NumericTextBox&&(h=new b.ui.NumericTextBox(e,n),l&&h.focus(),c._editors[d]=h)},_instantiateDatePicker:function(f,k,l,j){var h,e,i,d,c=this;j?d=j:(i=c._getColumnIndex(f),d=c._grid.columns[i].field,c._prepareCell(f)),e=a("<input name='"+d+"' />"),e.appendTo(f);var m=c._grid.trigger(N,{field:d,options:{}}),n=g({},m.options,{value:k});b.ui.DatePicker&&(h=new b.ui.DatePicker(e,n),l&&h.focus(),c._editors[d]=h)},_instantiateTextBox:function(f,k,l,j){var h,e,i,d,c=this;j?d=j:(i=c._getColumnIndex(f),d=c._grid.columns[i].field,c._prepareCell(f)),e=a('<input type="text" name="'+d+'"/>'),e.appendTo(f);var m=c._grid.trigger(N,{field:d,options:{}}),n=g({},m.options,{value:k,cls:"sui-input-textbox"});b.ui.TextBox&&(h=new b.ui.TextBox(e,n),l&&h.focus(),c._editors[d]=h)},_instantiateCheckBox:function(h,i,l,k){var e,f,j,d,c=this;k?d=k:(j=c._getColumnIndex(h),d=c._grid.columns[j].field,c._prepareCell(h)),f=a("<input type='checkbox' name='"+d+"' />"),f.appendTo(h);var m=c._grid.trigger(N,{field:d,options:{}}),n=g({},m.options,{value:i});b.ui.CheckBox&&(e=new b.ui.CheckBox(f,n),l&&e.focus(),e.checked(i),c._editors[d]=e)},_putRowInEditMode:function(b,g){var d,c,e=this,f=b.find(".sui-cell");for(c=0;c<f.length;c++)e._putCellInEditMode(f[c],b.get(0).rowIndex,g-b.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length);d=b.find(".sui-edit"),d.length>0&&e._grid._changeEditColumnButtons(b.get(0).rowIndex,a(b.find(".sui-button-cell")[0]))},_destroyRow:function(f){var a,d,b=this,e=b._grid,g=e.contentTable.find("tbody > tr").eq(f),c=e.columns;for(a=0;a<c.length;a++)d=b._editors[c[a].field],d&&(y(d.destroy)&&b._editors[c[a].field].destroy(),delete b._editors[c[a].field]);g.remove()},destroy:function(){var c,f,b=this,e=b._eventNS;if(b._grid.dataSource.off(S+e),b._grid.element.off(e,".sui-cell"),a(d).off(n+e),b._editors)for(c=0;c<b._editors.length;c++)f=b._editors[c].editor.element(),b._editors[c].editor.destroy(),f.remove();b._grid=b._errorDuringEdit=b.options=null}}),Ga=o.extend({init:function(a){var b=this;G(a)?(b.field=a,b.resizable=!0,b.sortable=!0,b.filterable=!0,b.editable=!0,b.visible=!0,b.locked=!1):L(a)&&(b.field=a.field,b.title=a.title,b.format=a.format,b.width=a.width,b.minWidth=a.minWidth,b.maxWidth=a.maxWidth,b.resizable=f(a.resizable)?!!a.resizable:!0,b.attributes=a.attributes,b.headerAttributes=a.headerAttributes,b.headerTemplate=a.headerTemplate,b.columnTemplate=a.columnTemplate,b.footerTemplate=a.footerTemplate,b.groupFooterTemplate=a.groupFooterTemplate,b.buttons=a.buttons,b.editor=a.editor,b.customFilter=a.customFilter,b.sortable=f(a.sortable)?!!a.sortable:!0,b.filterable=f(a.filterable)?!!a.filterable:!0,b.editable=f(a.editable)?!!a.editable:!0,b.visible=f(a.visible)?!!a.visible:!0,b.locked=b.visible?!!a.locked:!1)},destroy:function(){var a=this;a.buttons&&(a.buttons.length=0),a.field=a.title=a.editor=a.editable=a.format=a.width=a.minWidth=a.maxWidth=a.resizable=a.attributes=a.headerAttributes=a.headerTemplate=a.buttons=a.customFilter=a.footerTemplate=a.groupFooterTemplate=a.sortable=a.filterable=a.visible=a.locked=a.columnTemplate=null}}),la=o.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(b){var a=this;a.grid=b,a.options=g(!0,{},la.fn.options),a._eventNS=a.options.ns+A(),b.headerTable.on(x+a._eventNS,".sui-headercell",c(a._showHandle,a))},_showHandle:function(h){if(!this.resizing){var d=this,g=d.options,e=(d.grid,d.handle),f=h.pageX,b=d.params=d._params(a(h.currentTarget)),i=f>=b.offset.left&&f<=b.offset.left+g.offset&&b.headerIndex>0;b.isRtl&&(i=f>=b.offset.left+b.width-g.offset&&f<=b.offset.left+b.width&&b.headerIndex>0),i&&(b=d.params=d._params(b.header.prev())),b.column&&b.column.resizable&&!b.column.locked&&(f>=b.threshold&&f<=b.edge+g.offset?(e||(e=d.handle=a('<div class="sui-resizable-handle"/>').on(s+d._eventNS,c(d._down,d)).appendTo(b.header.parents(".sui-headercontent"))),e.css({top:b.position.top,left:e.parent()[0].scrollLeft+b.handleLeft,width:g.width,height:b.height}).show()):e&&e.hide())}},_params:function(a){var f=this,b=f.options,i=a.offset(),g=a.position(),d=k.isRtl(f.grid.element),e=a.outerWidth(),h=i.left+(d?b.width:e),l=a.index(),c=f.grid._getColumnByField(a.attr("data-field")),j=c?c.minWidth>=0?+c.minWidth:b.min:null,m=c&&c.maxWidth>=j?+c.maxWidth:null;return{header:a,headerIndex:l,column:c,min:j,max:m,offset:i,isRtl:d,width:e,current:e,height:a.outerHeight(),edge:h,threshold:h-b.width+(d?-1:1)*b.offset,position:g,handleLeft:g.left+(d?b.width:e)-b.width+(d?-1:1)*b.offset}},_down:function(h){var g,e=this,i=e.grid,f=e.params;if(!(h.button>1)&&f)return g="> colgroup col:nth-child("+(f.headerIndex+1)+")",f.origin=h.pageX,f.cols=a().add(i.headerTable.find(g)).add(i.contentTable.find(g)),e.resizing=!0,e._cancelled=null,e.handle.hide(),a(d).on(x+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),b.selection(!1),!1},_move:function(g){var f,b,d,c=this,a=c.params;if(c.resizing)return f=(a.isRtl?-1:1)*(g.pageX-a.origin),b=m(a.width+f,a.min),a.max&&(b=q(b,a.max)),d=c.grid.trigger(e,{commandName:ha,cancel:!1,field:a.column.field,width:b}),d&&d.cancel?void(c._cancelled=!0):void(b!==a.current&&(a.cols.width(a.current=b),c.grid._fixHeaderPadding(),c.grid._adjustHeightsLocked(!0)))},_up:function(){var c=this,e=c.grid,g=c.params,h=g.current,f=g.column||{},i=(e.options.columns||[])[a(e.columns).index(f)]||{};c.resizing=!1,c.params=null,f.width=i.width=h+"px",a(d).off(c._eventNS),b.selection(!0),c._cancelled!==!0&&e.trigger(ha,{field:f.field,width:h}),c._cancelled=null},destroy:function(){var a=this;a.grid.headerTable.off(a._eventNS),a.grid=a._cancelled=null,a.handle&&(a.handle.off(a._eventNS).remove(),a.handle=null)}}),Ia=o.extend({init:function(b){var a=this;a.grid=b,a._filters={},a._eventNS=".shieldGridFiltering"+A(),a._createFilterRow()},_createFilterRow:function(){var m,g,i,h,b,f=this,j=f.grid,r=j.headerTable,o=r.find(">thead"),k=a('<tr class="sui-filter-row"/>'),q=o.find(".sui-indent-cell").length,l=j.dataSource.schema,e=j.columns;for(b=0;q>b;b++)a('<th class="sui-indent-cell"/>').appendTo(k);for(l&&l.options.fields&&(h=l.options.fields),b=0;b<e.length;b++)m=h&&h[e[b].field]?h[e[b].field].type:null,g=e[b].field?e[b].field.replace(/[\"\']/g,"@"):"",i=a('<th class="sui-filter-cell" data-field="'+g+'"/>').appendTo(k),e[b].filterable!==!1&&g.length>0&&(f._initializeEditor(i,m,e[b].field,e[b]),f._appendFilterButton(i));for(k.appendTo(o),a(d).on(n+f._eventNS,c(f._documentClicked,f)),b=0;b<e.length;b++)if(g=e[b].field?e[b].field.replace(/[\"\']/g,"@"):"",e[b].filterable!==!1&&g.length>0){var p=f._getFilter(e[b].field);p&&(f._setEditorValue(e[b].field,e[b],p.value),f._addRemoveFilterButton(e[b].field))}},_documentClicked:function(e){var c,f,d=this;if(d.listBox&&!a(e.target).hasClass("sui-filter-button")&&!a(e.target).hasClass("sui-filter-button-content")){var b=d.listBox.element.parent();if(b.css(B)==r)return;d._filterByField=null,c=b.height(),f=b.offset().top,d._slideUp?b.animate({height:0,top:f+c},150,function(){b.css({display:r,height:c})}):b.animate({height:0},150,function(){b.css({display:r,height:c})})}},_appendFilterButton:function(d){if(b.ui.Button){var e=a('<button type="button"><span class="sui-sprite sui-filter-button-content"/></button>').appendTo(d);new b.ui.Button(e,{cls:"sui-filter-button",events:{click:c(this._filterButtonClicked,this)}})}},_filterButtonClicked:function(f){var l,h,p,e=this,n=e.grid,m=n.dataSource.schema,j=n.options.filtering,o=j.stringFunc?j.stringFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],q=j.nonStingFunc?j.nonStingFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],i=f.target.element.parent().attr("data-field").replace(/[@]/g,"'");if(e._filterByField=i,m&&m.options.fields){var k=m.options.fields;l=k&&k[i]&&k[i].type===String?o:q}else l=o;b.ui.ListBox&&(e.listBox||(e._menuWrapper=a('<div style="display:none;"/>').appendTo(d.body),e.listBox=new b.ui.ListBox(e._menuWrapper,g({},{},{dataSource:{data:l},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:c(e._selectFilterFunction,e)}})),e.grid.element.parent().hasClass("sui-rtl")?e.listBox.element.parent().addClass("sui-rtl"):e.listBox.element.parent().css(B,r)),h=e.listBox.element.parent().height(),e._positionListBox(f),e._slideUp?(p=f.target.element.offset().top-h,e.listBox.element.parent().css({top:f.target.element.offset().top}),e.listBox.element.parent().animate({height:h,top:p-e.listBox.element.parent().innerHeight()},150)):e.listBox.element.parent().animate({height:h},150)),e._selectFilterMenuValue(i)},_getFilter:function(e){var b,d,a,f=this,c=f.grid.dataSource.filter;if(c&&c.and&&c.and.length>0)for(b=c.and,a=0;a<b.length;a++)b[a].path===e&&(d=b[a]);return d},_selectFilterMenuValue:function(d){var a=this,b=a._getFilter(d),c=b?b.filter:h;c?a.listBox.values(c):a.listBox.clearSelection()},_selectFilterFunction:function(i){var c,g,a=this,h=!0,b="@@custom"==a._filters[a._filterByField]?"@@custom":a._filters[a._filterByField].value(),d=i.item.func,e={path:a._filterByField,filter:d,value:b};if("@@custom"==b&&(g=a.grid.trigger(ua,{field:a._filterByField,value:null}),b=g.value,e={path:a._filterByField,filter:d,value:b}),""!==b&&null!==b||"notnull"==d||"isnull"==d){if(a.grid.dataSource.filter&&a.grid.dataSource.filter.and){c=a.grid.dataSource.filter.and;for(var f=0;f<c.length;f++)c[f].path===a._filterByField&&(c[f]=e,h=!1);h&&c.push(e)}else a.grid.dataSource.filter={and:[e]};a.grid.dataSource.read(),a._addRemoveFilterButton(a._filterByField)}},_addRemoveFilterButton:function(h){var d,e,g,i=this;if(b.ui.Button){d=i.grid.headerTable.find(".sui-filter-row > th");for(var f=0;f<d.length;f++)if(e=a(d[f]),e.attr("data-field")&&e.attr("data-field").replace(/[@]/g,"'")==h){g=d[f];break}if(0===e.find(".sui-clear-filter-button").length){var j=a('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(g);new b.ui.Button(j,{cls:"sui-clear-filter-button",events:{click:c(this._clearFilterButtonClicked,this)}})}}},_clearFilterButtonClicked:function(d){var f,a,b=this,c=d.target.element.parent().attr("data-field").replace(/[@]/g,"'"),e=b.grid.dataSource.filter.and;for(a=0;a<e.length;a++)e[a].path==c&&e.splice(a,1);f=d.target.element,d.target.destroy(),f.remove(),"@@custom"!=b._filters[c]?b._filters[c].value(null):b.grid.trigger(Da,{field:c,value:null}),b.grid.dataSource.read()},_positionListBox:function(i){var a=this,d=i.target.element,e=d.offset(),b=e.top,c=e.left,g=a.listBox.element.parent().innerWidth(),h=a.listBox.element.parent().innerHeight(),f=(d.innerWidth(),d.innerHeight());0>c&&(c=1),c+g>C.innerWidth&&(c=C.innerWidth-g-20),a._slideUp=!1,b+h>C.innerHeight&&(b-=h,f=0,a._slideUp=!0),0>b&&(b=e.top,f=d.innerHeight(),a._slideUp=!1),a.listBox.element.parent().css({position:"absolute",zIndex:10002,top:b+f,left:c,height:0,display:""})},_setEditorValue:function(b,c,d){var a,e=this;c.customFilter||(a=e._filters[b],a&&a.value(d))},_initializeEditor:function(b,e,c,d){var a=this;if(d.customFilter)a._filters[c]="@@custom",d.customFilter.call(a,b);else switch(e){case Number:a._instantiateNumeric(b,c);break;case Date:a._instantiateDatePicker(b,c);break;case String:a._instantiateTextBox(b,c);break;default:a._instantiateTextBox(b,c)}},_instantiateNumeric:function(f,c){var d,e=this,h=a("<input/>").appendTo(f),i=e.grid.trigger(V,{field:c,options:{}}),j=g({},i.options);b.ui.NumericTextBox&&(d=new b.ui.NumericTextBox(h,j),e._filters[c]=d)},_instantiateDatePicker:function(f,c){var d,e=this,h=a("<input/>").appendTo(f),i=e.grid.trigger(V,{field:c,options:{}}),j=g({},i.options);b.ui.DatePicker&&(d=new b.ui.DatePicker(h,j),e._filters[c]=d)},_instantiateTextBox:function(f,c){var d,e=this,h=a('<input type="text"/>').appendTo(f),i=e.grid.trigger(V,{field:c,options:{}}),j=g({},i.options);b.ui.TextBox&&(d=new b.ui.TextBox(h,j),e._filters[c]=d)},destroy:function(){var c,b=this;b.grid=null;for(c in b._filters)b._filters.hasOwnProperty(c)&&(b._filters[c].destroy(),b._filters[c]=null);b.listBox&&(b.listBox.destroy(),b.listBox=null),a(d).off(n+b._eventNS),b._filterByField=b._filters=b._slideUp=b._menuWrapper=null}}),Ja=o.extend({init:function(b,c){var a=this;a.grid=c,a.sortExpressions=[],a._eventNS=".shieldGridSorting"+A(),oa(b)?(a.allowUnsort=!0,a.multiple=!1,a.firstAscending=!0,a.ascText="&#9650;",a.descText="&#9660;"):L(b)&&(a.allowUnsort=i(b.allowUnsort)?!0:b.allowUnsort,a.multiple=b.multiple,a.firstAscending=i(b.firstAscending)?!0:b.firstAscending,a.ascText=i(b.ascText)?"&#9650;":b.ascText,a.descText=i(b.descText)?"&#9660;":b.descText),a._initialize()},destroy:function(){var b=this;b.allowUnsort=b.multiple=b.sortExpressions=null,b.length=0,b.grid.headerTable.find(".sui-headercell .sui-link").each(function(){a(this).parent().html(a(this).html())}),b.grid.headerTable.find('.sui-headercell span[class^="sui-"]').remove(),b.grid=null},_initialize:function(){var f,b,i,d=this,g=d.grid,h=g.dataSource.sort,e=g.columns,j={},p=g.headerTable.find(".sui-headercell");if(p.each(function(){var e,b=a(this),f=b.attr("data-field"),h=g._getColumnByField(f);j[f]=b,h&&h.sortable!==!1&&(e=b.html(),b.empty(),a('<a href="#" class="sui-link"/>').appendTo(b).html(e).on(n+d._eventNS,c(d._clickHandler,d)))}),h)for(f=0;f<h.length;f++)for(i=h[f],b=0;b<e.length;b++)if(e[b].sortable!==!1&&i.path==e[b].field){var k=a(j[e[b].field]).find(".sui-link"),l="ascending",m="sui-asc",o=d.ascText;i.desc&&(l="descending",o=d.descText,m="sui-desc"),k.addClass(m),a('<span class="sui-'+l+'">'+o+"</span>").appendTo(k)}},_clickHandler:function(e){var b=this,d=a(e.target).closest(".sui-link"),f=b.grid,c=f._getColumnByField(d.parent().attr("data-field"));return d.hasClass("sui-desc")?b.allowUnsort&&b.firstAscending?b._sortInternal(c,!0,!0):b._sortInternal(c,!1,!1):d.hasClass("sui-asc")?b.allowUnsort&&!b.firstAscending?b._sortInternal(c,!1,!0):b._sortInternal(c,!0,!1):b.firstAscending?b._sortInternal(c,!1,!1):b._sortInternal(c,!0,!1),!1},_sortInternal:function(c,b,d){var g=this,f=g.grid,h=f.dataSource,a=h.sort,j=f.trigger(e,{commandName:ea,cancel:!1,column:c,desc:b,unsort:d});if(!j.cancel){if(a){if(!g.multiple&&a)a.length=0;else{var i=W(a,function(a){return a.path===c.field&&a.desc===(d?b:!b)});if(i.length>0){var k=K(i[0],a);a.splice(k,1)}}d||a.push({path:c.field,desc:b})}else d||(a=h.sort=[{path:c.field,desc:b}]);f._refreshOnSort(),f.trigger(ea,{column:c,desc:b,unsort:d})}},_sort:function(b,e,g){var c,d,k=this,f=k.grid,j=f.dataSource,a=j.sort;if(a&&(c=W(a,function(a){return a.path===b&&a.desc===e})),!c||c.length<=0)if(!k.multiple&&a&&(a.length=0),a){var h=!1,i=W(a,function(a){return a.path===b&&a.desc!=e});i&&i.length>0&&(d=K(i[0],a),a.splice(d,1),h=!0),g||(a.push({path:b,desc:e}),h=!0),h&&f._refreshOnSort()}else g||(j.sort=[{path:b,desc:e}],f._refreshOnSort());else g&&(d=K(c[0],a),a.splice(d,1),f._refreshOnSort())}}),Ka=o.extend({init:function(e,g){var h,b=this;h=b._eventNS=".shieldGridSelection"+A(),oa(e)?(b.type="row",b.multiple=!1,b.toggle=!1,b.spreadsheet=!0,b.drawArea=!1,b._selectOnMouseDown=!1):L(e)&&(b.type=e.type?e.type:"row",b.multiple=e.multiple,b.toggle=e.toggle?e.toggle:!1,b.spreadsheet=i(e.spreadsheet)?!0:e.spreadsheet,b.drawArea=f(e.drawArea)?e.drawArea:e.multiple,b._selectOnMouseDown=!b.drawArea&&e.selectEvent==s),b.grid=g,b.lastSelected=null,a(g.headerTable).add(g.frozenHeaderTable).addClass("sui-non-selectable"),a(g.contentTable).add(g.frozenContentTable).addClass(Ba),a(g.contentTable).add(g.frozenContentTable).on(s+h,c(b._mouseDownHandler,b)).on(x+h,c(b._mouseMoveHandler,b)),a(d).on(H+h,c(b._mouseUpHandler,b)),F&&a(g.contentTable).add(g.frozenContentTable).on(xa+h,function(){return!1}),b.multiple&&b.drawArea&&(b.area=a(d.createElement("span")).addClass("sui-area sui-area-color"))},destroy:function(){var b=this,c=b._eventNS,e=b.grid;a(e.contentTable).add(e.frozenContentTable).off(c),a(d).off(c),b.area&&b.area.remove(),b.grid=b.type=b.multiple=b.lastSelected=b.toggle=b.spreadsheet=b.area=b.x=b.y=b.elements=null},select:function(g){var d,c,e,b,f=this;{if(!g)return f.grid.contentTable.find("."+j);if(d=a(g),c=d.length,c>0)for(b=0;c>b;b++)e=a(d.get(b)),f._selectElement(e),b==c-1&&(f.lastSelected=e)}},clear:function(){var a=this;"row"==a.type?a._clearSelectedRows():a._clearSelectedCells()},_getParentTable:function(a){return a?"TABLE"==a[0].nodeName.toUpperCase()?a[0]:a.parent()?this._getParentTable(a.parent()):void 0:void 0},_mouseDownHandler:function(g){var e=this,h=e.grid,i=g.pageX,j=g.pageY,f=a(g.target),k=e._getParentTable(f);e.x=i,e.y=j,("TD"!=f[0].nodeName.toUpperCase()||k==a(h.contentTable)[0]||k==a(h.frozenContentTable)[0])&&(!(f.hasClass("sui-cell")||f.hasClass("sui-row")||f.hasClass("sui-alt-row")||da(g,h.contentTable)||da(g,h.frozenContentTable))||f.hasClass("sui-detail-cell")||f.hasClass("sui-detail-row")||f.hasClass("sui-collapse-cell")||f.hasClass("sui-expand-cell")||f.hasClass("sui-expand-cell-disabled")||f.hasClass("sui-indent-cell")||(e.multiple&&e.drawArea&&e.area.appendTo(d.body).css({left:i+1,top:j+1,width:0,height:0}),a(d).on(x+e._eventNS,c(e._mouseMoveHandler,e)),b.selection(!1),e.elements=Na(g,h.contentTable,h.frozenContentTable),e.elements&&e._selectOnMouseDown&&e._performAndProcessSelection(g)))},_mouseMoveHandler:function(d){var a=this,b=d.pageX,c=d.pageY,e=a.x,f=a.y,g={left:e>b?b:e,top:f>c?c:f,width:z(b-a.x),height:z(c-a.y)};a.multiple&&a.drawArea&&a.area.css(g)},_mouseUpHandler:function(f){var c=this,e=c.area;a(d).off(x+c._eventNS),b.selection(!0),c.elements&&!c._selectOnMouseDown&&c._performAndProcessSelection(f),e&&e.remove()},_performAndProcessSelection:function(a){this._performSelection(a),this._processSelection(a)},_processSelection:function(l){var b,f,k,c,d=this,h=d.grid,g=[],i=[],j=[];for(c=0;c<d.elementsToBeSelected.length;c++)b=d.elementsToBeSelected[c],!(b.hasClass("sui-cell")||b.hasClass("sui-row")||b.hasClass("sui-alt-row"))||b.hasClass("sui-detail-cell")||b.hasClass("sui-detail-row")||b.hasClass("sui-collapse-cell")||b.hasClass("sui-expand-cell")||b.hasClass("sui-expand-cell-disabled")||b.hasClass("sui-indent-cell")||(g.push(b),f=h._getRowIndex("row"==d.type?b:a(b).parent()),i.push(f),j.push(f>=0?h.dataSource.getDataIndex(f):f));if(k=h.trigger(e,{commandName:qa,cancel:!1,toBeSelected:g,viewIndices:i,indices:j}),!k.cancel){for(c=0;c<g.length;c++)d._selectElement(g[c]);h.trigger(qa,{selected:g,viewIndices:i,indices:j}),d.elements=null}},_performSelection:function(b){var a=this,c=a.area,d=b.ctrlKey,e=a.elements;a.elementsToBeSelected=[],"row"==a.type?a._performRowSelection(c,d,e,b):a._performCellSelection(c,d,e,b)},_performRowSelection:function(e,f,d,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-expand-cell-disabled")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-expand-cell-disabled")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(!c.drawArea||e&&0===e.height()&&0===e.width())c.multiple?c._processMultiRowSelection(b,d):c._processSingleRowSelection(b,d);else if(c.multiple){var h=c.grid.contentTable.find(">tbody > tr"),g=null;X(h,function(f,c){var d=a(c),e=d.offset().top;e<b.pageY&&(g=c.rowIndex)}),f||c._clearSelectedRows(),c._selectRowRange(d.row.rowIndex,g,f)}else c._processSingleRowSelection(b,d)},_performCellSelection:function(f,h,g,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-expand-cell-disabled")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-expand-cell-disabled")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(!c.drawArea||f&&0===f.height()&&0===f.width())c.multiple?c._processMultiCellSelection(b,g):c._processSingleCellSelection(b,g);else if(c.multiple){var d,i=c.grid.contentTable.find(">tbody > tr > td"),e=[];for(X(i,function(u,j){var d=a(j),r=d.get(0).clientWidth,t=d.get(0).clientHeight,g=d.offset().top,h=d.offset().left,o=g+t,n=h+r,k=q(b.pageX,c.x),p=m(b.pageX,c.x),l=q(b.pageY,c.y),s=m(b.pageY,c.y),i=!1,f=!1;l>g?o>l&&(i=!0):s>g&&(i=!0),k>h?n>k&&(f=!0):p>h&&(f=!0),i&&f&&e.push(j)}),h||c._clearSelectedCells(),d=0;d<e.length;d++){var k=a(e[d]);k.hasClass(j)?c._deselectElement(a(e[d])):c.elementsToBeSelected.push(a(e[d]))}}else c._processSingleCellSelection(b,g)},_selectRowRange:function(e,f,g){var b,c,d=this,h=q(e,f),i=m(e,f),k=d.grid.contentTable.find(">tbody > tr");for(b=h;i>=b;b++)c=a(k[b]),g&&c.hasClass(j)?d._deselectElement(c):d.elementsToBeSelected.push(c)},_clearSelectedRows:function(){var b=this,c=b.grid;a(c.frozenContentTable).find("> tbody > tr."+j).each(function(){b._deselectElement(a(this))}),a(c.contentTable).find("> tbody > tr."+j).each(function(){b._deselectElement(a(this))})},_clearSelectedCells:function(){var b=this,c=b.grid;a(c.frozenContentTable).find(">tbody > tr > td."+j).each(function(){b._deselectElement(a(this))}),a(c.contentTable).find(">tbody > tr > td."+j).each(function(){b._deselectElement(a(this))})},_processSingleRowSelection:function(h,d){var b=this,e=b.toggle,f=b.multiple,c=a(d.row),g=c.hasClass(j);f||b._clearSelectedRows(),e?g?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedRows(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiRowSelection:function(f,h){var b=this,g=b.grid,n=f.ctrlKey,r=f.shiftKey,c=a(h.row);if(n)c.hasClass(j)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(r){g.contentTable.find(">tbody > tr."+j);if(b.lastSelected){var s=b.lastSelected,d=s.get(0).rowIndex,i=g.contentTable.find(">tbody > tr"),k=c.get(0).rowIndex,o=q(k,d),p=m(k,d);b._clearSelectedRows();for(var e=o;p>=e;e++)if(e!==d){var l=a(i[e]);b.elementsToBeSelected.push(l)}b.elementsToBeSelected.push(a(i[d]))}else b.elementsToBeSelected.push(c),b.lastSelected=c}else b._processSingleRowSelection(f,h)},_processSingleCellSelection:function(h,d){var b=this,e=b.toggle,f=b.multiple,c=a(d.cell),g=c.hasClass(j);b.lastSelected;f||b._clearSelectedCells(),e?g?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedCells(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiCellSelection:function(h,w){var b=this,u=b.grid,x=h.ctrlKey,A=h.shiftKey,c=a(w.cell);if(x)c.hasClass(j)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(A)if(b.lastSelected){var d,k=b.lastSelected,s=u.contentTable.get(0),p=s.rows[0].cells.length,n=k.parent().get(0).rowIndex,e=n*p+k.get(0).cellIndex,r=u.contentTable.find(">tbody > tr > td"),l=c.parent().get(0).rowIndex,t=l*p+c.get(0).cellIndex,g=q(t,e),i=m(t,e);if(b._clearSelectedCells(),
b.spreadsheet){var o=k[0].cellIndex,v=c[0].cellIndex;g=q(o,v),i=m(o,v);var y=q(n,l),z=m(n,l);for(d=y;z>=d;d++){var f,B=s.rows[d];for(f=g;i>=f;f++)b.elementsToBeSelected.push(a(B.cells[f]))}}else for(d=g;i>=d;d++)if(d!==e){var C=a(r[d]);b.elementsToBeSelected.push(C)}b.elementsToBeSelected.push(a(r[e]))}else b.elementsToBeSelected.push(c),b.lastSelected=c;else b._processSingleCellSelection(h,w)},_selectElement:function(a){a.addClass(j)},_deselectElement:function(a){a.removeClass(j)}}),aa=o.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(b){var a=this;a.grid=b,a.options=g(!0,{},aa.fn.options),a._eventNS=a.options.ns+A(),a._events(!0)},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(s+a._eventNS,".sui-group-panel-indicator",a._downProxy)):(b.off(s+a._eventNS,".sui-group-panel-indicator",a._downProxy),a._downProxy=null)},_down:function(g){var e=this,f=a(g.target).closest(".sui-group-panel-indicator"),i=f.offset(),h=e.grid.element,j=h.offset(),l=g.pageX,m=g.pageY;return e.dataField=f.attr("data-field"),g.button>1?void 0:(e._moveProxy=c(e._move,e),e._upProxy=c(e._up,e),a(d).on(x+e._eventNS,e._moveProxy).on(H+e._eventNS,e._upProxy),e.start={left:l-i.left,top:m-i.top,x:l,y:m,target:f,index:f.parent().find(".sui-group-panel-indicator").index(f),positions:e._positions(f),gridPosition:{left:j.left,top:j.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:k.isRtl(h)},b.selection(!1),!1)},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,j=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(z(b.x-e)>j||z(b.y-f)>j)&&(c.dragged=a(l(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,c,d=f.parent().children(".sui-group-panel-indicator"),b=0,e=[];for(b;b<d.length;b++)a=d.eq(b),c=a.offset(),e.push({left:c.left,top:c.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(d,e){var a,c,g,h,f=this.start,b=f.gridPosition;for(c=0;c<f.positions.length;c++)if(a=f.positions[c],g=a.left<=d&&d<=a.left+a.width&&a.top<=e&&e<=a.top+a.height,h=b.left<=d&&d<=b.left+b.width&&b.top<=e&&e<=b.top+b.height,g&&h)return c;return-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,k=b.gridPosition.left+b.gridPosition.width,i=b.target.parent().children(".sui-group-panel-indicator"),l=b.isRtl?b.index<c:b.index>c;i.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(i.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),c!==b.index&&(h=g.left+(l?0:g.width),e.css({left:q(m(j,h),k),top:g.top,height:g.height}).show()))},_up:function(q){var f,c=this,o=c.options,g=c.grid,l=c.dragged,n=c.start,h=c.hovered,m=c.dataField;if(c._detachDocumentEvents(),l)if(null!=h&&h>-1){if(l.remove(),f=g.trigger(e,{commandName:ia,cancel:!1,index:n.index,newIndex:h}),!f.cancel)for(var i=g.dataSource.group,j=0;j<i.length;j++)if(i[j].field==m){var p=i[j];i[j]=i[h],i[h]=p;break}}else setTimeout(function(){l.remove()},k.transitions?o.returnDuration:0),c.grid.dataSource.group&&(f=g.trigger(e,{commandName:M,cancel:!1,field:m}),f.cancel||(c.grid.ungroup(m),g.trigger(M,f)));c.dragged=c.dataField=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),f&&!f.cancel&&(delete f.cancel,delete f.commandName,g.dataSource.read(),g.trigger(ia,f))},_detachDocumentEvents:function(){var b=this;b._moveProxy=b._upProxy=null,a(d).off(b._eventNS)},destroy:function(){var a=this;a.dataField=null,a._detachDocumentEvents(),a._events(!1)}}),Ma=o.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(b){var a=this;a.grid=b,a.options=g(!0,{},T.fn.options),a._eventNS=a.options.ns+A(),a._events(!0),b.headerTable.addClass("sui-reorderable")},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(s+a._eventNS,".sui-headercell",a._downProxy)):(b.off(s+a._eventNS,".sui-headercell",a._downProxy),a._downProxy=null)},_down:function(f){var e=this,g=a(f.target).closest(".sui-headercell"),n=g.offset(),h=e.grid.element,o=h.offset(),l=f.pageX,m=f.pageY;if(!(f.button>1)){var p=g.attr("data-field"),j=e.grid.dataSource.group;if(j)for(var i=0;i<j.length;i++)if(p===j[i].field)return;return a(d).on(x+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),e.start={left:l-n.left,top:m-n.top,x:l,y:m,target:g,index:1e3,positions:e._positions(g),gridPosition:{left:o.left,top:o.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:k.isRtl(h)},b.selection(!1),!1}},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,j=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(z(b.x-e)>j||z(b.y-f)>j)&&(c.dragged=a(l(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,b,d=this.grid.element.find(".sui-group-panel-indicator"),c=0,e=[];for(c;c<d.length;c++)a=d.eq(c),b=a.offset(),e.push({left:b.left,top:b.top,width:a.outerWidth(),height:a.outerHeight()}),c==d.length-1&&e.push({left:b.left,top:b.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(b,c){var d,f,i,h,j,g=this.start,e=g.gridPosition,a=this.grid.element.find(".sui-group-panel");if(g.positions.length>0){for(f=0;f<g.positions.length;f++)if(d=g.positions[f],i=d.left<=b&&b<=d.left+d.width&&d.top<=c&&c<=d.top+d.height,j=e.left<=b&&b<=e.left+e.width&&e.top<=c&&c<=e.top+e.height,h=a.offset().left<=b&&b<=a.offset().left+a.width()&&a.offset().top<=c&&c<=a.offset().top+a.height(),i&&j)return f}else h=a.offset().left<=b&&b<=a.offset().left+a.width()&&a.offset().top<=c&&c<=a.offset().top+a.height();return h?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,l=b.gridPosition.left+b.gridPosition.width,k=b.target.parent().children(".sui-group-panel-indicator"),i=b.isRtl?b.index<c:b.index>c;k.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(k.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),this.isOnGroupPanel&&(i=!1),g?(h=g.left+(i?0:g.width),this.isOnGroupPanel=null,e.css({left:q(m(j,h),l),top:g.top,height:g.height}).show()):(h=j+(i?b.gridPosition.width:0),this.isOnGroupPanel=null,e.css({left:h,top:b.gridPosition.top,height:f.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(o){var f,c=this,m=c.options,i=c.grid,j=c.dragged,g=c.start,h=c.hovered;if(j)if(j.css({left:g.x-g.left,top:g.y-g.top,transition:l("left {0} {1}ms, top {0} {1}ms",m.returnEasing,m.returnDuration)}),null!=h&&h>-1){j.remove();var n=g.target.attr("data-field");f=i.trigger(e,{commandName:ja,cancel:!1,field:n,index:h}),f.cancel||i.group(n,h,"asc")}else setTimeout(function(){j.remove()},k.transitions?m.returnDuration:0);c.dragged=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),f&&!f.cancel&&(delete f.cancel,delete f.commandName,i.dataSource.read(),i.trigger(ja,f))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),T=o.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(b){var a=this;a.grid=b,a.options=g(!0,{},T.fn.options),a._eventNS=a.options.ns+A(),a._events(!0),b.headerTable.addClass("sui-reorderable")},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(s+a._eventNS,".sui-headercell",a._downProxy)):(b.off(s+a._eventNS,".sui-headercell",a._downProxy),a._downProxy=null)},_down:function(g){var e=this,f=a(g.target).closest(".sui-headercell"),i=f.offset(),h=e.grid.element,j=h.offset(),l=g.pageX,m=g.pageY;if(!(g.button>1))return a(d).on(x+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),e.start={left:l-i.left,top:m-i.top,x:l,y:m,target:f,index:f.parent().find(".sui-headercell").index(f),positions:e._positions(f),gridPosition:{left:j.left,top:j.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:k.isRtl(h)},b.selection(!1),!1},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,j=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(z(b.x-e)>j||z(b.y-f)>j)&&(c.dragged=a(l(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,c,d=f.parent().children(".sui-headercell"),b=0,e=[];for(b;b<d.length;b++)a=d.eq(b),c=a.offset(),e.push({left:c.left,top:c.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(d,e){var a,c,g,h,f=this.start,b=f.gridPosition;for(c=0;c<f.positions.length;c++)if(a=f.positions[c],g=a.left<=d&&d<=a.left+a.width&&a.top<=e&&e<=a.top+a.height,h=b.left<=d&&d<=b.left+b.width&&b.top<=e&&e<=b.top+b.height,g&&h)return c;return-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,k=b.gridPosition.left+b.gridPosition.width,i=b.target.parent().children(".sui-headercell"),l=b.isRtl?b.index<c:b.index>c;i.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(i.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),c!==b.index&&(h=g.left+(l?0:g.width),e.css({left:q(m(j,h),k),top:g.top,height:g.height}).show()))},_up:function(n){var f,c=this,j=c.options,m=c.grid,i=c.dragged,g=c.start,h=c.hovered;i&&(i.css({left:g.x-g.left,top:g.y-g.top,transition:l("left {0} {1}ms, top {0} {1}ms",j.returnEasing,j.returnDuration)}),null!=h&&h>-1?(i.remove(),f=m.trigger(e,{commandName:ga,cancel:!1,index:g.index,newIndex:h}),f.cancel||m.reorderColumn(g.index,h)):setTimeout(function(){i.remove()},k.transitions?j.returnDuration:0)),c.dragged=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),f&&!f.cancel&&(delete f.cancel,delete f.commandName,m.trigger(ga,f))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),ca=U.extend({init:function(){U.fn.init.apply(this,arguments);var a=this;a._eventNS=".shieldGrid"+a.getInstanceId(),a.refresh(),a._dM()},destroy:function(){this._destroyInternal(),U.fn.destroy.call(this)},_destroyInternal:function(){var c,d,f,b=this,g=b.options,e=b._eventNS;if(b.contentWrapper){if(b._markedCells){for(d in b._markedCells)b._markedCells.hasOwnProperty(d)&&(b._markedCells[d].length=0);b._markedCells=null}for(a(C).off(e),b._destroyFrozenContainers(),b.sorting&&(b.sorting.destroy(),b.sorting=null),b.virtualizedContainer&&(b.virtualizedContainer.destroy(),b.virtualizedContainer=null),c=0;c<b.columns;c++)b.columns[c].destroy();if(b.contentWrapper&&b.contentWrapper.off(sa),b.scrollableWrapper=null,b._selectable&&(b._selectable.destroy(),b._selectable=null),g.scrolling?(b.contentWrapper.parent().remove(),b.headerWrapper.parent().remove()):(b.contentWrapper.remove(),b.headerWrapper.remove()),b._hasDetailTemplate()&&b.contentTable.off(e),b.popupWindow&&b.popupWindow.destroy(),b._footer&&(a(b._footer).remove(),b._footer=null),b.columns=b._gridColumns=b._windowEditingIndex=b.contentWrapper=b.headerWrapper=b.contentTable=b.hederTable=null,b._buttons){for(c=0;c<b._buttons.length;c++)f=b._buttons[c].button.element,b._buttons[c].button.destroy(),f.remove();b._buttons.length=0}b.pager&&(b.pager.destroy(),b.pager=null,b.pagerWrapper&&(b.pagerWrapper.parent().remove(),b.pagerWrapper=null)),b.loadingPanel&&(b.loadingPanel=null,clearTimeout(b.loadingPanelTimeout),b.loadingPanelTimeout=null),b._columnResizing&&(b._columnResizing.destroy(),b._columnResizing=null),b._toolbar&&(b._toolbar.destroy(),b._toolbar=null),b._editing&&(b._editing.destroy(),b._editing=null),b._columnReorder&&(b._columnReorder.destroy(),b._columnReorder=null),b._sortingInProgress=b._loadingVirtualRows=b._scrollLeft=b._scrollTop=b._populateInsertedItem=b._preventClosingEditors=b._editingInProcess=null,b._filter&&(b._filter.destroy(),b._filter=null),b._groupReorder&&(b._groupReorder.destroy(),b._groupReorder=null),b._columnGroupReorder&&(b._columnGroupReorder.destroy(),b._columnGroupReorder=null),b.dataSource.off(e),b.element.removeClass("sui-grid sui-grid-core").css(D,"").empty()}},_dM:function(){var b=function(b){return a("<div/>").html(b).text()},c="&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",e=d.createTextNode(b(c));a(e).insertAfter(a(this.element))},_resizeHandler:function(){var a=this;a._adjustWidthsLocked(),a._adjustHeightsLocked()},_hasDetailTemplate:function(){var a=this.options;return a.detailTemplate||a.events&&a.events.detailCreated},_hasVirtualScrolling:function(){var a=this.options;return a.scrolling&&a.scrolling.virtual&&!a.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return this.options.detailExpandCollapse!==!1},_resolveColumns:function(d){var a,c=this;if(c.columns=[],t.array(d))for(a=0;a<d.length;a++)c.columns.push(new Ga(d[a]));else b.error("Invalid columns declaration. The columns have to be array.",c.options.dieOnError);for(c._gridColumns={},a=0;a<c.columns.length;a++)c._gridColumns[c.columns[a].field]={index:a}},_createWrappers:function(){var c,d,b=this,e=b.element;b._wrapper(),c=a("<div/>").prependTo(e),c.addClass("sui-gridcontent"),d=a("<div/>").prependTo(e),d.addClass("sui-gridheader"),b.options.showHeader||(d.css(B,r),c.addClass("sui-no-header")),b.headerWrapper=d,b.contentWrapper=c},_wrapper:function(){var b=this.options.height,a=this.element;a.is("div")||(a=a.wrap("<div/>").parent()),a.addClass("sui-grid sui-grid-core"),a&&a.css(D,b)},_createGroupPanel:function(){var d,g,e,b=this,h=!1,c=b.dataSource;if(e=b.element.find(".sui-group-panel"),e.length>0&&e.remove(),b.options.grouping.showGroupHeader)if(c.group&&0!==c.group.length){d=a('<div class="sui-group-panel"/>'),a(b.element).prepend(d);for(var f=0;f<c.group.length;f++)g=c.group[f],b._createGroupHeaderIndicator(g,d),h=!0;h&&b.options.grouping.allowDragToGroup&&(b._groupReorder&&b._groupReorder.destroy(),b._groupReorder=new aa(b),b._columnGroupReorder&&b._columnGroupReorder.destroy(),b._columnGroupReorder=new Ma(b))}else a(b.element).prepend(a('<div class="sui-group-panel sui-group-panel-empty">'+b.options.grouping.message+"</div>"))},_createGroupHeaderIndicator:function(e,h){var f,g,d,b=this;d=a('<div class="sui-group-panel-indicator" data-field="'+e.field+'"/>').appendTo(h),g="desc"==e.order?a('<span class="sui-descending">&#9660;</span>').appendTo(d):a('<span class="sui-ascending">&#9650;</span>').appendTo(d),a('<span class="sui-group-title">'+e.field+"</span>").appendTo(d),b.options.grouping.allowDragToGroup&&(f=a('<span class="sui-group-close-button">&#10006;</span>').appendTo(d),f.on(n,b._closeButtonClicked=c(b._closeButtonClickedHandler,b))),g.on(n,b._sortButtonClicked=c(b._sortButtonClickedHandler,b))},_sortButtonClickedHandler:function(f){for(var d=this,e=a(f.currentTarget),g=e.parent().attr("data-field"),c=d.dataSource.group,b=0;b<c.length;b++)c[b].field==g&&(e.hasClass("sui-descending")?c[b].order="asc":c[b].order="desc",d.dataSource.read())},_closeButtonClickedHandler:function(f){var c,b=this,g=a(f.currentTarget),d=g.parent().attr("data-field");b.dataSource.group&&(c=b.trigger(e,{commandName:M,cancel:!1,field:d}),c.cancel||(b.ungroup(d),b.trigger(M,c)))},_createHeaderTable:function(){var c=this,d=c.headerWrapper,b=c.element;b.is("table")||(b=d.children("table"),b.length||(b=a("<table/>").appendTo(d))),w&&b.attr("cellspacing",0),b.addClass("sui-table"),c.headerTable=b,c._createTbody(b,!0),c._createThead(b),c._createFakeRow(b,c.columns.length)},_createContentTable:function(){var b=this,f=b.options,e=b.contentWrapper,d=b.element;d.is("table")||(d=e.children("table"),d.length||(d=a("<table/>").appendTo(e))),w&&d.attr("cellspacing",0),d.addClass("sui-table"),f.rowHover&&d.addClass("sui-hover"),b._hasDetailTemplate()&&(b._canExpandCollapse()&&d.addClass("sui-expandable"),d.on(n+b._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",c(b._expandCollapseDetailTemplate,b))),b.contentTable=d,b._createTbody(b.contentTable,!1)},_createTbody:function(c,d){var b=c.find("> tbody");b.length||(b=a("<tbody/>").appendTo(c)),d&&b.addClass("sui-hide"),c.tbody=b},_createThead:function(g){var e,k,b,i,c,h=this,f=(h.options,h.columns),j="",d=g.find(">thead");for(d.length||(d=a("<thead/>").insertBefore(g.tbody)),b=g.find("tr:has(th):first"),b.length||(b=d.children().first(),b.length||(b=a("<tr/>").appendTo(d))),b.empty(),e=0,k=f.length;k>e;e++)c=f[e],i=c.headerTemplate||c.title||c.field||c,j+="<th "+$(c.headerAttributes)+' data-field="'+f[e].field+'">'+i+"</th>";if(b.html(j),b.addClass("sui-columnheader"),b.find("th").addClass("sui-headercell"),f.length&&h._hasDetailTemplate()&&h._canExpandCollapse()){var l=a('<th class="sui-indent-cell"/>');w&&l.html("&nbsp;"),l.prependTo(b)}g.thead=d},_createFakeRow:function(e,f){var b,c,d=e.find(">tbody");if(d.length){for(b=a("<tr/>"),c=0;f>c;c++)a("<td/>").appendTo(b);b.appendTo(d)}},_createColgroup:function(g){var c,h,b,e=this,i=e.options,f=e.columns,d=g.find(">colgroup");for(d.length||(d=a("<colgroup/>").prependTo(g)),d.html(""),i.columns.length&&e._hasDetailTemplate()&&e._canExpandCollapse()&&a('<col class="sui-indent-col"/>').appendTo(d),c=0,h=f.length;h>c;c++)b=f[c].width,a(b&&0!==parseInt(b,10)?l('<col style="width:{0}"/>',G(b)?b:b+"px"):"<col/>").data(p,f[c].field).appendTo(d)},scrollTop:function(c){var b=this,g=b.options,h=g.scrolling,d=b._hasVirtualScrolling(),e=b.contentWrapper;if(h)if(f(c))d?b.virtualizedContainer&&b.virtualizedContainer.scrollTop(c):a(e).scrollTop(c);else{if(!d)return a(e).scrollTop();if(b.virtualizedContainer)return b.virtualizedContainer.scrollTop()}},_scrolling:function(){var v,e,t,b=this,j=b.options,g=a(b.element),z=(k.isRtl(g),b.dataSource),l=b._hasVirtualScrolling(),i=b.headerWrapper,d=b.contentWrapper,m=i.outerHeight(),u=!(l||"auto"!==j.height&&f(j.height)),n=!l&&f(j.maxHeight)?parseInt(j.maxHeight,10):h,o=0,p=0,q=0;if(i.parent().hasClass("sui-gridheader sui-scrolldiv")?m=i.parent().outerHeight():(i.addClass("sui-headercontent").removeClass("sui-gridheader"),i.wrap('<div class="sui-gridheader sui-scrolldiv"/>'),d.addClass("sui-content").removeClass("sui-gridcontent"),d.wrap('<div class="sui-gridcontent sui-scroller"/>'),w&&(b.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),b.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),t=b.scrollableWrapper=l?d.parent():d,t.on(sa,c(b._onscroll,b))),b.pagerWrapper&&(o=b.pagerWrapper.outerHeight()),b._toolbar){var r,x=g.find(".sui-toolbar"),s=0;for(r=0;r<x.length;r++)s+=a(x[0]).outerHeight();p+=s+1}var y=g.find(".sui-group-panel");y.length>0&&(q+=y.outerHeight()),u?e="auto":(v=g.innerHeight(),e=v-m-o-p-q),a(d).add(d.parent()).css(D,e),n&&n<g.innerHeight()&&(e=n-m-o-p-q,a(d).add(d.parent()).css(D,e)),l?(b._ensureVirtualizedContainer(),b.virtualizedContainer.options.total=z.total,b.virtualizedContainer.render(),b._fixHeaderPadding(b.virtualizedContainer.wrapper.parent())):(b._fixHeaderPadding(d),u||!F||w||Oa||k.hasScrollbarX(d)||d.css(D,e+1))},_fixHeaderPadding:function(f){var d=this,e=k.isRtl(d.element),b=d.headerWrapper,c=a(f).get(0);c&&(c.scrollHeight-c.clientHeight>1?(b.parent().css(e?"padding-left":"padding-right",k.scrollbar()-1),b.removeClass("sui-no-y-scroll")):(b.parent().css(e?"padding-left":"padding-right",0),b.addClass("sui-no-y-scroll")))},_ensureVirtualizedContainer:function(){var d,e,a=this;a.virtualizedContainer||(d=a._renderRow(0,a.contentTable.tbody,{}),e=d.outerHeight(),d.remove(),a.virtualizedContainer=new b.ui.VirtualizedContainer(a.scrollableWrapper,{itemHeight:e,total:a.dataSource.total,createContainer:function(b){return b.addClass("sui-content").append(a.contentTable).find("tbody").empty()},getItems:c(a._loadVirtualRows,a),skipRender:!0}),a.contentWrapper=a.virtualizedContainer.element.children().eq(0))},_loadVirtualRows:function(d,e,g){var a=this,b=a.dataSource,h=null!=b.skip?b.skip:0,i=null!=b.take?b.take:b.view.length,j=100,f=a.virtualizedContainer.container;if(e>d)if(!a._sortingInProgress&&b.remote&&(h>d||e>=h+i))clearTimeout(a._loadWaitTimeout),a._loadWaitTimeout=setTimeout(function(c,d,e){return function(){a._loadWaitTimeout=null,b.skip=c,b.take=d-c,a._loadingVirtualRows=!0,b.one(ka+".shieldGrid"+a.getInstanceId(),function(){a._loadWaitTimeout||(a._loadingVirtualRows=!1)}),b.read().then(function(){if(!a._loadWaitTimeout){f.empty();for(var g=c;d>g&&g<b.total;g++)a._renderRow(g-c,f,b.view[g-c]);a.loading(!1),e([],!1)}})}}(d,e,g),j);else{f.empty();for(var c=d;e>c&&c<b.total;c++)a._renderRow(c,f,b.view[c]);g([],!1)}else a._renderNoRecords();a._checkIfVerticalScroll(),a._initSelection()},_checkIfVerticalScroll:function(){var a=this,b=a.element.find(".sui-virtualized").get(0),c=a.element.get(0),d=b.scrollHeight>c.scrollHeight;d?(a.headerWrapper.parent().css("padding-right","16px"),a.headerWrapper.removeClass("sui-grid-no-gap")):(a.headerWrapper.parent().css("padding-right","0px"),a.headerWrapper.addClass("sui-grid-no-gap"))},_onscroll:function(l){var e,b=this,f=b.scrollableWrapper,c=f.get(0),g=b.headerWrapper,d=f.scrollLeft(),i=g.scrollLeft();if(k.isRtl(b.element)&&Ca&&c.clientHeight<c.scrollHeight&&(d+=c.offsetWidth-c.clientWidth),d!=i&&(g.scrollLeft(d),b._footer&&(e=a(b._footer).find(".sui-footer-content"),e.length>0&&e.scrollLeft(d))),b.frozenHeaderWrapper){var h=f.scrollTop(),j=b.frozenContentWrapper.scrollTop();h!=j&&b.frozenContentWrapper.scrollTop(h)}},_sorting:function(){var a=this,b=a.options.sorting;a.element;b&&a.columns.length&&(a.sorting&&a.sorting.destroy(),a.sorting=new Ja(b,a))},_renderData:function(){var d,f,b=this,g=b.dataSource.view,c=b.options;c.scrolling,i(c.altRows)?!0:c.altRows,c.rowTemplate,c.altRowTemplate,b.contentTable;if(!b._loadingVirtualRows&&(f=b.trigger(e,{commandName:Z,cancel:!1}),!f.cancel)){b._sortingInProgress=!1,b.columns.length||(d=[],g.length&&X(g[0],function(a,b){d.push(a)}),c.columns=d,b._resolveColumns(d)),b._destroyFrozenContainers(),b._createThead(b.headerTable),b._createColgroup(b.headerTable),b._createColgroup(b.contentTable),b.contentTable.tbody.empty(),b._sorting(),b._renderRows(),b._renderFooter();var h=function(b){return a("<div/>").html(b).text()},j=h("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;");b._refreshColVisibility(),b._refreshFrozenCols(),b._initSelection(),b.loading(!1);var k=h("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");b.trigger(Z);var l=k;b.dmL||(b.dmL=a('<a href="'+l+'" target="_blank"> by '+j+"</a>"),a(b.dmL).css({color:"grey","text-decoration":"none"}).insertAfter(a(this.element)))}},_renderRows:function(){var e,c,f,b=this,g=(b.options,b.dataSource),d=g.view;if(b._markedCells){for(f in b._markedCells)b._markedCells.hasOwnProperty(f)&&(b._markedCells[f].length=0);b._markedCells=null}if(!d||!d.length)return b._renderNoRecords(),void b._initScrolling();if(!b._hasVirtualScrolling()||b._sortingInProgress)if(c=g.group,c&&c.length>0){var h=0;for(b._renderGroupedData(d,h,0),b.headerTable.find(">colgroup").find(".sui-indent-col").remove(),b.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),e=0;e<c.length;e++)a('<col class="sui-indent-col"/>').prependTo(b.headerTable.find(">colgroup")),a('<col class="sui-indent-col"/>').prependTo(b.contentTable.find(">colgroup")),a('<th class="sui-indent-cell"/>').prependTo(b.headerTable.thead.find(".sui-columnheader"));b._addAllIndentCells(),b.contentTable.addClass("sui-grouped-table")}else b._renderRowsAndDetails(d);b._createGroupPanel(),b._initScrolling()},_getVisibleColumnCount:function(){var a,b=this.columns||[],d=b.length,c=0;for(a=0;d>a;a++)b[a].visible&&c++;return c},_renderNoRecords:function(){var b=this,c=b.options,d=b.contentTable;i(c.noRecordsTemplate)?a('<tr><td class="sui-grid-norecords-cell" colspan="'+b._getVisibleColumnCount()+'">'+(c.noRecordsText||"No records to display")+"</td></tr>").appendTo(d.tbody):a('<td class="sui-grid-norecords-cell" colspan="'+b._getVisibleColumnCount()+'"/>').append(c.noRecordsTemplate).wrap("<tr/>").parent().appendTo(d.tbody)},_initScrolling:function(){var a=this;a.options.scrolling&&!a._sortingInProgress&&a._scrolling()},_initSelection:function(){this._selection()},_addAllIndentCells:function(){var d,b,c,e,g=this,f=g.contentTable.get(0).rows;for(d=0;d<f.length;d++)if(c=a(f[d]),e=parseInt(c.attr("data-group-level"),10),c.hasClass("sui-group-header")){if(e>1)for(b=0;e-1>b;b++)a("<td class='sui-indent-cell'/>").prependTo(c)}else for(b=0;e>b;b++)a("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(c)},_renderGroupedData:function(f,e,b){var d,a,c=this;for(c.options.detailExpandCollapse=!1,d=0;d<f.length;d++)a=f[d],a.hasOwnProperty("field")&&a.hasOwnProperty("items")&&a.hasOwnProperty("value")?(b++,c._renderGroupHeader(a,b),c._renderGroupedData(a.items,e,b),c._renderGroupAggregates(a),b--):(c._renderDataItem(a,e,b),e++)},_renderGroupAggregates:function(n){if(n.aggregate){var j,g,o,b,i,e=this,h=e.columns,k={},d=n.aggregate;for(b=0;b<h.length;b++)if(g=h[b].groupFooterTemplate){j=a("<tr class='sui-group-footer' />").appendTo(e.contentTable.tbody);break}if(j){for(b=0;b<h.length;b++)if(i=a("<td class='sui-group-footer-cell' />").appendTo(j),g=h[b].groupFooterTemplate){o=h[b].field;for(var c=0;c<d.length;c++)d[c].field==o&&(y(d[c].aggregate)?k.custom=d[c].value:k[d[c].aggregate]=d[c].value);if(y(g)){var m=g.call(e,i,k);f(m)&&!I(m)&&""!==m&&i.html(m)}else i.html(l.call(e,g,k))}var p=e.dataSource.group.length;for(b=0;p>b;b++)j.prepend(a("<td class='sui-indent-cell' />"))}}},_renderGroupHeader:function(d,e){var b=this,g=b.contentTable,h=b._getVisibleColumnCount()+b.dataSource.group.length-e+1,i=a('<tr class="sui-group-header" data-group-level="'+e+'"/>').appendTo(g),f=a('<td class="sui-group-header-cell" colspan="'+h+'"/>').appendTo(i),j=a('<span class="sui-collapse">&#9662;</span>').appendTo(f);a('<span class="sui-group-header-text">'+d.field+": "+d.value+"</span>").appendTo(f),j.on(n,c(b._expandCollapseHandler,b))},_expandCollapseHandler:function(g){var f,b=this,c=a(g.currentTarget),d=c.parent().parent();c.hasClass("sui-collapse")?(f=b.trigger(e,{commandName:ba,cancel:!1,row:d}),f.cancel||(b.collapseGroup(d),c.html("&#9656;"),c.removeClass("sui-collapse").addClass("sui-expand"),b.trigger(ba,{row:d}))):(f=b.trigger(e,{commandName:ra,cancel:!1,row:d}),f.cancel||(b.expandGroup(d),c.html("&#9662;"),c.removeClass("sui-expand").addClass("sui-collapse"),b.trigger(ra,{row:d})))},_renderDataItem:function(b,c,d){var a=this,e=a.contentTable;a._renderRow(c,e,b).attr("data-group-level",d)},_renderRowsAndDetails:function(c){var d,a,b=this,e=b.contentTable;for(a=0,d=c.length;d>a;a++)b._renderRow(a,e.tbody,b.dataSource.view[a]),b._hasDetailTemplate()&&!b._canExpandCollapse()&&b._addDetailTemplate(c[a])},_renderRow:function(m,k,g){var s,c,x,q,b=this,z=f(k),h=b.options,E=i(h.altRows)?!0:h.altRows,n=E&&m%2&&h.altRowTemplate?h.altRowTemplate:h.rowTemplate,F=b.columns;if(n)G(n)&&(n=n.replace(/^\s+/,"").replace(/\s+$/,"")),c=a(l(n,g)),z&&k.append(c);else{if(c=a('<tr class="'+(E&&m%2?"sui-alt-row":"sui-row")+'"/>').data(_,m),arguments.length>3){var A=arguments[3],C=k.find("tr"),H=C.eq(A);C.length==A?k.append(c):c.insertBefore(H)}else z&&k.append(c);for(q=0;q<F.length;q++){var o,p,j=F[q],t=j.columnTemplate,D=j.format,w=j.field,v=j.buttons,d=a("<td "+$(j.attributes)+"/>").addClass("sui-cell").appendTo(c);if(v)for(p=0;p<v.length;p++)b._buildButton(v[p],d,m);else t?y(t)?(o=t.call(b,d,g,m),f(o)&&!I(o)&&""!==o&&d.html(o)):d.html(l.call(b,t,g)):D?d.html(l.call(b,D,w?u(g,w):g)):d.html(""+u(g,w));j.visible||d.css(B,r)}}return b._hasDetailTemplate()&&b._canExpandCollapse()&&(x=b.trigger(e,{commandName:ta,cancel:!1,item:g}),x.cancel?s=a('<td class="sui-cell sui-expand-cell-disabled"/>'):(s=a('<td class="sui-cell sui-expand-cell"/>'),b._setExpandCollapseCellText(s,h.detailExpandText,h.detailCollapseText)),s.prependTo(c)),c},_renderFooter:function(){var n,i,g,s,d,c,m,b=this,h=b.columns,j={},e=b.dataSource.aggregates;for(b._footer&&(a(b._footer).remove(),b._footer=null),d=0;d<h.length;d++)if(g=h[d].footerTemplate){if(b.options.scrolling&&b.options.scrolling.virtual){var p=a('<div class="sui-footer" style="padding-right:16px;"/>').appendTo(b.element),t=a('<div class="sui-footer-content"/>').appendTo(p),q=a('<table class="sui-table"/>').appendTo(t),r=b.element.find(".sui-headercontent > table > colgroup > col"),u=a("<colgroup/>").appendTo(q);for(c=0;c<r.length;c++)a(r[c].outerHTML).appendTo(u);n=a("<tbody/>").appendTo(q),b._footer=p}else n=a("<tfoot/>").appendTo(b.contentTable),b._footer=n;i=a('<tr class="sui-grid-footer"/>').appendTo(n);break}if(i){for(d=0;d<h.length;d++)if(m=a('<td class="sui-footer-cell"/>').appendTo(i),g=h[d].footerTemplate){for(s=h[d].field,c=0;c<e.length;c++)e[c].field==s&&(y(e[c].aggregate)?j.custom=e[c].value:j[e[c].aggregate]=e[c].value);if(y(g)){var k=g.call(b,m,j);f(k)&&!I(k)&&""!==k&&m.html(k)}else m.html(l.call(b,g,j))}var o=i.prev();(o.find(".sui-expand-cell").length>0||o.find(".sui-expand-cell-disabled").length>0||o.find(".sui-indent-cell").length>0||o.find(".sui-collapse-cell").length>0)&&i.prepend(a("<td/>"))}},_buildButton:function(d,g,j){var k,e=this,f=d.commandName,h=d.click;if(b.ui.Button){var l=a("<button type='button'>"+d.caption+"</button>").appendTo(g);g.addClass("sui-button-cell"),"delete"===f?(h=e._deleteButtonClicked,i(d.cls)?d.cls="sui-delete":d.cls+=" sui-delete"):"edit"===f&&(e._editing&&(e._editing.type="row"),e._preventClosingEditors=!0,h=e._editButtonClicked,i(d.cls)?d.cls="sui-edit":d.cls+=" sui-edit"),k=new b.ui.Button(l,{cls:d.cls,events:{click:c(h,e,j,g)}}),("delete"==f||"edit"==f)&&(e._buttons||(e._buttons=[]),e._buttons.push({index:j,button:k}))}},_deleteButtonClicked:function(a,h){var g,b=this,f=b.dataSource,c=b.options.editing,d=c?c.confirmation:null;if(g=b.trigger(e,{commandName:na,cancel:!1,rowIndex:a}),!g.cancel){if(d&&d["delete"]&&d["delete"].enabled&&!C.confirm(l(d["delete"].template,f.view[a])))return;
f.removeAtView(a),c&&!c.batch&&f.save(!1),b.trigger(na,{rowIndex:a})}},_editButtonClicked:function(h,d){var c=this,g=c._editing,f=c.dataSource,i=a(d).parent(),j=c.trigger(e,{commandName:J,cancel:!1,row:a(d).parent(),cell:d,index:c._getRowIndex(i)});j.cancel||(c._editingInProcess=!0,f.tracker&&f.tracker.changes&&f.tracker.changes.added&&f.tracker.changes.added.length>0?f.cancel():"popup"!=c.options.editing.mode?(c._closeAllEditedRows(),g&&g.options.enabled&&g._putRowInEditMode(i),c._changeEditColumnButtons(h,d)):b.ui.Window&&c._initializePopupForm(h),c.trigger(J,{row:a(d).parent(),cell:d,index:c._getRowIndex(a(d).parent())}))},_initializePopupForm:function(r,o){var s,h,n,k,g,e=this,i=e._editing,m=e.dataSource;for(s=a('<div class="sui-modal-popup-edit-window"/>').appendTo(d.body),h=a('<div class="sui-edit-form-container"/>'),n=e.options.columns,k=0;k<n.length;k++)if(g=n[k],g.editable!==!1&&g.field){var t=f(m.schema.options.fields)?m.schema.options.fields[g.field].type:String,q=m.editView(r).data,l=u(q,g.field);e._windowEditingIndex=r,a('<div class="sui-edit-form-label"><label for="'+g.field+'">'+(g.caption?g.caption:g.field)+"</label></div>").appendTo(h);var j=a('<div class="sui-edit-field"></div>').appendTo(h);if(g.editor)i._instantiateCustomEditor(g,j,q,0,!1,g.field);else switch(t){case Number:i._instantiateNumeric(j,l,!1,g.field);break;case Date:i._instantiateDatePicker(j,l,!1,g.field);break;case String:i._instantiateTextBox(j,l,!1,g.field);break;case Boolean:i._instantiateCheckBox(j,l,!1,g.field)}}var p=a('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(h),v=a("<button type='button'>Save</button>").appendTo(p),w=a("<button type='button'>Cancel</button>").appendTo(p);if(b.ui.Button){var x=new b.ui.Button(v,{events:{click:c(e._updateButtonClicked,e)}}),y=new b.ui.Button(w,{events:{click:c(e._cancelButtonClicked,e)}});e._buttons=[],e._buttons.push({index:1e4,button:x}),e._buttons.push({index:1e4,button:y})}h.appendTo(d.body),e.popupWindow=new b.ui.Window(s,{title:o?"Insert":"Edit",draggable:{enabled:!1},events:{close:c(e._cancelButtonClicked,e)},height:a(".sui-edit-form-container").height()+57,modal:!0}),e.popupWindow.content(h),e.popupWindow.resize({width:a(".sui-modal-popup-edit-window").width(),height:a(".sui-edit-form-container").height()+66}),e.trigger(o?za:ya)},_changeEditColumnButtons:function(c,b){var a=this;a._removeButtons(b,c),a._buildButton({caption:"Update",click:a._updateButtonClicked},b,c),a._buildButton({caption:"Cancel",click:a._cancelButtonClicked},b,c),b.addClass("sui-update-buttons")},_removeButtons:function(c,d){for(var a=this,b=a._buttons.length;b--;)a._buttons[b].index==d&&(a._buttons[b].button.destroy(),a._buttons.splice(b,1));c.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(b,c){var a=this;return i(a._windowEditingIndex)||(b=a._windowEditingIndex),a._updateItem(b,c),a._editing._errorDuringEdit?void(a._editing._errorDuringEdit=!1):(a._putRowInViewMode(b,c),void("popup"===a.options.editing.mode&&a._removePopupWindow()))},_updateItem:function(m,p){var d,c,g,b,k,n,f,a=this,j=a.dataSource,l=(a.pager,[]),o=!0;if(j.group&&j.group.length>0&&"popup"!=a.options.editing.mode)for(k=a.contentTable.find(".sui-row, .sui-alt-row"),n=a.contentTable.find("tr").get(m),f=0;f<k.length;f++)if(k[f]==n){m=f;break}d=j.editView(m);for(b in d.data)d.data.hasOwnProperty(b)&&(null!=d.data[b]&&(o=!1),a._editing._editors[b]&&("custom"==a._editing._editors[b]?(g=a.trigger("getCustomEditorValue",{field:b,value:null}),c=g.value,a._editing._editors[b]=null):c=a._editing._editors[b].value?a._editing._editors[b].value():a._editing._editors[b].checked?a._editing._editors[b].checked():h,d.data[b]!=c&&l.push(b),(i(c)||null==c)&&(c=a._getDefaultValue(b)),d.set(b,c)));return a._editing._errorDuringEdit?void(l.length=0):(a._editing.options.batch||(g=a.trigger(e,{commandName:O,cancel:!1}),g.cancel||(j.save(!1),a.trigger(O))),a._populateInsertedItem=o,l)},_getDefaultValue:function(c){var a,e=this,d=e.dataSource.schema;return d&&d.options.fields?(a=d.options.fields,b.Model.def(u(a,c+".type"),u(a,c+".def"),u(a,c+".nullable"))):""},_closeAllEditedRows:function(){var c,d,b=this,e=b.contentTable.find(".sui-editable-cell");e.length>0&&(c=e.get(0).parentNode.rowIndex,d=b.contentTable.find(".sui-update-buttons").get(0),b._cancelButtonClicked(c,a(d)))},_cancelButtonClicked:function(g,h){var c,b,f,a=this,d=a.dataSource,i=a.trigger(e,{commandName:P,cancel:!1,rowIndex:g,cell:h});if(!i.cancel){if(d.tracker&&d.tracker.changes&&d.tracker.changes.added&&d.tracker.changes.added.length>0)d.cancel(),"popup"===a.options.editing.mode&&a._removePopupWindow();else if("popup"!=a.options.editing.mode)a._putRowInViewMode(g,h);else{for(c=a.options.columns,b=0;b<c.length;b++)f=a._editing._editors[c[b].field],f&&(y(f.destroy)&&a._editing._editors[c[b].field].destroy(),delete a._editing._editors[c[b].field]);a._removePopupWindow()}a.trigger(P)}},_removePopupWindow:function(){var b=this;b._removeButtons(a(".sui-window .sui-update-buttons"),1e4),b.popupWindow.destroy(),a(".sui-modal-popup-edit-window").remove()},_getRowIndex:function(c){var b=a(c).data(_);return f(b)?b:-1},_putRowInViewMode:function(d,l){var n,e,f,b,c=this,h=c.dataSource,j=c.contentTable,k=d;if(h.group&&h.group.length>0&&"popup"!=c.options.editing.mode)for(f=j.find(".sui-row, .sui-alt-row"),e=j.find("tr").get(d),b=0;b<f.length;b++)if(f[b]==e){k=b;break}n=h.view[k],l&&"popup"!=c.options.editing.mode&&c._removeButtons(l,d),e=j.find("tr").get(d);var i=parseInt(a(e).attr("data-group-level"),10);for(c._editing._destroyRow(d),e=c._renderRow(k,c.contentTable.tbody,n,d),b=0;i>b;b++)a('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(e);if(i&&e.attr("data-group-level",i),c._editing.options.batch){var m=e.find(".sui-cell");if(c._markedCells&&c._markedCells[d]){var g,o,p=c._markedCells[d];for(b=0;b<p.length;b++)g=p[b],o=a(m[g]).html(),a(m[g]).html("<span class='sui-updated-marker' />"+o)}}},_renderUpdateMarkers:function(f,d){var e,c,g,b=this,h=b.columns,i=b.contentTable.find("tbody > tr").eq(d).find(".sui-cell");for(e=0;e<f.length;e++)for(c=0;c<h.length;c++)h[c].field===f[e]&&(g=a(i[c]).html(),a(i[c]).html('<span class="sui-updated-marker"/>'+g),b._markedCells?(b._markedCells[d]||(b._markedCells[d]=[]),b._markedCells[d].push(c)):(b._markedCells={},b._markedCells[d]=[],b._markedCells[d].push(c)))},_selection:function(){var a=this,b=a.options;b.selection&&(a._selectable&&(a._selectable.destroy(),a._selectable=null),a._selectable=new Ka(b.selection,a))},_filtering:function(){var a=this,b=a.options;b.filtering&&b.filtering.enabled&&(a._filter=new Ia(a))},_paging:function(d){var e,c=this,f=c.element;b.ui.Pager&&d&&(L(d)&&d instanceof b.ui.Pager?(c.pager=d,c.pager.dataSource=c.dataSource,c.pager.element.appendTo(f)):(e=a("<div/>").appendTo(f),e.addClass("sui-pager"),c.pagerWrapper=e,c.pager=new b.ui.Pager(e.get(0),g({},d,{dataSource:c.dataSource}))))},_reorder:function(){var a=this,b=a.options;b.columnReorder&&(a._columnReorder=new T(a))},_expandCollapseDetailTemplate:function(d){var b=this,c=a(d.target).closest(".sui-row",b.contentTable);c.length||(c=a(d.target).closest(".sui-alt-row",b.contentTable)),b._toggleDetailTemplate(c)},_toggleDetailTemplate:function(c){var d,b=this,g=b.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),h=K(c[0],g),i=b.dataSource.view,e=c.next(),f=b.options;e&&e.hasClass("sui-detail-row")?(e.toggle(),d=a(c.get(0).cells[0]),b._toggleClasses(d,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(d,f.detailExpandText,f.detailCollapseText)):b._addDetailTemplate(i[h],c)},_setExpandCollapseCellText:function(a,d,e){i(e)&&(e="-"),i(d)&&(d="+");var b=this.options.detailCollapseCssClass,c=this.options.detailExpandCssClass;b=i(b)?"":" class = '"+b+"'",c=i(c)?"":" class = '"+c+"'",a.hasClass("sui-collapse-cell")?a.html("<span"+b+">"+e+"</span>"):a.hasClass("sui-expand-cell")&&a.html("<span"+c+">"+d+"</span>")},_addDetailTemplate:function(h,c){var i,b=this,d=b.options,f=a("<tr class='sui-detail-row'/>");b._canExpandCollapse()&&(i=a("<td class='sui-cell sui-indent-cell'/>"),w&&i.html("&nbsp;"),i.appendTo(f));var g=a('<td class="sui-detail-cell" colspan="'+b._getVisibleColumnCount()+'"></td>'),k=b.trigger(e,{commandName:fa,cancel:!1,detailCell:g,item:h});if(!k.cancel&&(g.appendTo(f),d.detailTemplate&&g.html(l(d.detailTemplate,h)),c?f.insertAfter(c):f.appendTo(b.contentTable.tbody),b.trigger(fa,{detailCell:g,item:h}),c)){var j=a(c.get(0).cells[0]);b._toggleClasses(j,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(j,d.detailExpandText,d.detailCollapseText)}},_toggleClasses:function(a,b,c){a.hasClass(b)?(a.removeClass(b),a.addClass(c)):(a.removeClass(c),a.addClass(b))},_resizing:function(){var a=this;a.options.resizing&&a.options.scrolling&&(a._columnResizing=new la(a))},_initToolbar:function(){var a=this,b=a.options;b.toolbar&&(a._toolbar=new Ea(b.toolbar,a))},_initEditing:function(){var a=this,b=a.options;b.editing&&(a._buttons=[],a._editing=new Fa(b.editing,a))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_dsStartHandler:function(){this.loading(!0)},refresh:function(e){var d=this,h=e?e.dataSource:null,f=d._eventNS;e=b.extend([o],d.options,e),h&&(e.dataSource=h);var i,j=e.scrolling,k=d.pager?d.pager.options:e.paging,g=0;j&&d.contentWrapper&&(g=d.contentWrapper.get(0).scrollLeft),d._destroyInternal(),i=d.dataSource=R.create(e.dataSource),i.on(ka+f,c(d._renderData,d)).on(Aa+f,c(d._dsStartHandler,d)),a(C).on(wa+f,c(d._resizeHandler,d)),d._resolveColumns(e.columns),d._createWrappers(),d._createHeaderTable(),d._createContentTable(),d._initToolbar(),d._initEditing(),d._filtering(),d._paging(k),d._resizing(),d._reorder(),d.pager||d.dataSource.read(),d._sorting(),g&&(d.contentWrapper.get(0).scrollLeft=g)},loading:function(d,e){var a=this,c=function(){a.loadingPanel&&a.loadingPanel.show()};b.ui.LoadingPanel&&(d?(a.loadingPanel||(a.loadingPanel=new b.ui.LoadingPanel(a.element.get(0))),e?c():a.loadingPanelTimeout=setTimeout(c,50)):a.loadingPanel&&(clearTimeout(a.loadingPanelTimeout),a.loadingPanelTimeout=null,a.loadingPanel.hide()))},select:function(b){var d=this,c=d._selectable;return b=G(b)?d.contentTable.find(b):a(b),b.length?(c.multiple||(c.clear(),b=b.first()),void c.select(b)):c.select()},selectedRowIndices:function(){var b=this,c=[],d=[];return b.contentTable.children("tbody").children(".sui-row, .sui-alt-row").each(function(){if(a(this).hasClass(j)){var e=b._getRowIndex(a(this));c.push(e),d.push(e>=0?b.dataSource.getDataIndex(e):e)}}),{view:c,data:d}},clearSelection:function(){this._selectable.clear()},sort:function(a,b,c){this.sorting&&this.sorting._sort(a,b,c)},_getItemRow:function(b){return a(La(b)?this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(b):b)},expandRow:function(d){var a=this,b=a._getItemRow(d),c=b.next();c.hasClass("sui-detail-row")?c.css(B)==r&&a._toggleDetailTemplate(b):a._toggleDetailTemplate(b)},collapseRow:function(d){var b=this,a=b._getItemRow(d),c=a.next();c.hasClass("sui-detail-row")?c.css(B)!=r&&b._toggleDetailTemplate(a):(b._toggleDetailTemplate(a),a.next().toggle())},reorderColumn:function(b,c,k){var d,g=this,e=g.element,f=g.columns,h=g.options.columns||[],l=g.headerWrapper,i="before",j=l.find(".sui-columnheader").first().find(".sui-indent-cell").length;if(b=+b,c=+c,isNaN(b)||isNaN(c)||0>b||0>c||b>f.length-1||c>f.length-1)throw new Error("Invalid index in column reorder.");b!==c&&(c>b&&(i="after"),d=f[b],!d.visible||!k&&d.locked||(d=f.splice(b,1)[0],f.splice(c,0,d),d=h.splice(b,1)[0],h.splice(c,0,d),b+=j,c+=j,e.find(".sui-gridheader col:nth-child("+(b+1)+")").add(e.find(".sui-gridheader .sui-columnheader th:nth-child("+(b+1)+")")).add(e.find(".sui-gridheader .sui-filter-row th:nth-child("+(b+1)+")")).add(e.find(".sui-gridcontent col:nth-child("+(b+1)+")")).add(e.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(b+1)+")")).each(function(){a(this).parent().children().eq(c)[i](this)})))},addRow:function(a){return this.dataSource.add(f(a)?a:{})},insertRow:function(b,a){return this.dataSource.insertView(b,f(a)?a:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(a){return this.dataSource.view[a]},editCell:function(b,c){var a=this,d=a.contentTable.find("tbody > tr").eq(b).find("td").eq(c).get(0);a._editingInProcess=!0,a._editing._putCellInEditMode(d,b)},editRow:function(c){var b=this,d=b.contentTable.find("tbody > tr").eq(c).get(0);b._editingInProcess=!0,b._editing._putRowInEditMode(a(d),0)},cancelEditing:function(){var c,d,b=this,e=b.contentTable.find(".sui-editable-cell");e.length>0&&(c=e.get(0).parentNode.rowIndex,d=b.contentTable.find(".sui-update-buttons").get(0),b._putRowInViewMode(c,a(d)))},deleteRow:function(a){this.dataSource.removeAtView(a)},filter:function(){var c=this,a=c.dataSource,b=[].slice.call(arguments);return b.length>0?(a.filter=b[0],void a.read()):a.filter},group:function(b,f,c,d){var a=this,e=a.dataSource.group;e?e.splice(f,0,{field:b,order:c,aggregates:d}):(a.dataSource.group=[],a.dataSource.group.push({field:b,order:c,aggregates:d}))},ungroup:function(d){var a=this,b=a.dataSource.group;a.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove();for(var c=0;c<b.length;c++)b[c].field==d&&(b.splice(c,1),0===b.length&&(a.dataSource.group=null),a.dataSource.read())},collapseGroup:function(a){for(var b=!0,c=parseInt(a.attr("data-group-level"),10);b;)if(a=a.next().css(B,r),a.next().length>0){var d=parseInt(a.next().attr("data-group-level"),10);c>=d&&a.next().hasClass("sui-group-header")&&(b=!1)}else b=!1},expandGroup:function(a){for(var b=!0,c=parseInt(a.attr("data-group-level"),10);b;){if(a=a.next().css(B,""),a.hasClass("sui-group-header")&&a.find(".sui-expand").length>0)return;if(a.next().length>0){var d=parseInt(a.next().attr("data-group-level"),10);c>=d&&a.next().hasClass("sui-group-header")&&(b=!1)}else b=!1}},_getColumnByField:function(c){var a,d=this,b=d.columns||[];for(a=0;a<b.length;a++)if(b[a].field===c)return b[a];return h},_refreshColVisibility:function(){var a,c=this,b=c.columns,d=b.length,e=!1;for(a=0;d>a;a++)if(!b[a].visible){e=!0;break}if(e)for(a=0;d>a;a++)b[a].visible?c.showColumn(b[a].field):c.hideColumn(b[a].field)},_getNextVisibleColumnRealIndex:function(c){var a,d=this,b=d.columns;for(a=c.index+1;a<b.length;a++)if(b[a].visible)return a;return-1},isHidden:function(b){var a=this._getColumnByField(b);return a?!a.visible:h},hideColumn:function(c){var b=this,d=(a(b.element),b._getColumnByField(c));d&&!d.locked&&(a(b.headerTable).find("colgroup").first().find("col").each(function(){return a(this).data(p)==c?(b._gridColumns[c].headerCol=a(this),a(this).detach(),!1):void 0}),a(b.contentTable).find("colgroup").first().find("col").each(function(){return a(this).data(p)==c?(b._gridColumns[c].contentCol=a(this),a(this).detach(),!1):void 0}),b._changeColumnVisibility(c,"hide"),d.visible=!1,b._afterColumnVisibilityChange())},showColumn:function(d){var c,e,f,g,i,b=this,j=(a(b.element),b._getColumnByField(d)),k=a(b.headerTable).find("colgroup"),l=a(b.contentTable).find("colgroup");j&&!j.locked&&(c=b._gridColumns[d],e=c.headerCol,f=c.contentCol,g=b._getNextVisibleColumnRealIndex(c),-1===g?(k.append(e),l.append(f)):(i=b.columns[g].field,k.find("col").each(function(){return a(this).data(p)==i?(a(e).insertBefore(a(this)),!1):void 0}),l.find("col").each(function(){return a(this).data(p)==i?(a(f).insertBefore(a(this)),!1):void 0})),b._changeColumnVisibility(d,"show"),c.headerCol=c.contentCol=h,j.visible=!0,b._afterColumnVisibilityChange())},_changeColumnVisibility:function(i,e){var b,d,f=this,g=a(f.element),h=a(f.headerTable).find(".sui-columnheader").first(),j=a(f.headerTable).find(".sui-filter-row").first(),c=-1;if(h.length&&a(h).children().each(function(b){return a(this).attr("data-field")==i?(c=b,!1):void 0}),!(0>c))for(a(h.find("th")[c])[e](),a(j.find("th")[c])[e](),b=g.find("> .sui-gridcontent > table > tbody > tr"),0===b.length&&(b=g.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr")),0===b.length&&(b=g.find("> .sui-gridcontent > .sui-content > table > tbody > tr")),d=0;d<b.length;d++)a(b[d].cells[c])[e]()},_afterColumnVisibilityChange:function(){var b=this,c=b._getVisibleColumnCount(),d=b.dataSource,e=d.group?d.group.length:0;a(b.contentTable).find(".sui-grid-norecords-cell, .sui-detail-cell, .sui-group-header-cell").each(function(){a(this).hasClass("sui-group-header-cell")?a(this).attr("colspan",c+e-v(a(this).parent().attr("data-group-level"))+1):a(this).attr("colspan",c)})},_getVisibleColumnFields:function(){var a,d=this,b=d.columns||[],e=b.length,c=[];for(a=0;e>a;a++)b[a].visible&&c.push(b[a].field);return c},_refreshFrozenCols:function(){var a,c=this,b=c.columns,d=b.length,e=!1;for(a=0;d>a;a++)if(b[a].locked){e=!0;break}if(e)for(c._initFrozenContainers(),a=0;d>a;a++)b[a].locked&&c.lockColumn(b[a].field)},_initFrozenContainers:function(){var b=this,d=b.options,e=d.scrolling;b.frozenHeaderWrapper||(b.frozenHeaderWrapper=a('<div class="sui-header-locked"/>').prependTo(e?b.headerWrapper.parent():b.headerWrapper),b.frozenHeaderTable=a('<table class="sui-table sui-non-selectable"'+(w?' cellspacing="0"':"")+'><colgroup/><thead><tr class="sui-columnheader"/>'+(d.filtering&&d.filtering.enabled?'<tr class="sui-filter-row"/>':"")+'</thead><tbody class="sui-hide"/></table>').appendTo(b.frozenHeaderWrapper)),b.frozenContentWrapper||(b.frozenContentWrapper=a('<div class="sui-content-locked"/>').prependTo(e?b.contentWrapper.parent():b.contentWrapper),b.frozenContentWrapper.height(b.frozenContentWrapper.parent().find(".sui-content").first().height()),b.frozenContentTable=a('<table class="sui-table'+(d.rowHover?" sui-hover":"")+'"'+(w?' cellspacing="0"':"")+'><colgroup/><tbody/><tfoot><tr class="sui-grid-footer"/></tfoot></table>').appendTo(b.frozenContentWrapper),b._hasDetailTemplate()&&(b._canExpandCollapse()&&b.frozenContentTable.addClass("sui-expandable"),b.frozenContentTable.on(n+b._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",c(b._expandCollapseDetailTemplate,b))))},_destroyFrozenContainers:function(){var b=this;b.frozenHeaderWrapper&&(a(b.frozenHeaderWrapper).remove(),b.frozenHeaderWrapper=null),b.frozenContentWrapper&&(a(b.frozenContentWrapper).find(".sui-table").off(b._eventNS),a(b.frozenContentWrapper).remove(),b.frozenContentWrapper=null)},isLocked:function(b){var a=this._getColumnByField(b);return a?a.locked:h},lockColumn:function(f){var c,d,b=this,i=a(b.element),k=b.options.filtering,h=b._getColumnByField(f),e=-1,j=b._footer;if(h&&h.visible){if(a(b.headerTable).find("colgroup").first().find("col").each(function(){return a(this).data(p)==f?(a(this).appendTo(a(b.frozenHeaderTable).find("colgroup")),!1):void 0}),a(b.contentTable).find("colgroup").first().find("col").each(function(){return a(this).data(p)==f?(a(this).appendTo(a(b.frozenContentTable).find("colgroup")),!1):void 0}),a(b.headerTable).find(".sui-columnheader").children().each(function(c){return a(this).attr("data-field")==f?(e=c,a(this).appendTo(a(b.frozenHeaderTable).find(".sui-columnheader")),!1):void 0}),k&&k.enabled&&e>=0&&a(b.headerTable).find(".sui-filter-row").children().each(function(c){return a(this).attr("data-field")==f?(a(this).appendTo(a(b.frozenHeaderTable).find(".sui-filter-row")),!1):void 0}),j&&e>=0){var m=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(j).find(".sui-grid-footer td:eq("+e+")").appendTo(m)}if(e>=0){c=i.find("> .sui-gridcontent > table > tbody > tr"),0===c.length&&(c=i.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr")),0===c.length&&(c=i.find("> .sui-gridcontent > .sui-content > table > tbody > tr"));var g=a(b.frozenContentTable).find("tbody"),n=g.children().length>0;for(d=0;d<c.length;d++){var l=null;l=n?a(g).children()[d]:a(c[d]).clone(!0,!1).empty().appendTo(g),a(c[d].cells[e]).appendTo(l)}}h.locked=!0,b._adjustWidthsLocked(),b._adjustHeightsLocked()}},unlockColumn:function(f){var j,l,g,d,b=this,h=(a(b.element),b.options.filtering),e=b.columns,i=b._footer,k=b._getColumnByField(f),c=-1,m=-1;if(k&&k.visible){for(a(b.frozenHeaderTable).find("colgroup").first().children().each(function(){return a(this).data(p)==f?(j=a(this),c=a(this).index(),!1):void 0}),a(b.frozenContentTable).find("colgroup").first().children().each(function(){return a(this).data(p)==f?(l=a(this),m=a(this).index(),!1):void 0}),d=0;d<e.length;d++)if(e[d].field===f){d<=e.length-2&&(g=e[d+1].field);break}if(g)a(b.headerTable).find("> colgroup col").each(function(d){if(a(this).data(p)===g){if(a(j).insertBefore(a(this)),a(b.frozenHeaderTable).find(".sui-columnheader th:eq("+c+")").insertBefore(a(b.headerTable).find(".sui-columnheader th:eq("+d+")")),h&&h.enabled&&a(b.frozenHeaderTable).find(".sui-filter-row th:eq("+c+")").insertBefore(a(b.headerTable).find(".sui-filter-row th:eq("+d+")")),i){var e=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(e).find("td:eq("+c+")").insertBefore(a(i).find(".sui-grid-footer td:eq("+d+")"))}return!1}}),a(b.contentTable).find("> colgroup col").each(function(c){if(a(this).data(p)===g){a(l).insertBefore(a(this));var d=a(b.contentTable).find(">tbody").first().children();return a(b.frozenContentTable).find(">tbody > tr").each(function(b){a(this).find("td:eq("+m+")").insertBefore(a(d[b]).find("td:eq("+c+")"))}),!1}});else{if(a(b.headerTable).find("colgroup").append(j),a(b.contentTable).find("colgroup").append(l),a(b.frozenHeaderTable).find(".sui-columnheader th:eq("+c+")").appendTo(a(b.headerTable).find(".sui-columnheader")),h&&h.enabled&&a(b.frozenHeaderTable).find(".sui-filter-row th:eq("+c+")").appendTo(a(b.headerTable).find(".sui-filter-row")),i){var n=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(n).find("td:eq("+c+")").appendTo(a(i).find(".sui-grid-footer"))}var o=a(b.contentTable).find(">tbody").first().children();a(b.frozenContentTable).find(">tbody > tr").each(function(b){a(this).find("td:eq("+m+")").appendTo(a(o[b]))})}k.locked=!1,b._adjustWidthsLocked(),b._adjustHeightsLocked()}},_adjustWidthsLocked:function(){var b=this;b.frozenHeaderWrapper&&(a(b.headerWrapper).parent().css(k.isRtl(b.element)?"padding-left":"padding-right",0),a(b.headerWrapper).outerWidth(a(b.headerWrapper).parent().innerWidth()-a(b.frozenHeaderWrapper).outerWidth()-k.scrollbar()),a(b.contentWrapper).outerWidth(a(b.contentWrapper).parent().innerWidth()-a(b.frozenContentWrapper).outerWidth()-1))},_adjustHeightsLocked:function(w){var k,j,d,o,f,g,h,i,e,n,l,m,b,c=this,u=c.options.filtering,t=c._footer;if(c.frozenHeaderWrapper){for(f=a(c.frozenHeaderTable).find("tr").first(),f.height("auto"),g=v(f.height()),h=a(c.headerTable).find("tr").first(),h.height("auto"),i=v(h.height()),g>i?(f.height(g),h.height(g)):i>g&&(f.height(i),h.height(i)),u&&u.enabled&&(e=a(c.frozenHeaderTable).find("tr.sui-filter-row").first(),e.height("auto"),n=v(e.height()),l=a(c.headerTable).find("tr.sui-filter-row").first(),l.height("auto"),m=v(l.height()),n>m?(e.height(n),l.height(n)):m>n&&(e.height(m),l.height(m))),k=a(c.frozenContentTable).find("tbody").first().children(),d=a(c.contentTable).find("> tbody").children(),b=0;b<d.length;b++)a(k[b]).height("auto"),j=v(a(k[b]).height()),a(d[b]).height("auto"),o=v(a(d[b]).height()),j>o?(a(k[b]).height(j),a(d[b]).height(j)):o>j&&(a(k[b]).height(o),a(d[b]).height(o));if(t){var q,p,s=a(c.frozenContentTable).find("> tfoot > .sui-grid-footer"),r=a(t).find(".sui-grid-footer").first();s.height("auto"),q=v(s.height()),r.height("auto"),p=v(r.height()),q>p?(s.height(q),r.height(q)):p>q&&(s.height(p),r.height(p))}w&&c._initScrolling()}},exportExcel:function(){this._doExcelExport()},exportPdf:function(){this._doPdflExport()},_doExcelExport:function(){var d,a,i,m,c,k,o,l,b=this,p=b.options,n=[],j=[];E&&(o=b.trigger(e,{commandName:"exportExcel",cancel:!1,exportOptions:g(!0,{},p.exportOptions)}),o.cancel||(b.loading(!0,!0),setTimeout(function(){d=g(!0,{proxy:h,excel:{fileName:"Untitled",fileFormat:"xlsx",noLegacyFallback:!1,author:h,created:new Date,producer:h,dataSource:h,readDataSource:!1,columnFields:h,header:{enabled:!0,style:{bold:!0},cells:h},worksheet:{name:"Sheet1",columns:h},worksheets:[],worksheetIndex:0}},o.exportOptions),a=d.excel,c=a.columnFields,c||(c=b._getVisibleColumnFields()),k=c.length,a.worksheet.columns||(a.worksheet.columns=Y(c,function(a){return{autoWidth:!0}})),m=g(!0,{},a.worksheet),a.header&&a.header.enabled&&(a.header.cells?j.push({cells:a.header.cells}):j.push({cells:Y(c,function(d){var c=b._getColumnByField(d);return{type:String,value:f(c)&&c.title?c.title:d,style:a.header.style}})})),i=R.create(a.dataSource?a.dataSource:b.dataSource),l=function(){var s,p,h,o,t=i.view||[],y=t.length,r=[];for(h=0;k>h;h++)r[h]=u(i,"schema.options.fields."+c[h]+".type");for(h=0;y>h;h++){var l,q,w=t[h],v=b.trigger(e,{commandName:"exportExcelRow",cancel:!1,item:w,index:h,row:{}}),x=[];if(!v.cancel){for(l=g(!0,{},v.row),o=0;k>o;o++)q={type:f(l.type)?l.type:r[o],value:f(l.value)?l.value:u(w,c[o])},l.cells&&l.cells[o]&&g(!0,q,l.cells[o]),x.push(q);j.push({index:l.index,height:l.height,cells:x})}}m.rows=j,n=[].slice.call(a.worksheets),n.splice(a.worksheetIndex,0,m),p={created:a.created,author:a.author,worksheets:n},s="xml"==a.fileFormat?new E.ExcelXMLSpreadsheet(p):new E.OOXMLWorkbook(p),s.saveAs({fileName:a.fileName,forceExt:d.forceExt,proxy:d.proxy}),b.loading(!1)},a.readDataSource?i.read().always(l):l()},100)))},_doPdfExport:function(){var d,a,l,c,n,m,k,i,j,b=this,o=b.options;E&&(m=b.trigger(e,{commandName:"exportPdf",cancel:!1,exportOptions:g(!0,{},o.exportOptions)}),m.cancel||(b.loading(!0,!0),setTimeout(function(){d=g(!0,{proxy:h,pdf:{fileName:"Untitled",author:h,created:new Date,size:"a4",orientation:"portrait",fontSize:10,dataSource:h,readDataSource:!1,columnFields:h,header:{enabled:!0,cells:h},margins:{left:72,top:72,bottom:72,right:72}}},m.exportOptions),a=d.pdf,c=a.columnFields,c||(c=b._getVisibleColumnFields()),n=c.length,a.header&&(j=!!a.header.enabled,a.header.cells&&(i=[].concat(a.header.cells))),f(j)||(j=!0),f(i)||(i=Y(c,function(a){var c=b._getColumnByField(a);return{field:a,title:c.title||a,width:c.width||h}})),l=R.create(a.dataSource?a.dataSource:b.dataSource),k=function(){var c,h,k,f,n=l.view||[],p=n.length,o=[],m=a.margins;for(c=0;p>c;c++)h=n[c],k=b.trigger(e,{commandName:"exportPdfRow",cancel:!1,item:h,index:c,row:{}}),k.cancel||o.push(g(!0,h,k.row));f=new E.PDFDocument({author:a.author,created:a.created}),f.addPage(a.size,a.orientation),f.table(m.left,m.top,o,i,{margins:m,printHeader:j,fontSize:a.fontSize}),f.saveAs({fileName:a.fileName,forceExt:d.forceExt,proxy:d.proxy}),b.loading(!1)},a.readDataSource?l.read().always(k):k()},100)))}});ca.defaults=ma,b.ui.plugin("Grid",ca)}(jQuery,shield,this);
!function(a,d,u,f){var x,r,o=d.ui.Widget,A=(d.Class,document,Math.abs),i=(Math.min,Math.max,Math.floor),h=a.proxy,e=(a.each,a.map,d.Constants.KeyCode),s=d.format,G=d.error,j=d.is,k=j.defined,F=(j.string,j.object,j.func,d.to.number),H="value",v="tabindex",g="disabled",c="horizontal",t="both",n="top",E="bottom",l="left",C="up",z="right",B="down",q="click",y="keydown",D="slide",w="change",p="focus",m="blur",b="px";x={cls:f,orientation:c,min:0,max:100,value:f,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:t,step:1},tooltip:{enabled:!1,template:"{0}"},width:f,height:f,events:{}},r=o.extend({init:function(){o.fn.init.apply(this,arguments);var d,f,g,b=this,e=b.options,j=e.cls,i=e.value,l=e.dieOnError;e.orientation==c;return b._original=f=a(b.element),"input"!==f.prop("tagName").toLowerCase()?void G("shieldSlider: Underlying element is not INPUT",l):(b.element=d=f.wrap('<div class="sui-slider sui-slider-'+e.orientation+(j?" "+j:"")+'" />').parent(),f.hide(),g=f.attr(v),d.attr(v,k(g)?g:"0"),b._focusHandler=h(b._focus,b),d.on(p,b._focusHandler),b._blurHandler=h(b._blur,b),d.on(m,b._blurHandler),b._keyDownProxy=h(b._keyDown,b),d.on(y,b._keyDownProxy),a(u).on("resize.shieldSlider"+b.getInstanceId(),h(b._onWinResize,b)),k(e.width)&&d.css("width",e.width),k(e.height)&&d.css("height",e.height),b._buttonOffset=5,b._buttonScaleOffset=20,b._width=d.innerWidth(),b._height=d.innerHeight(),b._buttons=b._createButtons(),b._scale=b._createScale(),b._ticks=b._createTicks(),b._createBar(),b._showValues(),b._elWidth=d.width(),b._elHeight=d.height(),k(i)||(i=F(b._value())),b.value(i),void b.enabled(e.enabled))},refresh:function(a){this.refreshWithElement(this._original,a)},_createButtons:function(){var d,h,e,b=this,i=b.options,j=i.orientation,f=j==c,g=[];if(i.buttons)return d=a('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(b.element),h=a('<span class="sui-slider-button-arrow-'+(f?l:C)+' sui-unselectable" unselectable="on" />').appendTo(d),e=d.outerWidth(),d.css({left:f?b._buttonOffset:(b._width-e)/2,top:f?(b._height-e)/2:b._buttonOffset}),d.click(function(){b._hasFocus||b.element.focus(),b._stepPrev()}),g.push(d),d=a('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(b.element),h=a('<span class="sui-slider-button-arrow-'+(f?z:B)+' sui-unselectable" unselectable="on" />').appendTo(d),d.css({left:f?b._width-(b._buttonOffset+e):(b._width-e)/2,top:f?(b._height-e)/2:b._height-(b._buttonOffset+e)}),d.click(function(){b._hasFocus||b.element.focus(),b._stepNext()}),g.push(d),g},_createScale:function(){var b=this,i=b.options,g=i.orientation,f=g==c,e=b._buttons?b._buttons[0].outerWidth():0,d=a('<div class="sui-slider-scale sui-slider-scale-'+g+' sui-unselectable" unselectable="on" />').appendTo(b.element);return d.css({left:f?b._buttonOffset+e+b._buttonScaleOffset:(b._width-d.outerWidth())/2,top:f?(b._height-d.outerHeight())/2:b._buttonOffset+e+b._buttonScaleOffset}),f?d.width(b._width-2*(b._buttonOffset+b._buttonScaleOffset+e)):d.height(b._height-2*(b._buttonOffset+b._buttonScaleOffset+e)),d.on(q,h(b._scaleClick,b)),d},_scaleClick:function(o){var g,d,e,h,b,a=this,m=a.options.orientation,j=m==c,k=o.originalEvent,n=j?k.clientX:k.clientY,l=a.element.offset(),p=i(j?l.left:l.top);if(a._hasFocus||a.element.focus(),a._enabled){for(b=0;b<a._ticks.length;b++)g=a._ticks[b],d=A(n-(g.tick+p)),(e===f||e>d)&&(e=d,h=g);a._moveBar(h)}},_keyDown:function(d){var a=this,m=a.options.orientation,f=m==c,g=d.originalEvent,b=g.keyCode,o=a._ticks.length-1,j=b===(f?e.LEFT:e.UP),k=b===(f?e.RIGHT:e.DOWN),h=b===(f?e.PAGEDOWN:e.PAGEUP),i=b===(f?e.PAGEUP:e.PAGEDOWN),n=b==e.HOME,l=b==e.END;!g.ctrlKey&&a._enabled&&(j||h?(a._stepPrev(h),d.preventDefault()):k||i?(a._stepNext(i),d.preventDefault()):n?(a._moveBar(a._ticks[0]),d.preventDefault()):l&&(a._moveBar(a._ticks[o]),d.preventDefault()))},_createTicks:function(){var k,r,g,h,q,x,p,e,a=this,o=a.options,D=o.orientation,j=D==c,A=o.max,w=o.min,s=o.step,v=o.ticks,m=v.type,B=v.step,C=0,d=i((A-w)/s),y=f,u=0;for(r=[],h=j?a._scale.outerWidth():a._scale.outerHeight(),h>=d?(q=i(h/d),C=h%d,x=h/d-q):(y=d/h*s,d=h,q=1,s=1),p=j?a._scale.position().left:a._scale.position().top,e=0;d>=e;e++)g={value:w+e*(y||s),tick:p},r.push(g),u+=x,u>=1&&(p++,u--),p+=q;if(v.enabled)for(e=0;d>=e;e+=B)g=r[e],(m===n||m===l||m===t)&&(k=a._createTick(),k.css({left:j?g.tick+b:a._scale.position().left-k.outerWidth()+b,top:j?a._scale.position().top-k.outerHeight()+b:g.tick+b})),(m===E||m===z||m===t)&&(k=a._createTick(),k.css({left:j?g.tick+b:a._scale.position().left+a._scale.outerWidth()+b,top:j?a._scale.position().top+a._scale.outerHeight()+b:g.tick+b}));return r},_createTick:function(){return a('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var d,f,g,b=this,e=b.options,j=e.orientation,h=j==c,k=e.max,l=e.min,i=(e.step,e.values||{});if(i.enabled)for(g=0;g<b._ticks.length;g++)d=b._ticks[g],(d.value===l||d.value===k)&&(f=a('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+s(i.template,d.value)+"</div>").insertAfter(b._scale),f.css({left:h?d.tick-2-f.width()/2:b._scale.position().left+b._scale.outerWidth()+b._bar.width()/2,top:h?b._scale.position().top-b._scale.height()-b._bar.width()/2:d.tick-f.height()/2}))},_createBar:function(){var g,l,m,j,k,h,e=this,i=e.options.orientation==c;for(e._bar=g=a('<div class="sui-slider-bar sui-unselectable" id="'+d.strid()+'" unselectable="on" />').appendTo(e.element).mousedown(function(){e._hasFocus||e.element.focus()}),l=(g.innerWidth()-e._scale.outerHeight())/2+1,m=(g.innerWidth()-e._scale.outerWidth())/2+1,g.css({left:i?e._scale.position().left-g.outerWidth()/2+b:e._scale.position().left-m+b,top:i?e._scale.position().top-l+b:e._scale.position().top-g.outerWidth()/2+b}),k=[],h=0;h<e._ticks.length;h++)j=e._ticks[h],k.push({x:i?j.tick-g.outerWidth()/2:f,y:i?f:j.tick-g.outerWidth()/2});e._dragBar=new d.ui.Draggable(g,{allowedPositions:k,events:{drag:function(a){e._changeTooltipValue(!0),e.trigger(D)},stop:function(b){e._value(e.value()),e._tooltip&&a("#"+e._bar.attr("id")+":hover").length<=0&&e._tooltip.visible(!1),e.trigger(w,{value:e.value()})}}}),e._createTooltip()},_stepNext:function(b){var d,e,g,a=this,f=a.options,h=(f.orientation==c,f.step),j=f.largeStep;a._enabled&&(b=!!b,d=a._getCurrentTickInfoIndex(),e=b?d+i(j/h):d+1,e>=a._ticks.length||(g=a._ticks[e],a._moveBar(g)))},_stepPrev:function(b){var d,e,g,a=this,f=a.options,h=(f.orientation==c,f.step),j=f.largeStep;a._enabled&&(b=!!b,d=a._getCurrentTickInfoIndex(),e=b?d-i(j/h):d-1,0>e||(g=a._ticks[e],a._moveBar(g)))},_moveBar:function(e,g){var a=this,f=a.options.orientation==c,d=a._bar;e&&(d.css({left:f?e.tick-d.outerWidth()/2+b:d.css(l),top:f?d.css(n):e.tick-d.outerWidth()/2+b}),a._changeTooltipValue(),a._value(a.value()),g||a.trigger(w,{value:a.value()}))},_createTooltip:function(){var a=this,e=a.options,b=e.tooltip,f=e.orientation==c;b&&b.enabled&&(a._tooltip=new d.ui.Tooltip(a._bar,{content:s(b.template,a.value()),position:f?n:l,delay:0}))},_changeTooltipValue:function(d){var c,a=this,e=a.options.tooltip,b=a._tooltip;b&&(c=s(e.template,a.value()),b.options.content!==c&&b.refresh({content:c,enabled:a._enabled}),d&&b.visible(!0,a._bar))},_getCurrentTickInfoIndex:function(){var b,a,d,e=this,l=e.options.orientation==c,j=e._ticks,f=e._bar,i=l?f.position().left:f.position().top,k=f.outerWidth()/2,h=Number.POSITIVE_INFINITY,g=-1;for(a=0;a<j.length;a++){if(b=j[a].tick-k,i==b)return a;d=A(i-b),h>d&&(h=d,g=a)}return g},_getTickInfoIndexByValue:function(c){var a,d=this,b=d._ticks;for(a=0;a<b.length;a++)if(c==b[a].value)return a;return-1},_focus:function(c){var b=this;b._hasFocus||(b._hasFocus=!0,a(b.element).addClass("sui-slider-focus"),b.trigger(p))},_blur:function(c){var b=this;b._hasFocus&&(b._hasFocus=!1,a(b.element).removeClass("sui-slider-focus"),b.trigger(m))},_onWinResize:function(b){var a=this;a._onWinResTimeout&&clearTimeout(a._onWinResTimeout),a._onWinResTimeout=setTimeout(h(a._winResized,a),100)},_winResized:function(){var a=this,b=a.element;(a._elWidth!==b.width()||a._elHeight!==b.height())&&a.refresh()},_value:function(){return this._original.attr.apply(this._original,[H].concat([].slice.call(arguments)))},value:function(){var b,c,a=this,e=a.options.min,d=[].slice.call(arguments);return d.length>0?(c=a._getTickInfoIndexByValue(d[0]),void(-1!==c&&(b=a._ticks[c],a._moveBar(b,!0)))):(c=a._getCurrentTickInfoIndex(),b=a._ticks[c],b?b.value:e)},enabled:function(){var c,b=this,d=a(b.element),e=b._original,f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?(d.removeAttr(g).removeClass("sui-slider-disabled"),e.removeAttr(g)):(d.attr(g,g).addClass("sui-slider-disabled"),e.attr(g,g)),b._enabled=c,b._dragBar.enabled(c),b._tooltip&&b._tooltip.enabled(c),void 0):b._enabled},destroy:function(){var c,b=this;if(a(u).off("resize.shieldSlider"+b.getInstanceId()),clearTimeout(b._onWinResTimeout),b._onWinResTimeout=null,a(b.element).off(y,b._keyDownProxy).off(p,b._focusHandler).off(m,b._blurHandler),b._dragBar&&(b._dragBar.destroy(),b._dragBar=null),b._buttons)for(c=0;c<b._buttons.length;c++)b._buttons[c].off(q);b._tooltip&&(b._tooltip.destroy(),b._tooltip=null),a(b.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),b._original.unwrap().show(),b._scale.off(q),b._original=b._buttons=b._bar=b._scale=b._ticks=b._focusHandler=b._blurHandler=b._keyDownProxy=b._winResHandler=null,o.fn.destroy.call(b)}}),r.defaults=x,d.ui.plugin("Slider",r)}(jQuery,shield,this);
!function(b,c,w,e){var v,o,a,d,u,q,t,l=c.ui.Widget,r=c.Class,A=c.DataSource,B=(document,Math.abs,Math.min),y=Math.max,j=Math.pow,i=(Math.floor,b.proxy),h=(b.each,b.map,c.format),z=c.to["int"],s=c.error,g=c.is,k=g.defined,x=(g.string,g.object,g.func,c.to.number,"squarified"),f="horizontal",n="vertical",p="click",m="disabled";a=r.extend({init:function(b,c,d,e){var a=this;a.left=b,a.top=c,a.width=d,a.height=e},getSize:function(){return B(this.width,this.height)},getRowContainers:function(b){var a,c=this,d=c.left,e=c.top,i=c.sum(b),f=i/c.height,g=i/c.width,h=[];if(c.width>=c.height)for(a=0;a<b.length;a++)h.push({left:d,top:e,right:d+f,bottom:e+b[a].targetValue/f,dataItem:b[a]}),e+=b[a].targetValue/f;else for(a=0;a<b.length;a++)h.push({left:d,top:e,right:d+b[a].targetValue/g,bottom:e+g,dataItem:b[a]}),d+=b[a].targetValue/g;return h},remainingArea:function(f){var c,d,g,h,e,b=this;return b.width>=b.height?(c=f/b.height,g=b.width-c,e=new a(b.left+c,b.top,g,b.height)):(d=f/b.width,h=b.height-d,e=new a(b.left,b.top+d,b.width,h)),e},sum:function(b){var a,c=0;for(a=0;a<b.length;a++)c+=b[a].targetValue;return c}}),d=r.extend({init:function(){},sort:function(a){a.sort(function(a,b){return b.targetValue-a.targetValue})},sum:function(b){var a,c=0;for(a=0;a<b.length;a++)c+=b[a].targetValue;return c},min:function(c){var a,b=e;for(a=0;a<c.length;a++)(!k(b)||b>c[a].targetValue)&&(b=c[a].targetValue);return b},max:function(c){var a,b=e;for(a=0;a<c.length;a++)(!k(b)||b<c[a].targetValue)&&(b=c[a].targetValue);return b}}),d.create=function(a){return a===x?new t:a===f?new u:new q},u=d.extend({init:function(){d.fn.init.apply(this,arguments)},execute:function(j,d,r,g,q){var h,i,b,e,c,k,m=this,s=m.sum(j),o=d.left,p=d.top,l=!q||q===f;for(m.sort(j),k=0;k<j.length;k++)b=j[k],h=l?d.width*b.targetValue/s:d.width,i=l?d.height:d.height*b.targetValue/s,b.items&&0!==b.items.length?(e=g.createGroup(r,new a(o,p,h,i)),c=g.createTitle(e,g.getItemText(b)),c=new a(c.left-e.position().left,c.top-e.position().top,c.width,c.height),m.execute(b.items,c,e,g,l?n:f)):g.createItem(r,{left:o,top:p,width:h,height:i,dataItem:b}),l?o+=h:p+=i}}),q=d.extend({init:function(){d.fn.init.apply(this,arguments)},execute:function(j,d,r,g,q){var h,i,b,e,c,k,m=this,s=m.sum(j),o=d.left,p=d.top,l=!q||q===n;for(m.sort(j),k=0;k<j.length;k++)b=j[k],i=l?d.height*b.targetValue/s:d.height,h=l?d.width:d.width*b.targetValue/s,b.items&&0!==b.items.length?(e=g.createGroup(r,new a(o,p,h,i)),c=g.createTitle(e,g.getItemText(b)),c=new a(c.left-e.position().left,c.top-e.position().top,c.width,c.height),m.execute(b.items,c,e,g,l?f:n)):g.createItem(r,{left:o,top:p,width:h,height:i,dataItem:b}),l?p+=i:o+=h}}),t=d.extend({init:function(){d.fn.init.apply(this,arguments)},execute:function(l,i,k,d){var j,h,b,f,c,g,e=this;for(e.sort(l),j=e._squarifyCore(e._normalize(l,i.width*i.height,d),[],i,[]),h=e._getTreemap(j),g=0;g<h.length;g++)b=h[g],b.dataItem.items&&0!==b.dataItem.items.length?(f=d.createGroup(k,new a(b.left,b.top,b.right-b.left,b.bottom-b.top)),c=d.createTitle(f,d.getItemText(b.dataItem)),c=new a(c.left-f.position().left,c.top-f.position().top,c.width,c.height),e.execute(b.dataItem.items,c,f,d)):d.createItem(k,{left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top,dataItem:b.dataItem})},_squarifyCore:function(d,a,b,c){var g,f,h,e=this;return 0===d.length?void c.push(b.getRowContainers(a)):(g=b.getSize(),f=d[0],e._verifyRatio(a,f,g)?(a.push(f),e._squarifyCore(d.slice(1),a,b,c)):(h=b.remainingArea(e.sum(a)),c.push(b.getRowContainers(a)),e._squarifyCore(d,[],h,c)),c)},_getTreemap:function(c){var a,b,d=[];for(a=0;a<c.length;a++)for(b=0;b<c[a].length;b++)d.push(c[a][b]);return d},_verifyRatio:function(a,g,c){var b,d,e,f=this;return 0===a.length?!0:(b=a.slice(),b.push(g),d=f._calculateRatio(a,c),e=f._calculateRatio(b,c),d>=e)},_calculateRatio:function(a,c){var b=this,e=b.min(a),f=b.max(a),d=b.sum(a);return y(j(c,2)*f/j(d,2),j(d,2)/(j(c,2)*e))},_normalize:function(c,d,h){var a,e=this,f=e.sum(c),g=d/f,b=[];for(a=0;a<c.length;a++)b[a]=c[a],b[a].targetValue=b[a].targetValue*g;return b}}),v={cls:e,enabled:!0,width:e,height:e,title:e,dataSource:e,readDataSource:!0,type:"squarified",valueTemplate:"{value}",textTemplate:"{title}",colorTemplate:"{color}",colors:["#1E98E4","#FFC500","#5CB85C","#FF2A00","#6D31FF","#00B2A1","#FF8000","#84B3DC"],tooltip:{enabled:!1,template:"{title}: {value}",filter:".sui-treemap-item",delay:80,position:"top"},events:{}},o=l.extend({init:function(){l.fn.init.apply(this,arguments);var e,a=this,d=b(a.element),c=a.options,f=c.cls,g=c.dataSource,h=c.dieOnError;return"div"!==d.prop("tagName").toLowerCase()?void s("shieldTreeMap: Underlying element is not DIV.",h):(d.addClass("sui-treemap "+(f?" "+f:"")),k(c.width)&&d.css("width",c.width),k(c.height)&&d.css("height",c.height),g?(a.dataSource=A.create(g),a._eventNS=e=".shieldTreeMap"+a.getInstanceId(),a.containers=[],a.colorIndex=0,b(w).on("resize"+e,i(a._onWinResize,a)),a.dataSource.on("change"+e,i(a._dsChange,a)),c.readDataSource&&a.dataSource.read(),void a.enabled(c.enabled)):(a.destroy(),void s("shieldTreemap: dataSource is not defined.",h)))},_dsChange:function(){var a=this,b=a.element;a._create(),a._createTooltip(),a._elWidth=b.width(),a._elHeight=b.height()},_onWinResize:function(b){var a=this;a._onWinResTimeout&&clearTimeout(a._onWinResTimeout),a._onWinResTimeout=setTimeout(i(a._winResized,a),100)},_winResized:function(){var a=this,b=a.element;(a._elWidth!==b.width()||a._elHeight!==b.height())&&a.refresh()},_createTooltip:function(){var a=this,c=a.options.tooltip;c.enabled&&(a.tooltip?a.tooltip.refresh(c):a.tooltip=b(a.element).children(".sui-treemap-group").first().shieldTooltip(c).swidget())},_create:function(){var e,b=this,c=b.element,g=b.dataSource.data,h=b.options,i=d.create(h.type),f=new a(0,0,c.innerWidth(),c.innerHeight());c.empty(),b._prepareData(g),e=b.createGroup(c,f),f=b.createTitle(e,h.title),i.execute(g,f,e,b)},_prepareData:function(b){var a,c=this;for(a=0;a<b.length;a++)b[a].targetValue=c.getItemValue(b[a]),b[a].items&&c._prepareData(b[a].items)},createTitle:function(d,i){var g,j,k,l,m,n=this,h=n.options.type===f;return"undefined"===i||i===e?new a(d.position().left,d.position().top,d.innerWidth(),d.innerHeight()):(g=b('<div class="sui-treemap-title"></div>').appendTo(d),h&&g.innerHeight(d.outerHeight()),g.append('<div class="sui-treemap-title-inner">'+i.replace(/\s+/,"&nbsp;")+"</div>"),c.ui.Position.Set(g.find(".sui-treemap-title-inner"),g,{source:"center",target:"center"}),j=h?d.position().left+g.outerWidth():d.position().left,k=h?d.position().top:d.position().top+g.outerHeight(),l=h?d.innerWidth()-g.outerWidth():d.innerWidth(),m=h?d.innerHeight():d.innerHeight()-g.outerHeight(),new a(j,k,l,m))},createGroup:function(b,c){var a=this;return a._createContainer(b,c).addClass("sui-treemap-group sui-treemap-group-"+a.options.type)},createItem:function(g,b){var c,a=this,d=a.options,e=d.tooltip,j=(d.type===f,a.getItemText(b.dataItem));c=a._createContainer(g,b),c.addClass("sui-treemap-item").css("backgroundColor",a._getContentColor(b.dataItem)).on(p,i(a._contentClick,a,b.dataItem)),e.enabled&&c.attr("title",h(e.template,b.dataItem)),a.containers.push(c),c.html(j)},_contentClick:function(b){var a=this;a._enabled&&a.trigger(p,{title:a.getItemText(b),value:a.getItemValue(b),item:b})},_createContainer:function(c,a){return b("<div/>").appendTo(c).css({left:a.left,top:a.top,width:a.width,height:a.height})},_getContentColor:function(c){var a=this,b=a.options.colors;return a._getItemColor(c)||b[a.colorIndex++%b.length]},getItemValue:function(a){return z(h(this.options.valueTemplate,a))},getItemText:function(a){return h(this.options.textTemplate,a)},_getItemColor:function(b){var a=h(this.options.colorTemplate,b);return"undefined"!==a&&null!==a?a:e},enabled:function(){var c,a=this,d=b(a.element),e=[].slice.call(arguments);return e.length>0?(c=!!e[0],c?d.removeAttr(m).removeClass("sui-treemap-disabled"):d.attr(m,m).addClass("sui-treemap-disabled"),a.tooltip&&a.tooltip.enabled(c),a._enabled=c,void 0):a._enabled},destroy:function(){var c,a=this,d=a._eventNS;for(b(w).off(d),clearTimeout(a._onWinResTimeout),a._onWinResTimeout=null,a.dataSource&&a.dataSource.off(d),a.tooltip&&(a.tooltip.destroy(),a.tooltip=null),c=0;c<a.containers.length;c++)a.containers[c].off(p);a.containers=null,b(a.element).empty(),l.fn.destroy.call(a)}}),o.defaults=v,c.ui.plugin("TreeMap",o)}(jQuery,shield,this);
!function(b,a,s,c){function f(a){return d(a)&&!q(a)&&"undefined"!==a}var j,g,h=a.ui.Widget,r=(a.Class,a.DataSource),n=(Math.min,Math.max,b.proxy),p=b.each,o=b.map,m=a.error,e=a.format,d=a.is.defined,q=a.is["null"],i=a.to["int"],l="change",k="click";j={cls:c,width:c,height:c,dataSource:c,readDataSource:!0,title:c,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},g=h.extend({init:function(){h.fn.init.apply(this,arguments);var f,a=this,e=b(a.element),c=a.options,g=c.title,i=c.dieOnError,j=c.dataSource,k=c.cls;return"div"!==e.prop("tagName").toLowerCase()?void m("shieldTagCloud: Underlying element is not DIV.",i):(f=a._eventNS=".shieldTagCloud"+a.getInstanceId(),e.empty(),g&&e.append('<div class="sui-tagcloud-title">'+g+"</div>"),a._contentEl=b('<div class="sui-tagcloud-content">').appendTo(e),e.addClass("sui-tagcloud"+(k?" "+k:"")),d(c.width)&&e.css("width",c.width),d(c.height)&&e.css("height",c.height),j?(a.dataSource=r.create(j),a.dataSource.on(l+f,n(a._dsChange,a)),void(c.readDataSource&&a.dataSource.read())):(a.destroy(),void m("shieldTagCloud: No dataSource or underlying UL element found.",i)))},_dsChange:function(){this._render()},_render:function(){var a=this,d=a._contentEl,b=a.dataSource.view||[],c=a._getMinMax(b);d.empty().append(o(b,function(b){return a._createItem(b,c[0],c[1])}))},_createItem:function(c,l,s){var g,q,p,o,m,j=this,a=j.options,r=a.minSize,t=a.maxSize,d=b('<div class="sui-tagcloud-item" />'),h=e(a.textTemplate,c);return f(h)&&(g=e(a.hrefTemplate,c),f(g)?(o=b('<a href="'+g+'" class="sui-tagcloud-link">'+h+"</a>").appendTo(d),m=e(a.targetTemplate,c),f(m)&&o.attr("target",m)):d.html(h)),p=i(e(a.frequencyTemplate,c)),q=s>l?(p-l)*(t-r)/(s-l)+r:100,d.css("font-size",q+"%").on(k,n(j._itemClick,j,c)),d},_itemClick:function(b,a){var c=this,d=c.trigger(k,{item:b});d.isDefaultPrevented()&&a&&a.preventDefault()},_getMinMax:function(f){var a,g=this,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return p(f||[],function(h,f){a=i(e(g.options.frequencyTemplate,f)),(!d(c)||a>c)&&(c=a),(!d(b)||b>a)&&(b=a)}),[b,c]},destroy:function(){var a=this,c=a.element,d=a.options,b=d.cls;a.dataSource&&a.dataSource.off(l+a._eventNS),c.removeClass("sui-tagcloud"+(b?" "+b:"")).empty(),h.fn.destroy.call(a)}}),g.defaults=j,a.ui.plugin("TagCloud",g)}(jQuery,shield,this);
!function(a,b,n,c){var m,j,i=b.ui.Widget,s=(b.Class,b.DataSource),q=(b.ui.Position,b.support),h=a.proxy,y=b.error,e=b.format,d=b.is.defined,f=b.is.func,u=b.is["boolean"],g=b.is.string,z=b.is["null"],r=b.is.integer,o=b.to["int"],t="change",k="centered",v="right",w="width",x="height",p="click",l="sui-timeline-ds-item";m={cls:c,dataSource:c,readDataSource:!0,layout:k,animation:{enabled:!0,expandDuration:200,collapseDuration:150},positionTemplate:c,iconTemplate:"{icon}",titleTemplate:"{title}",textTemplate:"{text}",collapsedTemplate:"{collapsed}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",collapsible:!0,width:c,height:c,events:{}},j=i.extend({init:function(){i.fn.init.apply(this,arguments);var d,b=this,e=a(b.element),c=b.options,j=c.dieOnError,f=c.dataSource,g=c.cls;return d=b._eventNS=".shieldTimeline"+b.getInstanceId(),e.empty(),e.addClass("sui-timeline sui-timeline-"+c.layout+(c.collapsible?" sui-timeline-collapsible":"")+(g?" "+g:"")),b._initAxis(e),f?(b.dataSource=s.create(f),a(n).on("resize"+d,h(b._winResize,b)),b.dataSource.on(t+d,h(b._dsChange,b)),void(c.readDataSource&&b.dataSource.read())):(b.destroy(),void y("shieldTimeline: dataSource option is required.",j))},_initAxis:function(c){var e,f=this,b=f.options;d(b.width)&&c.css(w,b.width),d(b.height)&&c.css(x,b.height),e=a('<div class="sui-timeline-inner"/>').appendTo(c),f._axis=a('<div class="sui-timeline-axis sui-timeline-axis-'+b.layout+'"/>').appendTo(e)},_dsChange:function(){this._render()},_winResize:function(){this._recalcEventWidths()},_recalcEventWidths:function(){var b=this,c=o(a(b.element).innerWidth());c!==b._width&&(b._setEventWidths(c),b._width=c)},_setEventWidths:function(c){var b=this,f=b.options.layout,d=q.scrollbar(),e=a(b._axis).outerWidth(),g=o(f===k?(c-d)/2-e:c-d-e);a(b._axis).children(".sui-timeline-event").each(function(){a(this).outerWidth(g),a(this).hasClass("sui-timeline-event-left")&&b._positionEventLeft(a(this))})},_render:function(){var i,f,s,t,u,m,r,o,v,j,k,q,b=this,n=b.options,w=n.collapsible,x=b.dataSource.view||[],y=x.length;for(q=0;y>q;q++)i=x[q],f=a('<div class="sui-timeline-event"/>').data(l,i).appendTo(b._axis),u=a('<div class="sui-timeline-event-title">'+e(n.titleTemplate,i)+"</div>").appendTo(f),m=e(n.textTemplate,i),r=d(m)&&!z(m)&&"undefined"!==m&&""!==m?a('<div class="sui-timeline-event-text">'+m+"</div>").appendTo(f):c,b._positionEventElement(f,i,q),j=e(n.iconUrlTemplate,i),g(j)&&"undefined"!==j||(j=c),k=e(n.iconClsTemplate,i),g(k)&&"undefined"!==k||(k=c),(j||k)&&(s=a('<span class="sui-timeline-event-icon'+(w&&d(r)?" sui-timeline-event-icon-collapsible":"")+'"/>').insertBefore(f),t=a('<span class="sui-timeline-event-icon-inner"/>').appendTo(s),j?t.append('<img src="'+j+'"/>'):t.addClass(k)),w&&d(r)&&(f.addClass("sui-timeline-event-collapsible"),u.on(p,h(b._eventTitleClicked,b,f)),(j||k)&&s.on(p,h(b._eventTitleClicked,b,f)),o=e(n.collapsedTemplate,i),v=g(o)?"true"===o||"1"===o:o===!0,v&&b._collapse(f,!1,!0));b._recalcEventWidths()},_positionEventElement:function(i,l,b){var a,c,d=this,j=d.options,h=j.positionTemplate;switch(j.layout){case k:f(h)||g(h)?(a=e(h,l,b),c=g(a)?"undefined"===a?b%2:"true"===a||"1"===a?!0:!1:!!a):c=b%2,c&&d._positionEventLeft(i);break;case v:d._positionEventLeft(i)}},_positionEventLeft:function(b){b.addClass("sui-timeline-event-left").css("left",-1*a(b).width())},_isExpanded:function(b){return!a(b).hasClass("sui-timeline-event-collapsed")},_getEventItem:function(b){return a(b).data(l)},_expand:function(b,g,h,c){var d,a=this,e=a.options.animation;return a._isExpanded(b)?void(f(c)&&c.call(a)):void(g&&(d=a.trigger("expand",{element:b,item:a._getEventItem(b)}),d.isDefaultPrevented())||b.find(".sui-timeline-event-text").first().slideDown(e.enabled&&!h?e.expandDuration:0,function(){b.removeClass("sui-timeline-event-collapsed"),f(c)&&c.call(a)}))},_collapse:function(b,g,h,c){var d,a=this,e=a.options.animation;return a._isExpanded(b)?void(g&&(d=a.trigger("collapse",{element:b,item:a._getEventItem(b)}),d.isDefaultPrevented())||b.find(".sui-timeline-event-text").first().slideUp(e.enabled&&!h?e.collapseDuration:0,function(){b.addClass("sui-timeline-event-collapsed"),f(c)&&c.call(a)})):void(f(c)&&c.call(a))},_eventTitleClicked:function(a,c){var b=this;b._isExpanded(a)?b._collapse(a,!0,!1):b._expand(a,!0,!1)},_getEvent:function(b){return a(r(b)?a(this._axis).children(".sui-timeline-event")[b]:b)},expanded:function(){var b=this,a=[].slice.call(arguments),f=u(a[0])?a.shift():c,e=b._getEvent(a[0]);return d(f)?void(f?b._expand(e,!1,!1,a[1]):b._collapse(e,!1,!1,a[1])):b._isExpanded(e)},expandAll:function(){var b=this;a(b._axis).children(".sui-timeline-event").each(function(){b._expand(a(this),!1,!1)})},collapseAll:function(){var b=this;a(b._axis).children(".sui-timeline-event").each(function(){b._collapse(a(this),!1,!1)})},destroy:function(){var b=this,e=b.element,f=b.options,c=f.cls,d=b._eventNS;a(n).off(d),b.dataSource&&b.dataSource.off(d),e.removeClass("sui-timeline"+(c?" "+c:"")).empty(),b._width=null,i.fn.destroy.call(b)}}),j.defaults=m,b.ui.plugin("Timeline",j)}(jQuery,shield,this);
!function(a,b,_,d){var K,G,F=b.ui.Widget,w=(b.Class,b.DataSource),Q=b.RecursiveDataSource,p=(b.ui.Position,b.Constants.KeyCode),I=document,c=a.proxy,W=a.each,V=(a.extend,b.error),m=b.format,f=b.is.defined,o=b.is["boolean"],e=(b.is.integer,b.is.func),n=b.is.array,T=b.is.object,x=b.is.string,v=b.support.browser,B="click",Y="dbl"+B,S="focus",R="blur",s="change",$="keydown",Z="mousedown",P="tabindex",H="disabled",N="up",M="down",U="left",X="right",h="checked",g="li",k="ul",z="visibility",O="hidden",J="visible",j="sui-treeview-list-item",L="sui-treeview-list-item-idx",D="sui-treeview-list-item-parent",C="sui-treeview-list-item-ds",y="sui-treeview-list-items-ds",l="sui-treeview-list-item-checked",t="sui-treeview-list-item-loaded",r="sui-treeview-item-list-expanded",u="sui-treeview-item-toggle-loading",A="sui-treeview-item-selected",E="sui-treeview-item-active",q="sui-treeview-item-disabled",i="sui-treeview-item";K={cls:d,width:d,minWidth:d,height:d,dataSource:d,readDataSource:!0,animation:{enabled:!0,expandDuration:200,collapseDuration:150},checkboxes:{enabled:!1,children:!1,template:d},dragDrop:!1,dragDropScope:d,textTemplate:"{text}",hrefTemplate:"{href}",expandedTemplate:"{expanded}",checkedTemplate:"{checked}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",hasChildrenTemplate:function(a){return a&&(a.items&&a.items.length>0||a.hasChildren)},events:{}},G=F.extend({init:function(){F.fn.init.apply(this,arguments);var d,l,i,n,j,h,b=this,m=a(b.element),e=b.options,q=e.dieOnError,o=e.dataSource,p=e.cls;if(b._original=d=a(b.element),b._tagname=n=d.prop("tagName").toLowerCase(),h=b._eventNS=".shieldTreeView"+b.getInstanceId(),b._wrapper=i=d.wrap("<div/>").parent(),i.addClass("sui-treeview"+(p?" "+p:"")),d.hide(),b.element=m=a('<ul class="sui-treeview-list"/>').on(S+h,c(b._focus,b)).on(R+h,c(b._blur,b)).on($+h,c(b._keydown,b)),d.after(m),W(["width","minWidth","height","maxHeight"],function(b,a){f(e[a])&&i.css(a,e[a])}),l=d.attr(P),m.attr(P,f(l)?l:"0"),o)b.dataSource=w.create(o);else{if(n!=k)return b.destroy(),void V("shieldTreeView: No dataSource or underlying UL element found.",q);j=function(c){var b=[];return a(c).children(g).each(function(){var e,c=a(this),g=c.children(k).length>0,d={cls:c.attr("data-class"),href:c.attr("data-href")?c.attr("data-href"):c.children().not(k).first().attr("href"),disabled:c.attr("data-disabled")?c.attr("data-disabled"):f(c.attr(H))&&null!==c.attr(H),expanded:c.attr("data-expanded"),checked:c.attr("data-checked"),iconUrl:c.attr("data-icon-url"),iconCls:c.attr("data-icon-cls")};g?(e=c.clone(),e.children(k).remove(),d.text=e.html()):d.text=c.html(),g&&(d.items=j(c.children(k)[0])),b.push(d)}),b},b.dataSource=w.create({data:d,schema:{parse:j}})}b.dataSource.on(s+h,c(b._dsChange,b)),e.readDataSource&&b.dataSource.read()},refresh:function(a){this.refreshWithElement(this._original,a)},_dsChange:function(){var a=this,c=a.element,b=a.dataSource;a._renderItems(b,c,null,!0,!0,function(){a.trigger("dataBound",{dataSource:b,element:null})})},_destroyItems:function(b){var c=this;a(b).children("ul.sui-treeview-item-list").each(function(){c._destroyItems(a(this))}),a(b).children(".sui-treeview-item-content").find(".sui-treeview-item-text").each(function(){a(this).swidget("Draggable")&&a(this).swidget("Draggable").destroy(),a(this).swidget("Droppable")&&a(this).swidget("Droppable").destroy()}),a(b).children(".sui-treeview-item-content").find(".sui-checkbox").each(function(){a(this).swidget("CheckBox")&&a(this).swidget("CheckBox").destroy()});var d=a(b).data(y);d&&d.off(c._eventNS),a(b).removeData(),a(b).empty()},_renderItems:function(l,i,q,n,m,h){var d,c,a,b=this,o=b.options,j=o.checkboxes,k=l.view,p=(k||[]).length,f=[],g=[];for(b._destroyItems(i),a=0;p>a;a++)d=b._renderItem(k[a],q,l,a),c=d.listItem,c.appendTo(i),d.itemExpanded&&f.push(c),d.itemChecked&&g.push(c);if(e(h)&&h(),n)for(a=0;a<f.length;a++)b._expand(f[a],!1,m);if(j.enabled&&j.children)for(a=0;a<g.length;a++)b._updateChecked(g[a])},_renderItem:function(k,G,T,Q){var n,s,p,t,u,v,h,J,w,E,F,g=this,r=g.options,H=r.checkboxes,A=H.template,M=g.getInstanceId(),y=r.dragDropScope,P=function(){return a(this.element).clone().appendTo(I.body)},K=G?G.data(j):null,R=g._hasChildren(k),S=m.call(g,r.textTemplate,k);if(n=m(r.disabledTemplate,k),n=o(n)&&n||"true"===n||"1"===n||1===n?!0:!1,s=m(r.expandedTemplate,k),s=o(s)&&s||"true"===s||"1"===s||1===s?!0:!1,p=m(r.checkedTemplate,k),p=o(p)&&p||"true"===p||"1"===p||1===p?!0:!1,t=m(r.hrefTemplate,k),x(t)&&"undefined"!==t||(t=d),u=m(r.iconUrlTemplate,k),x(u)&&"undefined"!==u||(u=d),v=m(r.iconClsTemplate,k),x(v)&&"undefined"!==v||(v=d),h=a('<li class="'+i+" sui-unselectable"+(n?" "+q:"")+'"/>').data(j,k).data(L,Q).data(D,G).data(C,T),F=a('<span class="sui-treeview-item-text">'+(t?'<a href="'+t+'">':"")+S+(t?"</a>":"")+"</span>").on(Z,c(g._itemClick,g,h)).on(Y,c(g._itemDblClick,g,h)),J=a('<span class="sui-treeview-item-toggle"/>').on(B,c(g._toggleItem,g,h)).append(a('<span class="sui-treeview-item-toggle-collapsed"/>')),R||J.css(z,O),H.enabled)if(h.data(l,!!p),w=a('<span class="sui-treeview-item-check"/>'),x(A))w.html(m(A,{item:k,parent:K}));else if(e(A))A(w,k,K);else{var N=a('<input type="checkbox"'+(p?' checked="checked"':"")+"/>").appendTo(w);b.ui.CheckBox?a(N).shieldCheckBox({enabled:!n,enableThreeStates:!!H.children,events:{click:c(g._checkboxClick,g,h)}}):N.on(B,c(g._checkboxClick,g,h))}return(u||v)&&(E=a('<span class="sui-treeview-item-icon"/>'),u?E.append('<img src="'+u+'"/>'):E.addClass(v)),h.append(a('<div class="sui-treeview-item-content"/>').append(J,w,F.prepend(E))),h.append(a('<ul class="sui-treeview-list sui-treeview-item-list"/>').hide()),r.dragDrop&&!n&&(F.shieldDraggable({scope:f(y)?y:"suiTv"+M,dragCls:"sui-treeview-item-text-dragging",helper:P,events:{start:c(g._dragStart,g,h),stop:c(g._dragStop,g,h)}}),F.shieldDroppable({scope:f(y)?y:"suiTv"+M,hoverCls:"sui-treeview-item-text-dropover",tolerance:{x:"touch",y:"intersect"},events:{over:c(g._dropOver,g,h),out:c(g._dropOut,g,h),drop:c(g._drop,g,h)}})),{listItem:h,itemExpanded:s,itemChecked:p,itemDisabled:n}},_isValidDragDrop:function(c,d){if(a(c).hasClass("sui-treeview-item-text")){var b=a(c).parent().parent().parent().parent().children(".sui-treeview-item-content").first().children(".sui-treeview-item-text").first();return b&&b.length>0&&d[0]===b[0]?d[0]!==b[0]:a(c).parent().parent().find(d[0]).length>0?!1:!0}return!1},_dragStart:function(b,a){this.trigger("dragStart",{draggable:a.target.element,element:b,domEvent:a})},_dragStop:function(b,a){this.trigger("dragStop",{draggable:a.target.element,element:b,domEvent:a}),a.preventDefault()},_dropOver:function(h,b){var c,d=b.draggable,e=b.droppable,g=this._isValidDragDrop(d,e),f={draggable:d,droppable:e,element:h,valid:g,domEvent:b};g&&(f.sourceNode=a(d).closest("."+i)),f.targetNode=a(e).closest("."+i),c=this.trigger("droppableOver",f),(c.isDefaultPrevented()||!c.valid)&&b.preventDefault()},_dropOut:function(g,b){var h,c=b.draggable,d=b.droppable,f=this._isValidDragDrop(c,d),e={draggable:c,droppable:d,element:g,valid:f,domEvent:b};f&&(e.sourceNode=a(c).closest("."+i)),e.targetNode=a(d).closest("."+i),h=this.trigger("droppableOut",e)},_drop:function(j,b){var c,h=this,d=b.draggable,e=b.droppable,f=h._isValidDragDrop(d,e),g={draggable:d,droppable:e,element:j,cancelled:!0,skipAnimation:!!f,valid:f,domEvent:b};f&&(g.sourceNode=a(d).closest("."+i)),g.targetNode=a(e).closest("."+i),c=h.trigger("drop",g),b.cancelled=c.cancelled,b.skipAnimation=c.skipAnimation,c.isDefaultPrevented()&&b.preventDefault()},_hasChildren:function(b){var a=m(this.options.hasChildrenTemplate,b);return o(a)&&a||"true"===a||"1"===a||1===a},_isLoaded:function(b){return a(b).data(t)===!0},_isExpanded:function(a){return a.hasClass(r)},_isFullyExpanded:function(b){var a=this,c=a.getParent(b);return c?a._isExpanded(b)&&a._isFullyExpanded(c):a._isExpanded(b)},_isDisabled:function(b){return a(b).hasClass(q)},_isSelected:function(b){return a(b).hasClass(A)},_isActive:function(b){return a(b).hasClass(E)},_isFocused:function(){return a(this.element).hasClass("sui-treeview-focus")},_focus:function(d){var b=this,c=b.element;v.ie&&I.activeElement!==a(c)[0]&&a(c).focus(),b._blurTimeout&&(clearTimeout(b._blurTimeout),b._blurTimeout=null),b._isFocused()||(a(b.element).addClass("sui-treeview-focus"),b.trigger(S))},_blur:function(c){var b=this;b._isFocused()&&(b._blurTimeout&&clearTimeout(b._blurTimeout),b._blurTimeout=setTimeout(function(){a(b.element).removeClass("sui-treeview-focus"),b.trigger(R)},100))},_selectItem:function(a,e,c){var d,b=this;b._isSelected(a)||c&&(d=b.trigger("select",{element:a,item:a.data(j)}),d.isDefaultPrevented())||(b._selectedItem&&b._selectedItem.removeClass(A),b._selectedItem=a,a.addClass(A),e&&b._activateItem(a,c))},_activateItem:function(a,c){var b=this;b._isActive(a)||(b._activeItem&&b._activeItem.removeClass(E),b._activeItem=a,a.addClass(E),c&&b.trigger(s,{element:a,item:a.data(j)}))},_itemClick:function(b,d){var a=this;v.ie&&setTimeout(c(a._focus,a)),a._selectItem(b,!0,!0)},_itemDblClick:function(a,c){var b=this;b._selectItem(a,!0,!0),b._toggleItem(a,c)},_getCheckBox:function(a){return a.children(".sui-treeview-item-content").children(".sui-treeview-item-check").find('input[type="checkbox"]').first()},_checkboxClick:function(b){var a=this;v.ie&&setTimeout(c(a._focus,a)),a._toggleCheck(b,!0)},_toggleCheck:function(a,b){this._setChecked(a,!a.data(l),b)},_setChecked:function(c,d,f){var e=this,g=e.options.checkboxes.children,b=e._getCheckBox(c);b&&b.length>0&&(a(b).swidget("CheckBox")?(b=a(b).swidget("CheckBox"),b.checked(d)):d?b.attr(h,h):b.removeAttr(h),c.data(l,d),g&&e._updateChecked(c),f&&e.trigger("check",{element:c,item:c.data(j),checked:d}))},_updateChecked:function(a){var b=this,c=a.data(l);b._updateCheckedChildren(a,c),b._updateCheckedParents(a,c)},_updateCheckedChildren:function(d,b){var c=this;a(d).children("ul.sui-treeview-item-list").first().children(g).each(function(){var e=a(this),d=c._getCheckBox(e);a(d).swidget("CheckBox")?a(d).swidget("CheckBox").checked(b):b?d.attr(h,h):d.removeAttr(h),e.data(l,b),c._updateCheckedChildren(e,b)})},_updateCheckedParents:function(j,f){var c,i=this,b=i.getParent(j),k=b?b.data(l):d,e=f;b&&k!==!1&&(a(j).parent().children(g).each(function(){return a(this).data(l)!==f?(e=null,!0):void 0}),c=i._getCheckBox(b),a(c).swidget("CheckBox")?a(c).swidget("CheckBox").checked(e):e?c.attr(h,h):c.removeAttr(h),b.data(l,e),i._updateCheckedParents(b,f))},_toggleItem:function(b,d){var a=this;v.ie&&setTimeout(c(a._focus,a)),a._isDisabled(b)||(a._isExpanded(b)?a._collapse(b,!0):a._expand(b,!0,!1))},_getToggleEl:function(b){return a(b).children(".sui-treeview-item-content").first().children(".sui-treeview-item-toggle").first()},_expand:function(b,n,k,f){var h,i,l,c=this,m=c.options.animation,d=b.children("ul.sui-treeview-item-list").first();if(d&&!(a(d).length<=0)&&(c.hasChildren(b)||!(d.children(g).length<=0)))return c._isExpanded(b)?void(e(f)&&f.call(c)):void(n&&(l=c.trigger("expand",{element:b,item:b.data(j)}),l.isDefaultPrevented())||(d.stop(!0,!0),d.hide(),h=c._getToggleEl(b),i=function(){d.slideDown(m.enabled&&!k?m.expandDuration:0,function(){b.addClass(r),h.css(z,J),a(h).find("span").addClass("sui-treeview-item-toggle-expanded").removeClass("sui-treeview-item-toggle-collapsed"),e(f)&&f.call(c)})},c._isLoaded(b)?i():c._loadItem(b,k,i)))},_loadItem:function(b,m,f){var c,d=this,h=b.data(j),g=b.children("ul.sui-treeview-item-list").first(),l=b.data(C),i=d._getToggleEl(b),k=h.items||h.children;!g||a(g).length<=0||(n(k)||T(k)||k instanceof w?(a(i).addClass(u),c=w.create(k),g.data(y,c),c.on(s+d._eventNS,function(h){a(i).removeClass(u),b.data(t,!0),d._renderItems(this,g,b,!0,m,function(){d.trigger("dataBound",{dataSource:c,element:b}),e(f)&&f.call(d)})}),c.read({parent:h})):l&&l instanceof Q?(a(i).addClass(u),c=new Q(l.options),g.data(y,c),c.on(s+d._eventNS,function(h){a(i).removeClass(u),b.data(t,!0),d._renderItems(this,g,b,!0,m,function(){d.trigger("dataBound",{dataSource:c,element:b}),e(f)&&f.call(d)})}),c.read({parent:h})):(b.data(t,!0),e(f)&&f.call(d)))},_expandPathSegment:function(b,f,g,c,d){var i,h,a=this,j=b.length;return c>j?void(e(d)&&d.call(a)):(i=[].slice.call(b).splice(0,c),h=a.getByPath(i),void(a._isExpanded(h)?a._expandPathSegment(b,f,g,c+1,d):a._expand(h,f,g,function(){a._expandPathSegment(b,f,g,c+1,d)})))},_expandPath:function(a,b,c,d){this._expandPathSegment(a,b,c,1,d)},_collapse:function(b,h){var e,f,c=this,g=c.options.animation,d=b.children("ul.sui-treeview-item-list").first();!c._isExpanded(b)||!d||a(d).length<=0||h&&(f=c.trigger("collapse",{element:b,item:b.data(j)}),f.isDefaultPrevented())||(e=c._getToggleEl(b),d.stop(!0,!0),d.slideUp(g.enabled?g.collapseDuration:0,function(){b.removeClass(r),a(e).find("span").removeClass("sui-treeview-item-toggle-expanded").addClass("sui-treeview-item-toggle-collapsed")}))},_keydown:function(b){var a=this,c=!0;switch(b.keyCode){case p.UP:a._move(N,b);break;case p.DOWN:a._move(M,b);break;case p.LEFT:a._move(U,b);break;case p.RIGHT:a._move(X,b);break;case p.SPACE:a._selectedItem&&a._toggleCheck(a._selectedItem,!0);break;case p.ENTER:a._selectedItem&&a._activateItem(a._selectedItem,!0);break;default:c=!1}c&&b.preventDefault()},_getExpandedItems:function(c){var b=this;return b.element.children("."+i).add(b.element.find("li.sui-treeview-item-list-expanded > ul.sui-treeview-list > li."+i)).filter(function(){var c=b.getParent(a(this));return!c||b._isFullyExpanded(c)}).not("."+q)},_getNextItem:function(d){var b=this._getExpandedItems(),e=a(b).length,c=a(b).index(d);return e-1>c?a(a(b).get(c+1)):void 0},_getPrevItem:function(d){var b=this._getExpandedItems(),c=a(b).index(d);return c>0?a(a(b).get(c-1)):void 0},_getPrevParentItem:function(d){var c=this,b=c.getParent(d);return b&&a(b).length>0?c._isDisabled(b)?c._getPrevParentItem(b):b:void 0},_move:function(e,i){var h,d,b=this,c=b._selectedItem;b.getParent(a(c));if(f(c))if(e===N)d=b._getPrevItem(c);else if(e===M)d=b._getNextItem(c);else if(e===U){if(b._isExpanded(c))return void b._collapse(c,!0,!1);d=b._getPrevParentItem(c)}else{if(!b._isExpanded(c))return void b._expand(c,!0,!1);h=a(c).children("ul.sui-treeview-list").first(),h.length>0&&(d=a(h).children("li:not(."+q+")").first())}else d=a(b.element).find(g).first();f(d)&&a(d).length>0&&b._selectItem(d,!1,!0)},_getByPath:function(b,c){var e=this,d=b.shift(),f=a(c.children(g)[d]);return b.length>0?e._getByPath(b,f.children(k)):a(c.children(g)[d])},_getListItem:function(b){return a(n(b)?this.getByPath(b,this.element):b)},getByPath:function(b){return this._getByPath([].slice.call(b),a(this.element))},isLoaded:function(b){return a(this._getListItem(b)).data(t)===!0},hasChildren:function(a){return this._hasChildren(this.getItem(a))},getItem:function(b){return a(this._getListItem(b)).data(j)},getDataSource:function(b){return a(this._getListItem(b)).data(C)},getChildrenDataSource:function(e){var b=this,c=b._getListItem(e);return b.hasChildren(b.getItem(c))&&b.isLoaded(c)?a(c).children("ul.sui-treeview-item-list").first().data(y):d},getParent:function(b){return a(this._getListItem(b)).data(D)},getDataSourceIndex:function(b){return a(this._getListItem(b)).data(L)},_getIndex:function(b){var c=this._getListItem(b);return a(c).index()},getPath:function(e){var c=this,b=a(e),d=[];do d.unshift(c._getIndex(b)),b=c.getParent(b);while(b&&b.length>0);return d},updateIndetermined:function(d){var b=this,c=b._getListItem(d);f(c)?b._updateChecked(a(c)):a(b.element).children(g).each(function(){b._updateChecked(a(this))})},expanded:function(){var a=this,b=[].slice.call(arguments),g=o(b[0])?b.shift():d,c=b[0],e=a._getListItem(c);return f(g)?void(g?n(c)?a._expandPath([].slice.call(c),!1,!1,b[1]):a._expand(e,!1,!1,b[1]):a._collapse(e,!1)):a._isExpanded(e)},selected:function(){var a,b=this,c=[].slice.call(arguments);return c.length>0?(a=b._getListItem(c[0]),void(a&&a.length>0&&b._selectItem(a,!0,!1))):b._selectedItem},enabled:function(){var e=this,c=[].slice.call(arguments),g=o(c[0])?c.shift():d,b=e._getListItem(c[0]);if(b&&!(a(b).length<=0))return f(g)?void(g?b.removeClass(q):b.addClass(q)):!e._isDisabled(b)},checked:function(){var e=this,c=[].slice.call(arguments),g=o(c[0])?c.shift():d,b=e._getListItem(c[0]);if(b&&!(a(b).length<=0))return f(g)?void e._setChecked(b,g,!1):b.data(l)},_insertedItem:function(b,c){return b instanceof a?a(b):n(b)?this._getListItem(b):T(b)?this._renderItem(b,c).listItem:void 0},_beforeRemoveChild:function(b){var c=this;b&&b.children(k).children(g).length<=1&&(a(c._getToggleEl(b)).css(z,O),b.removeClass(r))},_refreshParent:function(c){var b=a(c).parents(g).first();a(c).data(D,b&&b.length>0?b:null)},load:function(c,d){var b=this,a=b._getListItem(c);a&&a.length>0&&b._loadItem(a,!1,d)},append:function(){var c,d,h,b=this,i=[].slice.call(arguments),j=i[0],m=n(j)||j instanceof a,l=i[1],g=i[2];if(f(l)){if(d=b._getListItem(l),!(d&&a(d).length>0))return;h=a(d).children(k).first()}else d=null,h=b.element;c=b._insertedItem(j,d),c&&(m&&b._beforeRemoveChild(b.getParent(c)),!d||b._isExpanded(d)?(c.appendTo(h),b._refreshParent(c),e(g)&&g.call(b,c)):b.hasChildren(d)?b._isExpanded(d)?(c.appendTo(h),b._refreshParent(c),e(g)&&g.call(b,c)):b._expand(d,!1,!1,function(){c.appendTo(h),b._refreshParent(c),e(g)&&g.call(b,c)}):b._isExpanded(d)?(c.appendTo(h),b._refreshParent(c),e(g)&&g.call(b,c)):(a(b._getToggleEl(d)).css(z,J),d.removeClass(r),c.appendTo(h),b._refreshParent(c),b._expand(d,!1,!1,function(){e(g)&&g.call(b,c)})))},insertBefore:function(){var c,b=this,f=[].slice.call(arguments),e=f[0],g=n(e)||e instanceof a,d=b._getListItem(f[1]);return d&&d.length>0&&(c=b._insertedItem(e,b.getParent(d)))?(g&&b._beforeRemoveChild(b.getParent(c)),c.insertBefore(d),b._refreshParent(c),c):void 0},insertAfter:function(){var c,b=this,f=[].slice.call(arguments),e=f[0],g=n(e)||e instanceof a,d=b._getListItem(f[1]);return d&&d.length>0&&(c=b._insertedItem(e,b.getParent(d)))?(g&&b._beforeRemoveChild(b.getParent(c)),c.insertAfter(d),b._refreshParent(c),c):void 0},remove:function(d){var c=this,e=n(d)||d instanceof a,b=c._getListItem(d);c.getParent(b);return b&&b.length>0?(c._destroyItems(a(b).children(k).first()),e&&c._beforeRemoveChild(c.getParent(b)),b.remove(),!0):!1},destroy:function(){var b=this,c=b.element,d=b._eventNS;b.dataSource&&b.dataSource.off(s+d),b._destroyItems(c),b._blurTimeout&&(clearTimeout(b._blurTimeout),b._blurTimeout=null),a(c).off(d).remove(),b._original.unwrap(),b._original.show(),b._original=b._wrapper=b._selectedItem=b._activeItem=null,F.fn.destroy.call(b)}}),G.defaults=K,b.ui.plugin("TreeView",G)}(jQuery,shield,this);
!function(a,b,c,d){var m,g,e=b.ui.Widget,n=(b.Class,b.Constants,b.format),w=document,f=(a.extend,a.map,a.each,a.proxy),k=b.error,l=b.is["boolean"],x=b.is.object,u=b.is.defined,s=(b.is.integer,b.to["int"],b.to.number,b.support,"close"),r="minimize",q="maximize",p="resize",o="scroll",t="pin",h="overflow",v="hidden",i="px",j="center";m={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:d,cls:d,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:d,maxHeight:d,minWidth:200,minHeight:150},draggable:!0,position:d,appendToBody:!1,events:{}},g=e.extend({init:function(){e.fn.init.apply(this,arguments),u(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var t,s,c=this,d=c.options,o=d.cls,p=d.dieOnError,m=d.titleBarButtons,j=d.resizable,i=d.draggable,h=d.content,r=d.position,g=a(c.element),q=!1;return"div"!==a(g).prop("tagName").toLowerCase()?void k("shieldWindow: Underlying element is not DIV",p):m&&m.length>0&&!b.ui.Button?void k("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",p):(c._eventNS="shieldWindow"+c.getInstanceId(),d.appendToBody?(g.appendTo(w.body),c._parentIsBody=!0):c._parentIsBody="body"==g.parent().prop("tagName").toLowerCase(),c._origHtml=g.html(),g.empty(),g.addClass("sui-window"+(o?" "+o:"")),g.css({width:d.width,height:d.height,position:"absolute"}),c.titleBarEl=t=a('<div class="sui-window-titlebar"><div class="sui-window-title">'+d.title+'</div><div class="sui-window-icons"></div></div>').appendTo(g),c._initTitleBarButtons(),c.contentEl=s=a('<div class="sui-window-content"></div>').appendTo(g),c._fixContent(),x(r)?g.css(r):q=!0,j&&(l(j)&&(j={}),c.resizable=new b.ui.Resizable(g,j),c.resizable.on("resized",f(c._fixContent,c))),i&&(l(i)&&(i={}),i.handle=c.titleBarEl,c.draggable=new b.ui.Draggable(g,i)),c._hasIframe=!1,h?h.template?h.template.dataUrl?a.ajax({url:h.template.dataUrl,dataType:"json",success:function(a,b,d){c.content(n(h.template.body,a))},error:function(d,a,b){c.content("Error occured while reading URL: "+a+" - "+b)}}):c.content(n(h.template.body,h.template.data)):h.remote?h.remote.iframe?(c._hasIframe=!0,c.content('<iframe class="sui-window-iframe" src="'+h.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>')):c.contentEl.load(h.remote.url):c.content(c._origHtml):c.content(c._origHtml),c._minimized=!1,c._maximized=!1,c._destroyed=!1,c.pinned(!!d.pinned),c.visible(!!d.visible),void(q&&c.center()))},_initTitleBarButtons:function(){var g,h,b,d,c=this,i=c.options,e=i.titleBarButtons,j=i.modal;if(c.titleBarButtons={},e&&e.length>0){for(g=c.titleBarEl.find(".sui-window-icons"),d=0;d<e.length;d++)b=e[d],("pin"===b||"minimize"===b||"maximize"===b||"close"===b)&&(j&&"close"!==b||(h="pin"==b?"_onPin":"minimize"==b?"_onMinimize":"maximize"==b?"_onMaximize":b,c.titleBarButtons[b]=a('<button type="button"><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+b+'"></div></button>').appendTo(g).shieldButton({cls:"sui-window-button",events:{click:f(c[h],c,!0)}}).swidget()));g.on("mousedown",function(a){return a.preventDefault(),a.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var a,c=this,b=c.titleBarButtons;for(a in b)b.hasOwnProperty(a)&&b[a].destroy();c.titleBarButtons={}},_createModal:function(){var b=this,d=a(b._parentIsBody?c:b.element.parent()),e=a(d).scrollTop(),f=a(d).scrollLeft();b._lockScroll(),b._modal=a('<div class="sui-window-modal"></div>').insertBefore(b.element).css({top:e,left:f})},_closeModal:function(){var b=this;a(b._modal).remove(),b._unlockScroll()},_lockScroll:function(){var b=this,c=b.element.parent();b._scrollTop=a(c).scrollTop(),b._scrollLeft=a(c).scrollLeft(),b._parentOverflow=a(c).css(h),c.css(h,v).scrollTop(b._scrollTop).scrollLeft(b._scrollLeft)},_unlockScroll:function(){var a=this,b=a.element.parent();b.css(h,a._parentOverflow).scrollTop(a._scrollTop).scrollLeft(a._scrollLeft)},_fixContent:function(){var b=this;a(b.contentEl).outerWidth(a(b.element).innerWidth()).innerHeight(a(b.element).innerHeight()-a(b.titleBarEl).outerHeight()),b._hasIframe&&a(b.contentEl).find(".sui-window-iframe").width(a(b.contentEl).width()).height(a(b.contentEl).height())},center:function(){var d=this,e=a(d.element);b.ui.Position.Set(e,d._parentIsBody?c:e.parent(),{source:j,target:j})},position:function(b){a(this.element).css(b)},getHeight:function(){a(this.element).css("height")},getWidth:function(){a(this.element).css("width")},getPosition:function(){var b=a(this.element);return{left:b.css("left"),top:b.css("top")}},content:function(){var d=this,b=a(d.contentEl),c=[].slice.call(arguments);return c.length>0?(b.empty(),void b.append(c[0])):b.html()},resize:function(b){a(this.element).css(b),this._fixContent()},_scroll:function(f){var b=this,d=a(b.element),e=b._parentIsBody;b._pinned&&d.css({left:b.originalPosition.left+a(e?c:d.parent()).scrollLeft()+i,top:b.originalPosition.top+a(e?c:d.parent()).scrollTop()+i})},_onPin:function(a){this.pinned(!this._pinned,a)},pinned:function(){var d,i,b=this,e=[].slice.call(arguments),g=a(b.element),j=b._parentIsBody,h=b.titleBarEl,k=h.find(".sui-window-button-icon-pin").length>0?h.find(".sui-window-button-icon-pin"):h.find(".sui-window-button-icon-unpin");return e.length<=0?b._pinned:(d=!!e[0],void(b._pinned!=d&&(e[1]&&(i=b.trigger(t,{pinned:d}),i.isDefaultPrevented())||(b._pinned=d,k.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),k.addClass(b._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),b._pinned?(b.originalPosition=g.position(),a(j?c:g.parent()).on(o+"."+b._eventNS,f(b._scroll,b)),b.draggable&&b.draggable.enabled(!1)):(a(j?c:g.parent()).off(o+"."+b._eventNS),b.origininalPosition=null,b.draggable&&b.draggable.enabled(!0))))))},_onMinimize:function(a){this.minimized(!0,a)},minimized:function(){var e,c,h,b=this,f=[].slice.call(arguments),g=a(b.element),i=a(b.contentEl),d=b.titleBarEl,j=b.titleBarButtons.minimize;return f.length<=0?b._minimized:(c=!!f[0],void(b._minimized!=c&&(f[1]&&(h=b.trigger(r,{minimized:c}),h.isDefaultPrevented())||(b._minimized=c,e=d.find(".sui-window-button-icon-minimize").length>0?d.find(".sui-window-button-icon-minimize"):d.find(".sui-window-button-icon-unminimize"),e.removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),e.addClass(b._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),c?(b._onMinCurrHeight=g.height(),g.height(d.height()),i.hide(),b.resizable&&b.resizable.enabled(!1)):(g.height(b._onMinCurrHeight),i.show(),b.resizable&&b.resizable.enabled(!0)),j&&j.visible(!c)))))},_onMaximize:function(b){var a=this;a._minimized?a.minimized(!1,b):a.maximized(!a._maximized,b)},maximized:function(){var g,k,h,l,b=this,i=[].slice.call(arguments),d=a(b.element),e=b._beforeMaximize,j=a(b.titleBarEl);return i.length>0?(g=!!i[0],k=!!i[1],b._minimized&&b.minimized(!1,!1),b._maximized!=g&&(k&&(l=b.trigger(q,{maximized:g}),l.isDefaultPrevented())||(b._maximized=!!g,h=j.find(".sui-window-button-icon-maximize").length>0?j.find(".sui-window-button-icon-maximize"):j.find(".sui-window-button-icon-restore"),h.removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),h.addClass(b._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),b._maximized?(b._beforeMaximize={top:d.css("top"),left:d.css("left"),width:d.width(),height:d.height()},b.resize({width:"100%",height:a(b._parentIsBody?c:d.parent()).height()}),b._lockScroll(),b.center(),b._parentIsBody&&a(c).on(p+"."+b._eventNS,f(b._onWinResizeMax,b))):(e&&(d.css({top:e.top,left:e.left}),b.resize({width:e.width,height:e.height})),b._unlockScroll(),b._parentIsBody&&(a(c).off(p+"."+b._eventNS),b._winResize=null)))),void 0):b._maximized},_onWinResizeMax:function(){var b=this;a(b.element).height(a(c).height()),b._fixContent()},close:function(c){var a,b=this;c&&(a=b.trigger(s),a.isDefaultPrevented())||b.destroy()},visible:function(){var a=this,b=[].slice.call(arguments);if(!a._destroyed)return b.length>0&&a.options.modal&&(b[0]?a._createModal():a._closeModal()),e.fn.visible.apply(a,arguments)},destroy:function(){var b=this,c=b.options.cls;b.visible(!1),b._destroyed=!0,b.resizable&&(b.resizable.destroy(),b.resizable=null),b.draggable&&(b.draggable.destroy(),b.draggable=null),b._destroyTitleBarButtons(),b.maximized(!1),b.pinned(!1),a(b.element).removeClass("sui-window"+(c?" "+c:"")),b._origHtml&&(a(b.element).html(b._origHtml),b._origHtml=null),e.fn.destroy.call(b)}}),g.defaults=m,b.ui.plugin("Window",g)}(jQuery,shield,this);
!function(a,b,U,e){var z,t,u=b.ui.Widget,p=(b.Class,document),c=a.proxy,O=a.each,J=(a.extend,a.map),T=Math.min,Q=Math.max,R=(b.guid,b.iid),S=b.error,K=b.format,q=b.is.defined,d=(b.is["boolean"],b.is.integer,b.is.func,b.is.array,b.is.object,b.is.string,b.support.browser,"disabled"),k="multiple",A="change",C="dragover",E="dragleave",n="drop",G="select",y="remove",P="click",l="error",B="progress",L="abort",D="load",v="upload",I="complete",w="POST",j="pending",H="uploading",i="complete",F="removing",h="error",M={pending:"&#10005;",uploading:"&#10754;",complete:"&#10005;",removing:"&#10754;",error:"&#10005;"},N="shieldUploadIframe",f="sui-upload",o=f+"-target-input",x=f+"-status",s=f+"-file",g=f+"-xhr",r=f+"-form",m=f+"-iframe";z={cls:e,enabled:!0,async:{enabled:!1,autoUpload:!1,batch:!1,save:{url:e,field:e},remove:{url:e,field:"fileNames",method:w}},multiple:!0,files:{enabled:!0,initial:e,template:"{name} ({size} bytes)"},messages:{drop:"Drop files here to upload",select:"Select files ...",upload:"Upload files"},events:{}},t=u.extend({init:function(){u.fn.init.apply(this,arguments);var s,l,e,h,j,w,g,b=this,f=b.options,v=f.dieOnError,r=f.cls,o=f.messages,t=f.files,q=t.enabled,m=t.initial,x=f.async.enabled;return b._xhr2support=s=!!(new XMLHttpRequest).upload,b._original=e=a(b.element),"input"!=e.prop("tagName").toLowerCase()||"file"!=e.attr("type").toLowerCase()?void S("shieldUpload: Must be initialized from an input with type file.",v):(g=b._eventNS=".shieldUpload"+b.getInstanceId(),e.wrap("<form>").closest("form").get(0).reset(),e.unwrap(),e.removeAttr(d),f.multiple?e.attr(k,k):e.removeAttr(k),b.element=l=e.wrap("<div/>").parent(),l.addClass("sui-upload"+(r?" "+r:"")),b._selectButtonDiv=e.wrap("<div/>").parent().append('<span class="sui-upload-button-text">'+o.select+"</span>").addClass("sui-upload-button"),b._dropFilesDiv=h=b._selectButtonDiv.wrap('<div class="sui-upload-dropfiles"/>').parent(),b._dropText=j=a('<div class="sui-upload-drop">'+o.drop+"</div>").appendTo(h).hide(),q&&(b._fileList=w=a('<ul class="sui-upload-files"/>').appendTo(l).hide()),b._uploadButtonDiv=a('<button class="sui-upload-button sui-upload-button-upload" type="button">'+o.upload+"</button>").appendTo(l).click(c(b._uploadClicked,b)).hide(),e.on(A+g,c(b._fileSelected,b)),x&&s&&(e.on(n+g,c(b._fileChanged,b)),a(p).on(C+g,function(a){a.stopPropagation(),a.preventDefault(),j.show()}).on(E+g,function(a){a.stopPropagation(),a.preventDefault(),j.hide()}).on(n+g,function(a){a.stopPropagation(),a.preventDefault(),j.hide()}),h.on(C,function(){h.addClass("sui-upload-dropfiles-hover")}).on(E,function(){h.removeClass("sui-upload-dropfiles-hover")}).on(n,c(b._fileChanged,b))),q&&m&&m.length>0&&b._addFiles(m,i),void b.enabled(f.enabled))},refresh:function(a){this.refreshWithElement(this._original,a)},_getFiles:function(c){var d,b=[],e=a(c.target);return c.originalEvent.dataTransfer&&c.originalEvent.dataTransfer.files?b=c.originalEvent.dataTransfer.files:c.target.files?b=c.target.files:(b=a.makeArray(e.prop("files")),b.length?!q(b[0].name)&&b[0].fileName&&O(b,function(b,a){a.name=a.fileName,a.size=a.fileSize}):(d=e.prop("value"),b=d?[{name:d.replace(/^.*\\/,"")}]:[])),b},_getPendingFileItems:function(){return a(this._fileList).children("li.sui-upload-file-"+j)},_getFileInfoList:function(b){return this._toFileInfoList(a(b).data(s))},_toFileInfoList:function(a){var b,d=this,c=[];if(d._isSingleFile(a))c.push(a);else if(d._isFileList(a))for(b=0;b<a.length;b++)c.push(a[b]);return c},_isSingleFile:function(a){return a&&a.name},_isFileList:function(a){return a.length&&a.length>0},_fileSelected:function(f){var e,g,b=this,h=b.options,m=h.async.enabled,o=b._xhr2support,i=b._eventNS,d=a(f.target),l=b._getFiles(f);g=b.trigger(G,{files:b._toFileInfoList(l)}),g.isDefaultPrevented()||(e=a('<input type="file" name="'+d.attr("name")+'"/>').insertAfter(d).on(A+i,c(b._fileSelected,b)),h.multiple&&e.attr(k,k),m&&o&&e.on(n+i,c(b._fileChanged,b)),d.hide(),b._addFiles(l,j,d))},_fileChanged:function(b){var c,a=this,d=a._getFiles(b);b.stopPropagation(),b.preventDefault(),a._dropText.hide(),a._dropFilesDiv.removeClass("sui-upload-dropfiles-hover"),c=a.trigger(G,{files:a._toFileInfoList(d)}),c.isDefaultPrevented()||a._addFiles(d,j)},_addFiles:function(c,f,g){var b,a=this,d=a.options,e=d.async;if(d.files.enabled){if(e.enabled&&!e.batch||!d.multiple)for(b=0;b<c.length;b++)a._renderFile(c[b],f,g);else a._renderFile(c,f,g);a._afterAddRemoveFiles(),e.autoUpload&&a._uploadAllPending()}},_renderFile:function(h,j,k){var d,e,b=this,l=b.options,m=l.files.template,g=(b._fileList,b._toFileInfoList(h)),f=[];for(d=a('<li class="sui-upload-file"/>').data(s,h).appendTo(b._fileList),k&&d.data(o,k),e=0;e<g.length;e++)f.push(a('<span class="sui-upload-file-text"/>').append(K(m,g[e]))),e<g.length-1&&f.push(a('<span class="sui-upload-file-text-sep">,</span>'));l.async.enabled&&b._xhr2support?f.push(a('<span class="sui-upload-file-progress"/>')):d.addClass("sui-upload-file-no-progress"),f.push(a('<span class="sui-upload-file-action"/>').on(P,c(b._actionClicked,b,d))),d.append(f),b._setStatus(d,j),j===i&&b._setProgress(d,100)},_afterAddRemoveFiles:function(){var a=this,c=a.options.async,b=a._fileList,d=a._uploadButtonDiv;b.children("li").length>0?b.show():b.hide(),a._getPendingFileItems().length>0?c.enabled&&!c.autoUpload&&d.show():d.hide()},_actionClicked:function(b,c){var a=this,d=a._getStatus(b);a._enabled&&(d==H?a._abortUpload(b,c):d==F?a._abortRemove(b,c):a._removeItem(b,c))},_removeItem:function(c,p){var e,n,b=this,q=(b.options,b.options.async),g=q.remove,f=b._getStatus(c),m=b._getFileInfoList(c),k=c.data(o),r=b._eventNS,s={};n=b.trigger(y,{domEvent:p,status:f,files:m}),n.isDefaultPrevented()||(e=function(){a(k)[0]===a(b._original)[0]?a(k).hide().attr(d,d):a(k).off(r).remove(),a(c).off(r).remove(),b._afterAddRemoveFiles()},f==j||f==h?e():f==i&&(q.enabled?(b._setStatus(c,F),s[g.field]=J(m,function(a){return a.name}),a.support.cors=!0,a.ajax({method:g.method,url:g.url,traditional:!0,data:s}).done(function(a,b,c){e()}).fail(function(d,e,a){b.trigger(l,{domEvent:p,operation:y,listItem:c,files:m,jqXHR:d,textStatus:e,errorThrown:a,responseText:a});n.isDefaultPrevented()||b._setStatus(c,h)})):e()))},_abortRemove:function(a,b){},_setStatus:function(c,b){a(c).data(x,b).removeClass("sui-upload-file-pending sui-upload-file-uploading sui-upload-file-complete sui-upload-file-removing sui-upload-file-error").addClass("sui-upload-file-"+b).children(".sui-upload-file-action").first().html(M[b]),this._afterAddRemoveFiles()},_getStatus:function(b){return a(b).data(x)},_uploadAllPending:function(){var d,h,b,c=this,i=c.options,f=(i.async,c._getPendingFileItems()),g=(f||[]).length,e=[];if(!(1>g)){for(b=0;g>b;b++)d=a(f[b]).data(s),c._isSingleFile(d)?e.push(d):c._isFileList(d)&&(e=e.concat(d));if(h=c.trigger(v,{files:e}),!h.isDefaultPrevented())for(b=0;g>b;b++)c._startUpload(f[b])}},_startUpload:function(d){var k,n,e,h,i,j,f,b=this,v=b.options,x=v.async,s=x.save,t=s.field,u=b._getFileInfoList(d);if(q(t)||(t=a(b._original).attr("name")),b._setProgress(d,0),b._xhr2support){for(n=new FormData,e=new XMLHttpRequest,f=0;f<u.length;f++)n.append(t,u[f]);a(d).data(g,e),e.open(w,s.url),e.upload.addEventListener(B,c(b._onUploadProgress,b,d)),e.upload.addEventListener(D,c(b._onUploadComplete,b,d)),e.upload.addEventListener(l,c(b._onUploadError,b,d)),e.onreadystatechange=function(){4==e.readyState&&200!=e.status&&b._onUploadError(d)},e.send(n)}else k=a(d).data(o),k&&(h=N+R(),i=a('<iframe name="'+h+'" id="'+h+'" class="sui-upload-iframe" width="0" height="0" tabindex="-1"/>').appendTo(p.body),a(i).on(D,c(b._onIframeComplete,b,d)),j=a('<form class="sui-upload-form" method="'+w+'" enctype="multipart/form-data" action="'+s.url+'" target="'+h+'" tabindex="-1"/>').appendTo(p.body).append(k),a(d).data(m,i).data(r,j),j.get(0).submit());b._setStatus(d,H)},_abortUpload:function(b,e){var d,c=this;c._xhr2support?(d=a(b).data(g),d&&d.abort(),a(b).removeData(g)):c._cleanupIframeForm(b),c._setStatus(b,j),c._setProgress(b,0),c.trigger(L,{listItem:b,files:c._getFileInfoList(b)})},_cleanupIframeForm:function(b){var f=this,c=a(b).data(m),d=a(b).data(r),e=a(b).data(o);c&&a(c).attr("src","about:blank"),d&&(e&&a(e).prependTo(f._selectButtonDiv),a(d).remove(),a(b).removeData(r)),c&&(a(c).remove(),a(b).removeData(m))},_setProgress:function(c,d){var b=a(c).children(".sui-upload-file-progress").first();b&&b.length>0&&b.empty().append(a('<span class="sui-upload-file-progress-inner"/>').css("width",d+"%"))},_onUploadProgress:function(b,a){var c=this,d=a.lengthComputable?T(100,Q(0,a.loaded/a.total*100)):e;q(d)&&c._setProgress(b,d),c.trigger(B,{domEvent:a,percentage:d,listItem:b,files:c._getFileInfoList(b)})},_onUploadComplete:function(b){var c=this;c._setStatus(b,i),c._setProgress(b,100),a(b).removeData(g),c.trigger(I,{listItem:b,files:c._getFileInfoList(b)})},_onIframeComplete:function(b,n){var g,c=this,j=a(b).data(m),k=c._getFileInfoList(b),d="";if(j){try{d=a(j).contents().find("body").html()}catch(f){d=f?f.description||f.message:""}d?(g=c.trigger(l,{domEvent:n,operation:v,listItem:b,files:k,status:e,responseText:d}),g.isDefaultPrevented()||(c._setStatus(b,h),c._setProgress(b,0))):(c._setStatus(b,i),c._setProgress(b,100),c.trigger(I,{listItem:b,files:k})),c._cleanupIframeForm(b)}},_onUploadError:function(b,j){var k,e,f,m,i,c=this,n=c._getStatus(b),d=a(b).data(g);n!==h&&(d&&(k=d.readyState,e=d.status,f=d.responseText,m=d.statusText),a(b).removeData(g),i=c.trigger(l,{domEvent:j,operation:v,listItem:b,files:c._getFileInfoList(b),status:e,responseText:f}),i.isDefaultPrevented()||(c._setStatus(b,h),c._setProgress(b,0)))},_uploadClicked:function(b){var a=this;a._enabled&&a._uploadAllPending()},enabled:function(){var b,c,e=this,f=a(e.element),g=[].slice.call(arguments);return g.length>0?(b=!!g[0],c=f.find('input[type="file"]').filter(":visible"),b?(f.removeAttr(d).removeClass("sui-upload-disabled"),a(c).removeAttr(d)):(f.attr(d,d).addClass("sui-upload-disabled"),a(c).attr(d,d)),e._enabled=b,void 0):e._enabled},destroy:function(){var b=this,e=a(b.element),c=a(b._original),f=b._eventNS;a(p).off(f),a(e).find('input[type="file"]').off(f),a(e).find('input[type="file"]').not(c).remove(),b._uploadButtonDiv&&(a(b._uploadButtonDiv).remove(),b._uploadButtonDiv=null),b._dropText&&(a(b._dropText).remove(),b._dropText=null),b._fileList&&(a(b._fileList).remove(),b._fileList=null),a(e).find(".sui-upload-button-text").remove(),a(c).unwrap(),a(c).unwrap(),a(c).unwrap(),b._selectButtonDiv=b._dropFilesDiv=null,a(c).removeAttr(d).show(),u.fn.destroy.call(b)}}),t.defaults=z,b.ui.plugin("Upload",t)}(jQuery,shield,this);
!function(a,b,P,h){var K,f,d,e,s,C,z,o,J,D,y=b.ui.Widget,Q=b.Class,r=(b.Constants.KeyCode,document),i=a.proxy,g=(a.each,a.extend),N=(a.map,a.contains),p=(a.trim,b.error,b.guid),O=b.format,x=b.is.defined,c=(b.is["boolean"],b.is.integer,b.is.func),L=(b.is.array,b.is.object,b.is.string),U=b.to.string,n=b.support.browser,B="disabled",R="focus",S="blur",F="click",M="keyup",G="keydown",H="formatting",k="text-formatting",w="font-and-colors",u="alignment",t="lists",E="links",m="sui-editor",q="styleWithCSS",l=function(){},j=function(c,a,b,d){if(d)try{c.execCommand(a,!1,b)}catch(e){l("execCommand({0}, {1}) error: {3}",a,b,e)}else c.execCommand(a,!1,b)},v="about",I="About",T=function(b){return a("<div/>").html(b).text()},A="&#x44;&#x65;&#x6D;&#x6F;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x20;&#x62;&#x79;";A+="&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;",K=function(d,c){var f,e,g,b;!d.getSelection&&c.selection&&(f=null,d.getSelection=function(){return null!=f?f:f=new g},c.createRange=function(){return new e},c.attachEvent("onkeydown",function(){return d.getSelection().setRangeAt(0,new e(!0))}),c.attachEvent("onselectionchange",function(){var a,b,f;try{b=new e(!0)}catch(g){}if(b)return d.getSelection().setRangeAt(0,b),a=c.selection.createRange().parentElement(),"INPUT"===a.tagName||"TEXTAREA"===a.tagName?(f=d.getSelection().getRangeAt(0),a.selectionStart=f.selectionStart,a.selectionEnd=f.selectionEnd,a.selectionEnd):void 0}),e=d.Range=function(){var d=function(b){var a=this;b?a.range=c.selection.createRange():(a.range=c.body.createTextRange(),a.collapse(!0)),a.init()};return d.END_TO_END="EndToEnd",d.END_TO_START="EndToStart",d.START_TO_END="StartToEnd",d.START_TO_START="StartToStart",d.prototype.init=function(){var f,e,c,g,h,d,a=this;return e=a.range.parentElement(),a.commonAncestorContainer=e,a.collapsed=0===a.compareBoundaryPoints("StartToEnd",a),d=a.range.duplicate(),d.moveToElementText(e),f=a.range.text.length>0?0:1,h=b.findLength("StartToStart",d,a.range),c=b.findNodeByPos(e,h,f),a.startContainer=c.el,a.startOffset=c.offset,g=b.findLength("StartToEnd",d,a.range),c=b.findNodeByPos(e,g,1),a.endContainer=c.el,a.endOffset=c.offset,a.selectionStart=b.findLength("StartToStart",d,a.range,a),a.selectionEnd=b.findLength("StartToEnd",d,a.range,a),a.selectionEnd},d.prototype.select=function(){return this.range.select()},d.prototype.setStart=function(c,e){var f,a,d=this;return b.getText(c).length>=e&&e>=0?(a=d.range.duplicate(),3===c.nodeType&&(f=b.findPosFromNode(c),a.moveToElementText(c.parentNode),a.moveStart("character",f+e)),-1===d.range.compareEndPoints("StartToEnd",a)&&d.range.setEndPoint("EndToStart",a),d.range.setEndPoint("StartToStart",a)):void 0},d.prototype.setEnd=function(a,d){var e,c,f=this;return b.getText(a).length>=d&&d>=0?(c=f.range.duplicate(),3===a.nodeType&&(e=b.findPosFromNode(a),c.moveToElementText(a.parentNode),c.moveStart("character",e+d)),f.range.setEndPoint("EndToStart",c)):void 0},d.prototype.selectNodeContents=function(a){return this.range.moveToElementText(a)},d.prototype.collapse=function(b){var a=this;return b?a.range.setEndPoint("EndToStart",a.range):a.range.setEndPoint("StartToEnd",a.range)},d.prototype.deleteContents=function(){},d.prototype.insertNode=function(b){var d=b.outerHTML?b.outerHTML:a(c.createElement("div")).append(a(b).clone()).html();this.range.pasteHTML(d)},d.prototype.compareBoundaryPoints=function(a,b){return this.range.compareEndPoints(a,b.range)},d.prototype.cloneRange=function(){var a=new d;return a.range=this.range.duplicate(),a.init(),a},d.prototype.detach=function(){return delete this.range},d.prototype.getBoundingClientRect=function(){var a=this.range.getBoundingClientRect();return{width:a.right-a.left,height:a.bottom-a.top,left:a.left,right:a.right,bottom:a.bottom,top:a.top}},d.prototype.toString=function(){return this.range.text||""},d}(),g=function(){var a=function(){this.selection=c.selection,this.ranges=[],this.init()};return a.prototype.init=function(){var c,b,d,f,g,a=this;return a.rangeCount=a.ranges.length,a.rangeCount?(b=a.ranges[0],null==a.prev&&(a.prev=b),0===b.compareBoundaryPoints(e.END_TO_END,a.prev)?(f=["end","start"],c=f[0],d=f[1]):(g=["start","end"],c=g[0],d=g[1]),a.anchorNode=b[""+c+"Container"],a.anchorOffset=b[""+c+"Offset"],a.focusNode=b[""+d+"Container"],a.focusOffset=b[""+d+"Offset"],a.isCollapsed=a.anchorNode===a.focusNode,a.isCollapsed):void 0},a.prototype.getRangeAt=function(a){return this.ranges[a]},a.prototype.setRangeAt=function(b,c){var a=this;return a.prev=a.ranges[b],a.ranges[b]=c,a.init()},a.prototype.removeAllRanges=function(){return this.ranges=[],this.init()},a.prototype.addRange=function(g){var e,a,f,b,c,d=this;for(d.ranges.push(g),d.init(),b=d.ranges,c=[],a=0,f=b.length;f>a;a++)e=b[a],c.push(e.select());return c},a.prototype.deleteFromDocument=function(){return this.selection.clear()},a.prototype.toString=function(){return this.ranges[0].toString()},a}(),b={convertLineBreaks:function(a){return a.replace(/\r\n/g,"\n")},stripLineBreaks:function(a){return a.replace(/\r\n/g,"")},getText:function(a){return a.innerText||a.nodeValue},findLength:function(d,e,c,f){var a=e.duplicate();switch(d){case"StartToStart":a.setEndPoint("EndToStart",c);break;case"StartToEnd":a.setEndPoint("EndToEnd",c)}return f?b.convertLineBreaks(a.text).length:b.stripLineBreaks(a.text).length},findNodeByPos:function(d,e,a){var b,c;return null==a&&(a=0),c={length:0,el:d,offset:0},b=function(j,f,h,a){var c,d,i,g,e;for(g=j.childNodes,e=[],d=0,i=g.length;i>d;d++)if(c=g[d],!a.found)if(3===c.nodeType){if(a.length+c.length+h>f){a.found=!0,a.el=c,a.offset=f-a.length;break}e.push(a.length+=c.length)}else e.push(b(c,f,h,a));return e},b(d,e,a,c),c},findPosFromNode:function(c){var a,b,d;return b={pos:0},d=c.parentNode,a=function(i,g,d){var b,e,h,f,c;for(f=i.childNodes,c=[],e=0,h=f.length;h>e;e++)if(b=f[e],!d.found){if(b===g){d.found=!0;break}3===b.nodeType?c.push(d.pos+=b.length):b.hasChildNodes()?c.push(a(b,g,d)):c.push(void 0)}return c},a(d,c,b),b.pos}})},A+="&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x3C;&#x2F;&#x61;&#x3E;",f=Q.extend({init:function(c,a){var b=this;b._editor=c,L(a)?o[a]?(b.options=g(!0,{},o[a]),b._default=!0):b.options={name:a}:b.options=g(!0,{},a)},_renderButton:function(f){var c=this,h=c._editor,b=c.options,d=b.name,i=b.tooltip||h.options.messages[d]||"",e=b.cls||(c._default?"sui-editor-toolbar-icon sui-editor-toolbar-icon-"+d.toLowerCase():""),j=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-button",events:{click:function(a){c.execute(a)}}},b.controlOptions);c._widget=a('<button type="button" title="'+i+'"/>').append(b.text?b.text:"<span"+(e?' class="'+e+'"':"")+">&nbsp;</span>").appendTo(f).shieldButton(j).swidget()},render:function(d){var b,c=this,e=c.options,f=e.template;x(f)?(b=O.call(c._editor,f,e),b&&a(b).appendTo(d)):c._renderButton(d)},execute:function(g){var a=this,b=a.options,d=b.exec,e=a._editor,f=function(){e._afterCommand(g,b,a.getState())};c(d)?d.call(e,b,f):a.executeCommand(f)},executeCommand:function(d){var a=this,e=a.options,f=e.styleWithCSS,g=a._editor,b=g.getDoc();g.focus(!0),f&&j(b,q,!0,!0),j(b,e.name,a.getValue()),f&&j(b,q,!1,!0),c(d)&&d.call(a)},getValue:function(){},setValue:function(a){},getState:function(){var m,g,i,d,e=this,f=e.options,a=f.name,h=f.styleWithCSS,n=e._editor,b=n.getDoc(),k=!0;h&&j(b,q,!0,!0);try{k=b.queryCommandIndeterm(a)}catch(c){l("queryCommandIndeterm({0}) error: {1}",a,c)}try{m=b.queryCommandEnabled(a)}catch(c){l("queryCommandEnabled({0}) error: {1}",a,c)}if(!k)try{g=b.queryCommandState(a)}catch(c){l("queryCommandState({0}) error: {1}",a,c)}try{i=b.queryCommandSupported(a)}catch(c){l("queryCommandSupported({0}) error: {1}",a,c)}try{d=b.queryCommandValue(a)}catch(c){l("queryCommandValue({0}) error: {1}",a,c)}return h&&j(b,q,!1,!0),{enabled:m,state:g,supported:i,value:d}},refresh:function(){var b,a=this,c=a._widget;a._default&&(b=a.getState(),b.enabled?(c.visible(!0),a.setValue(b)):c.visible(!1))},destroy:function(){var a=this;a._widget&&c(a._widget.destroy)&&a._widget.destroy(),a._default=a._widget=h}}),f.getInstance=function(c,a){var b="";return L(a)?o[a]&&(b=o[a].controlType):b=a.controlType,b||(b=f),new b(c,a)},d=f.extend({}),e=d.extend({init:function(a,b){d.fn.init.call(this,a,b),g(!0,this.options,{controlOptions:{toggle:!0}})},getValue:function(){return!!this._widget.checked()},setValue:function(a){this._widget.checked(!!a.state)}}),C=f.extend({render:function(c){var b=this,d=(b._editor,b.options),e=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-select",events:{itemclick:function(a){b.execute(a)}}},d.controlOptions);b._widget=a("<select/>").appendTo(c).shieldComboBox(e).swidget()},getValue:function(){return this._widget.value()},setValue:function(a){this._widget.value(a.value)}}),s=C.extend({init:function(a,b){C.fn.init.call(this,a,b),g(!0,this.options,{controlOptions:{editable:!1}})}}),z=f.extend({render:function(c){var b=this,d=b._editor,e=b.options,f=g(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-colorpicker",events:{select:function(a){this.hidePalette(),b.execute(a),setTimeout(function(){d.focus()})}}},e.controlOptions);b._widget=a('<input type="color"/>').appendTo(c).shieldColorPicker(f).swidget()},getValue:function(){return this._widget.value().hex()},setValue:function(a){this._widget.value(a.value)}}),o={formatBlock:{name:"formatBlock",group:H,controlType:s,controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",dataSource:{data:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}]}}},removeFormat:{name:"removeFormat",group:H,controlType:d},fontName:{name:"fontName",group:w,styleWithCSS:!0,controlType:s.extend({setValue:function(d){var b,a=this._widget,c=d.value;if(a.value(c),a.selected()<0)for(b=0;b<a.dataSource.view.length;b++)if(a.dataSource.view[b].text==c){a.selected(b);break}a.selected()<0&&a.selected(0)}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"",dataSource:{data:[{text:"Inherited",value:""},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:'"Courier New",Courier,monospace'},{text:"Georgia",value:"Georgia,serif"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:'"Times New Roman",Times,serif'},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}]}}},fontSize:{name:"fontSize",group:w,controlType:s.extend({setValue:function(a){this._widget.value(U(a.value)||"")}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"inherit",dataSource:{data:[{text:"Inherited",value:""},{text:"1 (8pt)",value:"1"},{text:"2 (10pt)",value:"2"},{text:"3 (12pt)",value:"3"},{text:"4 (14pt)",value:"4"},{text:"5 (18pt)",value:"5"},{text:"6 (24pt)",value:"6"},{text:"7 (36pt)",value:"7"}]}}},foreColor:{name:"foreColor",group:w,controlType:z,controlOptions:{value:"transparent",palette:"basic",showLetter:!0}},backColor:{name:"backColor",group:w,styleWithCSS:!0,controlType:z,controlOptions:{value:"transparent",palette:"basic"}},bold:{name:"bold",group:k,controlType:e},italic:{name:"italic",group:k,controlType:e},underline:{name:"underline",group:k,controlType:e},strikeThrough:{name:"strikeThrough",group:k,controlType:e},subscript:{name:"subscript",group:k,controlType:e},superscript:{name:"superscript",group:k,controlType:e},justifyLeft:{name:"justifyLeft",group:u,controlType:e.extend({setValue:function(a){this._widget.checked(!!(n.ie?a.value:a.state))}})},justifyCenter:{name:"justifyCenter",group:u,controlType:e.extend({setValue:function(a){this._widget.checked(!!(n.ie?a.value:a.state))}})},justifyRight:{name:"justifyRight",group:u,controlType:e.extend({setValue:function(a){this._widget.checked(!!(n.ie?a.value:a.state))}})},justifyFull:{name:"justifyFull",group:u,controlType:e.extend({setValue:function(a){this._widget.checked(!!(n.ie?a.value:a.state))}})},insertUnorderedList:{name:"insertUnorderedList",group:t,controlType:d},insertOrderedList:{name:"insertOrderedList",group:t,controlType:d},indent:{name:"indent",group:t,controlType:d},outdent:{name:"outdent",group:t,controlType:d},createLink:{name:"createLink",group:E,controlType:d.extend({executeCommand:function(e){var g,f=this,h=f._editor,d=p();g=new b.ui.Window(a('<div id="'+d+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Hyperlink",titleBarButtons:["close"],modal:!0,height:220,content:{template:{body:function(){return[a('<div style="padding:5px; margin-top:10px;"/>').append(a("<label>URL</label>"),a('<input type="text" value="http://" id="url_'+d+'" class="sui-input" style="width:220px;"/>')),a('<div style="padding:5px;"/>').append(a("<label>Tooltip</label>"),a('<input type="text" value="" id="title_'+d+'" class="sui-input" style="width:220px;"/>')),a('<div style="padding:5px;"/>').append(a("<label>New window</label>"),a('<input type="checkbox" id="newwin_'+d+'"/>')),a('<div class="sui-editor-dialog-buttons"/>').append(new b.ui.Button(a("<button>Insert</button>"),{events:{click:function(){h.focus(!0),j(h.getDoc(),"createLink",d);var b=a(h.element).find('a[href="'+d+'"]'),k=a("#url_"+d).val(),i=(a("#text_"+d).val(),a("#title_"+d).val()),l=a("#newwin_"+d).swidget().checked();a(b).attr("href",k),i&&a(b).attr("title",i),l&&a(b).attr("target","_blank"),g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element,new b.ui.Button(a("<button>Cancel</button>"),{events:{click:function(){g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element)]}}},appendToBody:!0,events:{close:function(){a("#"+d).remove(),c(e)&&e.call(f)}}}),a("#newwin_"+d).shieldCheckBox()}})},unlink:{name:"unlink",group:E,controlType:d},insertImage:{name:"insertImage",group:"insert-img",controlType:d.extend({executeCommand:function(e){var g,f=this,h=f._editor,d=p();g=new b.ui.Window(a('<div id="'+d+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Image",titleBarButtons:["close"],modal:!0,height:260,content:{template:{body:function(){return[a('<div style="padding:5px; margin-top:10px;"/>').append(a("<label>URL</label>"),a('<input type="text" value="http://" id="url_'+d+'" class="sui-input" style="width:220px;"/>')),a('<div style="padding:5px;"/>').append(a("<label>Alternate text</label>"),a('<input type="text" value="" id="alt_'+d+'" class="sui-input" style="width:220px;"/>')),a('<div style="padding:5px;"/>').append(a("<label>Width</label>"),a('<input type="text" value="" id="width_'+d+'" class="sui-input" style="width:80px;"/>')),a('<div style="padding:5px;"/>').append(a("<label>Height</label>"),a('<input type="text" value="" id="height_'+d+'" class="sui-input" style="width:80px;"/>')),a('<div class="sui-editor-dialog-buttons"/>').append(new b.ui.Button(a("<button>Insert</button>"),{events:{click:function(){var b=a("#alt_"+d).val(),i=a("#width_"+d).val(),j=a("#height_"+d).val();h.paste('<img src="'+a("#url_"+d).val()+'"'+(b?' alt="'+b+'"':"")+(i?' width="'+i+'"':"")+(j?' height="'+j+'"':"")+"/>"),g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element,new b.ui.Button(a("<button>Cancel</button>"),{events:{click:function(){g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element)]}}},appendToBody:!0,events:{close:function(){a("#"+d).remove(),c(e)&&e.call(f)}}})}})},about:{name:v,group:"view-"+v,tooltip:I,controlType:d.extend({refresh:function(){},executeCommand:function(d){var f,g=this,e=p();f=new b.ui.Window(a('<div id="'+e+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-"+v,title:I,titleBarButtons:["close"],modal:!0,height:170,content:{template:{body:function(){return[a('<div style="text-align:center; margin-top:30px; margin-bottom:20px;"/>').append(T(A)),a('<div class="sui-editor-dialog-buttons"/>').append(new b.ui.Button(a("<button>Close</button>"),{events:{click:function(){f.close(),a("#"+e).remove(),c(d)&&d.call(g)}}}).element)]}}},appendToBody:!0,events:{close:function(){a("#"+e).remove(),c(d)&&d.call(g)}}})}})},viewHtml:{name:"viewHtml",group:"view-html",controlType:d.extend({refresh:function(){},executeCommand:function(e){var g,h,f=this,i=f._editor,d=p();h=function(){a("#"+d+" textarea").outerHeight(a("#"+d+" .sui-window-content").innerHeight()-a("#"+d+" .sui-editor-dialog-buttons").outerHeight()-10)},g=new b.ui.Window(a('<div id="'+d+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-viewhtml",title:"View HTML",titleBarButtons:["close"],modal:!0,resizable:{events:{resize:h}},content:{template:{body:function(){return[a("<div/>").append(a('<textarea class="sui-input"/>').val(i.value())),a('<div class="sui-editor-dialog-buttons"/>').append(new b.ui.Button(a("<button>Update</button>"),{events:{click:function(){i.value(a("#"+d+" textarea").val()),g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element,new b.ui.Button(a("<button>Cancel</button>"),{events:{click:function(){g.close(),a("#"+d).remove(),c(e)&&e.call(f)}}}).element)]}}},appendToBody:!0,events:{close:function(){a("#"+d).remove(),c(e)&&e.call(f)}}}),h()}})}},J={cls:h,enabled:!0,domain:h,height:h,commands:["formatBlock","bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","createLink","unlink","insertImage"],messages:{format:"Format",removeFormat:"Remove formatting",fontName:"Font family",fontSize:"Font size",foreColor:"Font color",backColor:"Background color",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyLeft:"Align text left",justifyCenter:"Center text",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Add indentation",outdent:"Remove indentation",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",viewHtml:"View HTML"},events:{}},D=y.extend({init:function(){y.fn.init.apply(this,arguments),x(this.initialOptions.commands)&&(this.options.commands=this.initialOptions.commands);var c,f,g,h,b=this,j=a(b.element),d=b.options,e=(d.dieOnError,d.cls),k=d.height;b._original=c=a(b.element),b._tagname=f=c.prop("tagName").toLowerCase(),h=b._eventNS=".shieldEditor"+b.getInstanceId(),"textarea"==f?(b._inline=!1,b._wrapper=c.wrap('<div class="'+m+" "+m+"-default"+(e?" "+e:"")+'"/>').parent(),c.hide(),b._iframe=g=a('<iframe class="sui-editor-iframe" frameborder="0"'+(x(k)?' height="'+k+'"':"")+"/>").appendTo(b._wrapper),b.value(c.val(),!0),b.element=j=g.contents().find("body")):(b._inline=!0,j.addClass(m+" "+m+"-inline"+(e?" "+e:"")).attr("autocorrect","off").prop("contentEditable","true")),b._initEvents(),K(b.getWin(),b.getDoc()),b._initToolbar(),a(r).on(F+h,i(b._docClick,b)),b.enabled(d.enabled)},refresh:function(a){this.refreshWithElement(this._original,a)},_isInside:function(b){var c=this,d=a(c.element),e=a(c._toolbar);return d.get(0)===b||e.get(0)===b||N(d.get(0),b)||N(e.get(0),b)},_saveSelections:function(){var a,b,c=this;if(!c._inline&&(c._savedSelections=[],a=c.getSelection(),a.rangeCount))for(b=0;b<a.rangeCount;b++)c._savedSelections.push(a.getRangeAt(b))},_restoreSelections:function(){var c,b,a=this;if(!a._inline){if(a._savedSelections&&a._savedSelections.length>0)for(c=a.getSelection(),c.removeAllRanges(),b=0;b<a._savedSelections.length;b++)c.addRange(a._savedSelections[b]);a._savedSelections=[]}},_focus:function(f){var c=this,d=a(c.element),e=a(c._toolbar);c._inline&&(e.show(),d.addClass("sui-editor-inline-focus"),c._toolbarMoved||(e.outerWidth(d.outerWidth()),b.ui.Position.Set(e,d,{source:"left bottom",target:"left top"}))),c._restoreSelections(),c.refreshCommands()},_blur:function(a){this._saveSelections(),this._syncValue()},_click:function(a){this.refreshCommands(),this._syncValue()},_docClick:function(b){var a=this;a._inline&&!a._isInside(b.target)&&a._hideToolbar()},_keydown:function(a){this.trigger(G,{domEvent:a})},_keyup:function(b){var a=this;a.refreshCommands(),a._syncValue(),a.trigger(M,{domEvent:b})},_syncValue:function(){var c,b=this,d=[].slice.call(arguments);b._inline||(c=d.length>0?d[0]:a(b.getDoc().body).html(),a(b._original).val(c))},_hideToolbar:function(){this._toolbar.hide(),this.element.removeClass("sui-editor-inline-focus")},_initToolbar:function(){var e,d,c,j,h,g,i,b=this,k=b.options,l=k.commands,m=(k.messages,b._inline);for(b._commands=[],b._toolbar=e=a('<div class="sui-editor-toolbar"/>'),m?(e.addClass("sui-editor-toolbar-inline").appendTo(r.body),e.shieldDraggable().swidget().one("drag",function(){b._toolbarMoved=!0}),b._toolbarMoved=!1):e.prependTo(b._wrapper),i=0;i<l.length;i++)d=f.getInstance(b,l[i]),c=d.options.group,g=c&&j===c?h:a('<div class="sui-editor-toolbar-group"/>').appendTo(e),d.render(g),b._commands.push(d),j=c,h=g;d=f.getInstance(b,v),c=d.options.group,g=c&&j===c?h:a('<div class="sui-editor-toolbar-group"/>').appendTo(e),d.render(g),b._commands.push(d),j=c,h=g,m&&e.hide()},_afterCommand:function(b,c,d){var a=this;a._syncValue(),a.refreshCommands(),a.trigger("execute",{domEvent:b,commandName:c.name,state:d})},refreshCommands:function(){var b,a=this,c=a._commands||[];if(!a._refreshInProgress){for(a.focus(!0),a._refreshInProgress=!0,b=0;b<c.length;b++)c[b].refresh();a._refreshInProgress=!1}},_getWrapper:function(){return this._inline?this.element:this._wrapper},getWin:function(){var b,c=this;return c._inline?P:(b=a(c._iframe).get(0),b.contentWindow||b.contentDocument)},getDoc:function(){var b,c=this;return c._inline?r:(b=a(c._iframe).get(0),(b.contentWindow||b.contentDocument).document)},focus:function(d){var c,b=this;d&&!b._refreshInProgress&&(b._refreshInProgress=!0,c=!0),a(b._inline?b.element:b.getDoc().body).focus(),!b._inline&&n.ie&&b._focus(),c&&(b._refreshInProgress=!1)},execute:function(a,b){j(this.getDoc(),a,b)},createRange:function(){return this.getDoc().createRange()},getRange:function(){return this.focus(!0),this.getSelection().getRangeAt(0)},getSelection:function(){return this.getWin().getSelection()},selectRange:function(c){var a=this,b=a.getSelection();a.focus(!0),b.removeAllRanges(),b.addRange(c),a.refreshCommands()},paste:function(g){var b,c,d,h,a=this,e=a.getDoc(),f=a.getRange();for(a.focus(!0),f.deleteContents(),b=e.createElement("div"),b.innerHTML=g,c=e.createDocumentFragment();d=b.firstChild;)h=c.appendChild(d);f.insertNode(c),a._syncValue(),a.refreshCommands()},update:function(){this._syncValue()},_initEvents:function(d){var b=this,c=b._eventNS,e=n.ie;x(d)||(d=b._inline?b.element:e?b.getWin():b.getDoc()),e&&(b.getDoc().body.onbeforedeactivate=null),a(d).off(c).on(R+c,i(b._focus,b)).on(F+c,i(b._click,b)).on(G+c,i(b._keydown,b)).on(M+c,i(b._keyup,b)),e?b.getDoc().body.onbeforedeactivate=i(b._blur,b):a(d).on(S+c,i(b._blur,b))},_getIframeStyles:function(){return"<style>html,body{margin:0;padding:2px;}p{margin:0 0 0.5em 0;}</style>"},_getIframeScripts:function(){var a=this.options.domain;return a?'<script type="text/javascript">document.domain="'+a+'";</script>':""},value:function(){var c,d,f,b=this,e=[].slice.call(arguments),g=b._inline,h=a(b._original);return e.length>0?(d=e[0],f=e[1],g?a(b.element).html(d):(c=b.getDoc(),c.open().write('<head><meta charset="utf-8">'+b._getIframeStyles()+b._getIframeScripts()+'</head><body contenteditable="true" autocorrect="off">'+d+"</body>"),c.close(),b.element=b.getDoc().body,b._initEvents(c),f||b._syncValue(d)),void 0):g?h.html():a(b.getDoc().body).html()},hide:function(){a(this._getWrapper()).hide()},show:function(){a(this._getWrapper()).show()},isVisible:function(){return a(this._getWrapper()).is(":visible")},enabled:function(){var c,b=this,d=[].slice.call(arguments);return d.length>0?(c=!!d[0],c?a(b._getWrapper()).removeAttr(B).removeClass("sui-editor-disabled"):a(b._getWrapper()).attr(B,B).addClass("sui-editor-disabled"),b._enabled=c,void 0):b._enabled},destroy:function(){var c,b=this,g=b.options,f=g.cls,d=b._original,e=b._eventNS;if(a(b.element).off(e),a(r).off(e),b._toolbar){if(b._commands){for(c=0;c<b._commands.length;c++)b._commands[c].destroy();b._commands=h}a(b._toolbar).off(e).remove(),b._toolbar=h}b._inline?a(d).removeAttr("autocorrect").prop("contentEditable","off").removeClass(m+" "+m+"-inline"+(f?" "+f:"")):(a(b._iframe).remove(),a(d).unwrap(),a(d).show()),b._inline=b._iframe=b._wrapper=b._toolbarMoved=b._savedSelections=h,y.fn.destroy.call(b)}}),D.defaults=J,b.ui.plugin("Editor",D)}(jQuery,shield,this);